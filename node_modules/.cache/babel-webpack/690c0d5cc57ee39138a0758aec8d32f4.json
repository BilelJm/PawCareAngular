{"ast":null,"code":"import { Pet } from '../../pet/pet';\nimport { Appointment } from '../appointment';\nimport { User } from '../user';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../appointment.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../../pet/pet.service\";\nimport * as i4 from \"../user.service\";\nimport * as i5 from \"ngx-toastr\";\n\nfunction AppointmentUpdateComponent_option_49_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 30);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const pet_r2 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", pet_r2.idPet);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(pet_r2.name);\n  }\n}\n\nfunction AppointmentUpdateComponent_option_54_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 30);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const user_r3 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", user_r3.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(user_r3.username);\n  }\n}\n\nexport let AppointmentUpdateComponent = /*#__PURE__*/(() => {\n  class AppointmentUpdateComponent {\n    constructor(appointmentService, route, router, petService, userService, toastr) {\n      this.appointmentService = appointmentService;\n      this.route = route;\n      this.router = router;\n      this.petService = petService;\n      this.userService = userService;\n      this.toastr = toastr;\n      this.pets = [];\n      this.users = [];\n      this.appointment = new Appointment();\n      this._color = \"light\";\n      this.appointment.pet = new Pet();\n      this.appointment.doctor = new User();\n    }\n\n    get color() {\n      return this._color;\n    }\n\n    set color(color) {\n      this._color = color !== \"light\" && color !== \"dark\" ? \"light\" : color;\n    }\n\n    ngOnInit() {\n      this.id = this.route.snapshot.params['id'];\n      this.getPets();\n      this.getAllDoctors();\n      this.appointmentService.getAppointmentById(this.id).subscribe(data => {\n        this.appointment = data;\n      });\n    }\n\n    onSubmit() {\n      this.appointmentService.updateAppointment(this.id, this.appointment).subscribe(data => {\n        this.toastr.success('Appointment updated successfully.', 'Success');\n        this.goToAppointmentList();\n      }, error => {\n        this.toastr.error('An error has occured.', 'Error');\n        console.log(error);\n      });\n      console.log(this.appointment);\n    }\n\n    goToAppointmentList() {\n      this.router.navigate(['/admin/appointment']);\n    }\n\n    getPets() {\n      this.petService.getPetsList().subscribe(data => {\n        this.pets = data;\n      });\n    }\n\n    getAllDoctors() {\n      this.userService.getAllDoctors().subscribe(data => {\n        this.users = data;\n      });\n    }\n\n  }\n\n  AppointmentUpdateComponent.ɵfac = function AppointmentUpdateComponent_Factory(t) {\n    return new (t || AppointmentUpdateComponent)(i0.ɵɵdirectiveInject(i1.AppointmentService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.PetService), i0.ɵɵdirectiveInject(i4.UserService), i0.ɵɵdirectiveInject(i5.ToastrService));\n  };\n\n  AppointmentUpdateComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AppointmentUpdateComponent,\n    selectors: [[\"app-appointment-update\"]],\n    inputs: {\n      color: \"color\"\n    },\n    decls: 58,\n    vars: 12,\n    consts: [[1, \"relative\", \"flex\", \"flex-col\", \"min-w-0\", \"break-words\", \"w-full\", \"mb-6\", \"shadow-lg\", \"rounded\", 3, \"ngClass\"], [1, \"rounded-t\", \"mb-0\", \"px-4\", \"py-3\", \"border-0\"], [1, \"flex\", \"flex-wrap\", \"items-center\"], [1, \"relative\", \"w-full\", \"px-4\", \"max-w-full\", \"flex-grow\", \"flex-1\"], [1, \"font-semibold\", \"text-lg\", 3, \"ngClass\"], [1, \"card-category\"], [1, \"block\", \"w-full\", \"overflow-x-auto\"], [1, \"table-responsive\", \"p-4\"], [3, \"ngSubmit\"], [1, \"form-group\", \"mb-4\"], [1, \"input-label\"], [\"type\", \"datetime-local\", \"id\", \"startDate\", \"name\", \"startDate\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"datetime-local\", \"id\", \"endDate\", \"name\", \"endDate\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"reason\", 1, \"input-label\"], [\"id\", \"reason\", \"name\", \"reason\", 1, \"form-select\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"RoutineCheckup\"], [\"value\", \"Vaccination\"], [\"value\", \"Surgery\"], [\"for\", \"location\", 1, \"input-label\"], [\"id\", \"location\", \"name\", \"location\", 1, \"form-select\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"Locally\"], [\"value\", \"VeterinaryOffice\"], [\"type\", \"text\", \"row\", \"3\", \"id\", \"notes\", \"name\", \"notes\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"number\", \"id\", \"prix\", \"name\", \"prix\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"id\", \"pet\", \"name\", \"pet\", 1, \"form-select\", 3, \"ngModel\", \"ngModelChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"pet\"], [\"id\", \"doctor\", \"name\", \"doctor\", 1, \"form-select\", 3, \"ngModel\", \"ngModelChange\"], [1, \"form-group\"], [\"type\", \"submit\", 1, \"btn\", \"btn-success\"], [3, \"value\"]],\n    template: function AppointmentUpdateComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵelementStart(3, \"div\", 3);\n        i0.ɵɵelementStart(4, \"h3\", 4);\n        i0.ɵɵtext(5, \" Appointment \");\n        i0.ɵɵelement(6, \"p\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"div\", 6);\n        i0.ɵɵelementStart(8, \"div\", 7);\n        i0.ɵɵelementStart(9, \"form\", 8);\n        i0.ɵɵlistener(\"ngSubmit\", function AppointmentUpdateComponent_Template_form_ngSubmit_9_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵelementStart(10, \"div\", 9);\n        i0.ɵɵelementStart(11, \"label\", 10);\n        i0.ɵɵtext(12, \"Start Date\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"input\", 11);\n        i0.ɵɵlistener(\"ngModelChange\", function AppointmentUpdateComponent_Template_input_ngModelChange_13_listener($event) {\n          return ctx.appointment.startDate = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"div\", 9);\n        i0.ɵɵelementStart(15, \"label\", 10);\n        i0.ɵɵtext(16, \"End Date\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"input\", 12);\n        i0.ɵɵlistener(\"ngModelChange\", function AppointmentUpdateComponent_Template_input_ngModelChange_17_listener($event) {\n          return ctx.appointment.endDate = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"div\", 9);\n        i0.ɵɵelementStart(19, \"label\", 13);\n        i0.ɵɵtext(20, \"Reason\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"select\", 14);\n        i0.ɵɵlistener(\"ngModelChange\", function AppointmentUpdateComponent_Template_select_ngModelChange_21_listener($event) {\n          return ctx.appointment.reason = $event;\n        });\n        i0.ɵɵelementStart(22, \"option\", 15);\n        i0.ɵɵtext(23, \"RoutineCheckup\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"option\", 16);\n        i0.ɵɵtext(25, \"Vaccination\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"option\", 17);\n        i0.ɵɵtext(27, \"Surgery\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"div\", 9);\n        i0.ɵɵelementStart(29, \"label\", 18);\n        i0.ɵɵtext(30, \"Location\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"select\", 19);\n        i0.ɵɵlistener(\"ngModelChange\", function AppointmentUpdateComponent_Template_select_ngModelChange_31_listener($event) {\n          return ctx.appointment.location = $event;\n        });\n        i0.ɵɵelementStart(32, \"option\", 20);\n        i0.ɵɵtext(33, \"Locally\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(34, \"option\", 21);\n        i0.ɵɵtext(35, \"VeterinaryOffice\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(36, \"div\", 9);\n        i0.ɵɵelementStart(37, \"label\", 10);\n        i0.ɵɵtext(38, \"Notes\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(39, \"textarea\", 22);\n        i0.ɵɵlistener(\"ngModelChange\", function AppointmentUpdateComponent_Template_textarea_ngModelChange_39_listener($event) {\n          return ctx.appointment.notes = $event;\n        });\n        i0.ɵɵtext(40, \"                    \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(41, \"div\", 9);\n        i0.ɵɵelementStart(42, \"label\", 10);\n        i0.ɵɵtext(43, \"Price\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(44, \"input\", 23);\n        i0.ɵɵlistener(\"ngModelChange\", function AppointmentUpdateComponent_Template_input_ngModelChange_44_listener($event) {\n          return ctx.appointment.prix = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(45, \"div\", 9);\n        i0.ɵɵelementStart(46, \"label\", 10);\n        i0.ɵɵtext(47, \"Pet\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(48, \"select\", 24);\n        i0.ɵɵlistener(\"ngModelChange\", function AppointmentUpdateComponent_Template_select_ngModelChange_48_listener($event) {\n          return ctx.appointment.pet.idPet = $event;\n        });\n        i0.ɵɵtemplate(49, AppointmentUpdateComponent_option_49_Template, 2, 2, \"option\", 25);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(50, \"div\", 9);\n        i0.ɵɵelementStart(51, \"label\", 26);\n        i0.ɵɵtext(52, \"Doctor\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(53, \"select\", 27);\n        i0.ɵɵlistener(\"ngModelChange\", function AppointmentUpdateComponent_Template_select_ngModelChange_53_listener($event) {\n          return ctx.appointment.doctor.id = $event;\n        });\n        i0.ɵɵtemplate(54, AppointmentUpdateComponent_option_54_Template, 2, 2, \"option\", 25);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(55, \"div\", 28);\n        i0.ɵɵelementStart(56, \"button\", 29);\n        i0.ɵɵtext(57, \"Submit\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngClass\", ctx.color === \"light\" ? \"bg-white\" : \"bg-red-900 text-white\");\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngClass\", ctx.color === \"light\" ? \"text-blueGray-700\" : \"text-white\");\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"ngModel\", ctx.appointment.startDate);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.appointment.endDate);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.appointment.reason);\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"ngModel\", ctx.appointment.location);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngModel\", ctx.appointment.notes);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.appointment.prix);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.appointment.pet.idPet);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.pets);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.appointment.doctor.id);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.users);\n      }\n    },\n    styles: [\".switch[_ngcontent-%COMP%]{position:relative;display:block;vertical-align:top;width:100px;height:30px;padding:3px;margin:0 10px 10px 0;background:linear-gradient(to bottom,#eeeeee,#FFFFFF 25px);background-image:-webkit-linear-gradient(top,#eeeeee,#FFFFFF 25px);border-radius:18px;box-shadow:inset 0 -1px #fff,inset 0 1px 1px #0000000d;cursor:pointer;box-sizing:content-box}.switch-input[_ngcontent-%COMP%]{position:absolute;top:0;left:0;opacity:0;box-sizing:content-box}.switch-label[_ngcontent-%COMP%]{position:relative;display:block;height:inherit;font-size:10px;text-transform:uppercase;background:#eceeef;border-radius:inherit;box-shadow:inset 0 1px 2px #0000001f,inset 0 0 2px #00000026;box-sizing:content-box}.switch-label[_ngcontent-%COMP%]:before, .switch-label[_ngcontent-%COMP%]:after{position:absolute;top:50%;margin-top:-.5em;line-height:1;transition:inherit;box-sizing:content-box}.switch-label[_ngcontent-%COMP%]:before{content:attr(data-off);right:11px;color:#aaa;text-shadow:0 1px rgba(255,255,255,.5)}.switch-label[_ngcontent-%COMP%]:after{content:attr(data-on);left:11px;color:#fff;text-shadow:0 1px rgba(0,0,0,.2);opacity:0}.switch-input[_ngcontent-%COMP%]:checked ~ .switch-label[_ngcontent-%COMP%]{background:#E1B42B;box-shadow:inset 0 1px 2px #00000026,inset 0 0 3px #0003}.switch-input[_ngcontent-%COMP%]:checked ~ .switch-label[_ngcontent-%COMP%]:before{opacity:0}.switch-input[_ngcontent-%COMP%]:checked ~ .switch-label[_ngcontent-%COMP%]:after{opacity:1}.switch-handle[_ngcontent-%COMP%]{position:absolute;top:4px;left:4px;width:28px;height:28px;background:linear-gradient(to bottom,#FFFFFF 40%,#f0f0f0);background-image:-webkit-linear-gradient(top,#FFFFFF 40%,#f0f0f0);border-radius:100%;box-shadow:1px 1px 5px #0003}.switch-handle[_ngcontent-%COMP%]:before{content:\\\"\\\";position:absolute;top:50%;left:50%;margin:-6px 0 0 -6px;width:12px;height:12px;background:linear-gradient(to bottom,#eeeeee,#FFFFFF);background-image:-webkit-linear-gradient(top,#eeeeee,#FFFFFF);border-radius:6px;box-shadow:inset 0 1px #00000005}.switch-input[_ngcontent-%COMP%]:checked ~ .switch-handle[_ngcontent-%COMP%]{left:74px;box-shadow:-1px 1px 5px #0003}.switch-label[_ngcontent-%COMP%], .switch-handle[_ngcontent-%COMP%]{transition:All .3s ease;-webkit-transition:All .3s ease;-moz-transition:All .3s ease;-o-transition:All .3s ease}.custom-select[_ngcontent-%COMP%]{background-color:#f8f9fa;color:#495057;border-color:#ced4da}.input-group[_ngcontent-%COMP%]{max-width:300px;margin:0 auto}.download-btn[_ngcontent-%COMP%]{margin-left:auto;display:block}.input-label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{display:block;width:100%;height:calc(.75rem + 1.5em + 2px);padding:.375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#495057;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem #007bff40}.btn[_ngcontent-%COMP%]{font-size:1rem;font-weight:400;line-height:1.5;text-align:center;text-decoration:none;vertical-align:middle;cursor:pointer;border:1px solid transparent;border-radius:.25rem;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;width:10%}.btn-success[_ngcontent-%COMP%]{color:#fff;background-color:#28a745;border-color:#28a745}.btn-success[_ngcontent-%COMP%]:hover{color:#fff;background-color:#218838;border-color:#1e7e34}.fileinputs[_ngcontent-%COMP%]{position:relative}.fileinputs[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;top:0;left:0;opacity:0;width:100%;height:100%;z-index:1}.fileinputs[_ngcontent-%COMP%]   .filelabel[_ngcontent-%COMP%]{display:inline-block;cursor:pointer;background-color:#f8f9fa;border:1px solid #ced4da;border-radius:.25rem;padding:.375rem .5rem;font-size:1rem;font-weight:400;line-height:1.5;color:#495057;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;width:40%;height:calc(.75rem + 1.25em + 2px)}.fileinputs[_ngcontent-%COMP%]   .filelabel[_ngcontent-%COMP%]:hover{border-color:#80bdff}.fileinputs[_ngcontent-%COMP%]   .filetext[_ngcontent-%COMP%]{display:inline-block;width:60%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}\"]\n  });\n  return AppointmentUpdateComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}