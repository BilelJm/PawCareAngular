{"ast":null,"code":"import { Pet } from '../../pet/pet';\nimport { Appointment } from '../appointment';\nimport { User } from '../user';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../appointment.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../../pet/pet.service\";\nimport * as i4 from \"../user.service\";\nimport * as i5 from \"ngx-toastr\";\nimport * as i6 from \"src/app/views/auth/_services/storage.service\";\nimport * as i7 from \"@angular/common\";\nimport * as i8 from \"@angular/forms\";\n\nfunction AppointmentUpdateComponent_option_56_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const pet_r5 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", pet_r5.idPet);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(pet_r5.name);\n  }\n}\n\nfunction AppointmentUpdateComponent_option_61_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const user_r6 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", user_r6.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(user_r6.username);\n  }\n}\n\nfunction AppointmentUpdateComponent_div_63_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"button\", 33);\n    i0.ɵɵtext(2, \"Submit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AppointmentUpdateComponent_div_64_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"button\", 34);\n    i0.ɵɵtext(2, \"Submit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport let AppointmentUpdateComponent = /*#__PURE__*/(() => {\n  class AppointmentUpdateComponent {\n    constructor(appointmentService, route, router, petService, userService, toastr, storageService) {\n      this.appointmentService = appointmentService;\n      this.route = route;\n      this.router = router;\n      this.petService = petService;\n      this.userService = userService;\n      this.toastr = toastr;\n      this.storageService = storageService;\n      this.pets = [];\n      this.users = [];\n      this.appointment = new Appointment();\n      this._color = \"light\";\n      this.appointment.pet = new Pet();\n      this.appointment.doctor = new User();\n      this.idUser = storageService.getUser().id;\n    }\n\n    get color() {\n      return this._color;\n    }\n\n    set color(color) {\n      this._color = color !== \"light\" && color !== \"dark\" ? \"light\" : color;\n    }\n\n    ngOnInit() {\n      this.id = this.route.snapshot.params['id'];\n      this.getPets();\n      this.getAllDoctors();\n      this.appointmentService.getAppointmentById(this.id).subscribe(data => {\n        this.appointment = data;\n\n        if (this.appointment.doctor === null) {\n          this.appointment.doctor = new User();\n        }\n      });\n    }\n\n    onSubmit() {\n      this.appointmentService.updateAppointment(this.id, this.appointment).subscribe(data => {\n        this.appointment.user.id = this.idUser;\n        this.toastr.success('Appointment updated successfully.', 'Success');\n        this.goToAppointmentList();\n      }, error => {\n        this.toastr.error('An error has occured.', 'Error');\n        console.log(error);\n      });\n      console.log(this.appointment);\n    }\n\n    goToAppointmentList() {\n      this.router.navigate(['/admin/appointment']);\n    }\n\n    getPets() {\n      this.petService.getPetsList().subscribe(data => {\n        this.pets = data;\n      });\n    }\n\n    getAllDoctors() {\n      this.userService.getAllDoctors().subscribe(data => {\n        this.users = data;\n        console.log(data);\n      });\n    }\n\n  }\n\n  AppointmentUpdateComponent.ɵfac = function AppointmentUpdateComponent_Factory(t) {\n    return new (t || AppointmentUpdateComponent)(i0.ɵɵdirectiveInject(i1.AppointmentService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.PetService), i0.ɵɵdirectiveInject(i4.UserService), i0.ɵɵdirectiveInject(i5.ToastrService), i0.ɵɵdirectiveInject(i6.StorageService));\n  };\n\n  AppointmentUpdateComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AppointmentUpdateComponent,\n    selectors: [[\"app-appointment-update\"]],\n    inputs: {\n      color: \"color\"\n    },\n    decls: 65,\n    vars: 14,\n    consts: [[1, \"relative\", \"flex\", \"flex-col\", \"min-w-0\", \"break-words\", \"w-full\", \"mb-6\", \"shadow-lg\", \"rounded\", 3, \"ngClass\"], [1, \"rounded-t\", \"mb-0\", \"px-4\", \"py-3\", \"border-0\"], [1, \"flex\", \"flex-wrap\", \"items-center\"], [1, \"relative\", \"w-full\", \"px-4\", \"max-w-full\", \"flex-grow\", \"flex-1\"], [1, \"font-semibold\", \"text-lg\", 3, \"ngClass\"], [1, \"card-category\"], [1, \"block\", \"w-full\", \"overflow-x-auto\"], [1, \"table-responsive\", \"p-4\"], [3, \"ngSubmit\"], [\"appointmentForm\", \"ngForm\"], [1, \"form-group\", \"mb-4\"], [1, \"input-label\"], [\"type\", \"datetime-local\", \"id\", \"startDate\", \"name\", \"startDate\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"datetime-local\", \"id\", \"endDate\", \"name\", \"endDate\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"reason\", 1, \"input-label\"], [\"id\", \"reason\", \"name\", \"reason\", \"required\", \"\", 1, \"form-select\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"RoutineCheckup\"], [\"value\", \"Vaccination\"], [\"value\", \"Surgery\"], [\"value\", \"Adoption\"], [\"for\", \"location\", 1, \"input-label\"], [\"id\", \"location\", \"name\", \"location\", \"required\", \"\", 1, \"form-select\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"Locally\"], [\"value\", \"VeterinaryOffice\"], [\"type\", \"text\", \"row\", \"3\", \"id\", \"notes\", \"name\", \"notes\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"id\", \"prix\", \"oninput\", \"this.value = this.value.replace(/[^0-9.,]/g, '')\", \"name\", \"prix\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"id\", \"pet\", \"name\", \"pet\", \"required\", \"\", 1, \"form-select\", 3, \"ngModel\", \"ngModelChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"pet\"], [\"id\", \"doctor\", \"name\", \"doctor\", 1, \"form-select\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"\"], [4, \"ngIf\"], [3, \"value\"], [\"type\", \"submit\", 1, \"btn\", \"submit-button\"], [\"type\", \"button\", \"disabled\", \"\", 1, \"btn\", \"submit-button\"]],\n    template: function AppointmentUpdateComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵelementStart(3, \"div\", 3);\n        i0.ɵɵelementStart(4, \"h3\", 4);\n        i0.ɵɵtext(5, \" Appointment \");\n        i0.ɵɵelement(6, \"p\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"div\", 6);\n        i0.ɵɵelementStart(8, \"div\", 7);\n        i0.ɵɵelementStart(9, \"form\", 8, 9);\n        i0.ɵɵlistener(\"ngSubmit\", function AppointmentUpdateComponent_Template_form_ngSubmit_9_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵelementStart(11, \"div\", 10);\n        i0.ɵɵelementStart(12, \"label\", 11);\n        i0.ɵɵtext(13, \"Start Date\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"input\", 12);\n        i0.ɵɵlistener(\"ngModelChange\", function AppointmentUpdateComponent_Template_input_ngModelChange_14_listener($event) {\n          return ctx.appointment.startDate = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"div\", 10);\n        i0.ɵɵelementStart(16, \"label\", 11);\n        i0.ɵɵtext(17, \"End Date\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"input\", 13);\n        i0.ɵɵlistener(\"ngModelChange\", function AppointmentUpdateComponent_Template_input_ngModelChange_18_listener($event) {\n          return ctx.appointment.endDate = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"div\", 10);\n        i0.ɵɵelementStart(20, \"label\", 14);\n        i0.ɵɵtext(21, \"Reason\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"select\", 15);\n        i0.ɵɵlistener(\"ngModelChange\", function AppointmentUpdateComponent_Template_select_ngModelChange_22_listener($event) {\n          return ctx.appointment.reason = $event;\n        });\n        i0.ɵɵelementStart(23, \"option\", 16);\n        i0.ɵɵtext(24, \"RoutineCheckup\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"option\", 17);\n        i0.ɵɵtext(26, \"Vaccination\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"option\", 18);\n        i0.ɵɵtext(28, \"Surgery\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"option\", 19);\n        i0.ɵɵtext(30, \"Adoption\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"option\", 19);\n        i0.ɵɵtext(32, \"Training\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"option\", 19);\n        i0.ɵɵtext(34, \"Hotel_Reservation\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(35, \"div\", 10);\n        i0.ɵɵelementStart(36, \"label\", 20);\n        i0.ɵɵtext(37, \"Location\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(38, \"select\", 21);\n        i0.ɵɵlistener(\"ngModelChange\", function AppointmentUpdateComponent_Template_select_ngModelChange_38_listener($event) {\n          return ctx.appointment.location = $event;\n        });\n        i0.ɵɵelementStart(39, \"option\", 22);\n        i0.ɵɵtext(40, \"Locally\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(41, \"option\", 23);\n        i0.ɵɵtext(42, \"VeterinaryOffice\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(43, \"div\", 10);\n        i0.ɵɵelementStart(44, \"label\", 11);\n        i0.ɵɵtext(45, \"Notes\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(46, \"textarea\", 24);\n        i0.ɵɵlistener(\"ngModelChange\", function AppointmentUpdateComponent_Template_textarea_ngModelChange_46_listener($event) {\n          return ctx.appointment.notes = $event;\n        });\n        i0.ɵɵtext(47, \"                    \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(48, \"div\", 10);\n        i0.ɵɵelementStart(49, \"label\", 11);\n        i0.ɵɵtext(50, \"Price\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(51, \"input\", 25);\n        i0.ɵɵlistener(\"ngModelChange\", function AppointmentUpdateComponent_Template_input_ngModelChange_51_listener($event) {\n          return ctx.appointment.prix = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(52, \"div\", 10);\n        i0.ɵɵelementStart(53, \"label\", 11);\n        i0.ɵɵtext(54, \"Pet\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(55, \"select\", 26);\n        i0.ɵɵlistener(\"ngModelChange\", function AppointmentUpdateComponent_Template_select_ngModelChange_55_listener($event) {\n          return ctx.appointment.pet.idPet = $event;\n        });\n        i0.ɵɵtemplate(56, AppointmentUpdateComponent_option_56_Template, 2, 2, \"option\", 27);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(57, \"div\", 10);\n        i0.ɵɵelementStart(58, \"label\", 28);\n        i0.ɵɵtext(59, \"Doctor\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(60, \"select\", 29);\n        i0.ɵɵlistener(\"ngModelChange\", function AppointmentUpdateComponent_Template_select_ngModelChange_60_listener($event) {\n          return ctx.appointment.doctor.id = $event;\n        });\n        i0.ɵɵtemplate(61, AppointmentUpdateComponent_option_61_Template, 2, 2, \"option\", 27);\n        i0.ɵɵelement(62, \"option\", 30);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(63, AppointmentUpdateComponent_div_63_Template, 3, 0, \"div\", 31);\n        i0.ɵɵtemplate(64, AppointmentUpdateComponent_div_64_Template, 3, 0, \"div\", 31);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        const _r0 = i0.ɵɵreference(10);\n\n        i0.ɵɵproperty(\"ngClass\", ctx.color === \"light\" ? \"bg-white\" : \"bg-red-900 text-white\");\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngClass\", ctx.color === \"light\" ? \"text-blueGray-700\" : \"text-white\");\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"ngModel\", ctx.appointment.startDate);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.appointment.endDate);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.appointment.reason);\n        i0.ɵɵadvance(16);\n        i0.ɵɵproperty(\"ngModel\", ctx.appointment.location);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngModel\", ctx.appointment.notes);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.appointment.prix);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.appointment.pet.idPet);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.pets);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.appointment.doctor.id);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.users);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", _r0.valid);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !_r0.valid);\n      }\n    },\n    directives: [i7.NgClass, i8.ɵNgNoValidate, i8.NgControlStatusGroup, i8.NgForm, i8.DefaultValueAccessor, i8.RequiredValidator, i8.NgControlStatus, i8.NgModel, i8.SelectControlValueAccessor, i8.NgSelectOption, i8.ɵNgSelectMultipleOption, i7.NgForOf, i7.NgIf],\n    styles: [\".switch[_ngcontent-%COMP%]{position:relative;display:block;vertical-align:top;width:100px;height:30px;padding:3px;margin:0 10px 10px 0;background:linear-gradient(to bottom,#eeeeee,#FFFFFF 25px);background-image:-webkit-linear-gradient(top,#eeeeee,#FFFFFF 25px);border-radius:18px;box-shadow:inset 0 -1px #fff,inset 0 1px 1px #0000000d;cursor:pointer;box-sizing:content-box}.switch-input[_ngcontent-%COMP%]{position:absolute;top:0;left:0;opacity:0;box-sizing:content-box}.switch-label[_ngcontent-%COMP%]{position:relative;display:block;height:inherit;font-size:10px;text-transform:uppercase;background:#eceeef;border-radius:inherit;box-shadow:inset 0 1px 2px #0000001f,inset 0 0 2px #00000026;box-sizing:content-box}.switch-label[_ngcontent-%COMP%]:before, .switch-label[_ngcontent-%COMP%]:after{position:absolute;top:50%;margin-top:-.5em;line-height:1;transition:inherit;box-sizing:content-box}.switch-label[_ngcontent-%COMP%]:before{content:attr(data-off);right:11px;color:#aaa;text-shadow:0 1px rgba(255,255,255,.5)}.switch-label[_ngcontent-%COMP%]:after{content:attr(data-on);left:11px;color:#fff;text-shadow:0 1px rgba(0,0,0,.2);opacity:0}.switch-input[_ngcontent-%COMP%]:checked ~ .switch-label[_ngcontent-%COMP%]{background:#E1B42B;box-shadow:inset 0 1px 2px #00000026,inset 0 0 3px #0003}.switch-input[_ngcontent-%COMP%]:checked ~ .switch-label[_ngcontent-%COMP%]:before{opacity:0}.switch-input[_ngcontent-%COMP%]:checked ~ .switch-label[_ngcontent-%COMP%]:after{opacity:1}.switch-handle[_ngcontent-%COMP%]{position:absolute;top:4px;left:4px;width:28px;height:28px;background:linear-gradient(to bottom,#FFFFFF 40%,#f0f0f0);background-image:-webkit-linear-gradient(top,#FFFFFF 40%,#f0f0f0);border-radius:100%;box-shadow:1px 1px 5px #0003}.switch-handle[_ngcontent-%COMP%]:before{content:\\\"\\\";position:absolute;top:50%;left:50%;margin:-6px 0 0 -6px;width:12px;height:12px;background:linear-gradient(to bottom,#eeeeee,#FFFFFF);background-image:-webkit-linear-gradient(top,#eeeeee,#FFFFFF);border-radius:6px;box-shadow:inset 0 1px #00000005}.switch-input[_ngcontent-%COMP%]:checked ~ .switch-handle[_ngcontent-%COMP%]{left:74px;box-shadow:-1px 1px 5px #0003}.switch-label[_ngcontent-%COMP%], .switch-handle[_ngcontent-%COMP%]{transition:All .3s ease;-webkit-transition:All .3s ease;-moz-transition:All .3s ease;-o-transition:All .3s ease}.custom-select[_ngcontent-%COMP%]{background-color:#f8f9fa;color:#495057;border-color:#ced4da}.input-group[_ngcontent-%COMP%]{max-width:300px;margin:0 auto}.download-btn[_ngcontent-%COMP%]{margin-left:auto;display:block}.input-label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{display:block;width:100%;height:calc(.75rem + 1.5em + 2px);padding:.375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#495057;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem #007bff40}.btn[_ngcontent-%COMP%]{font-size:1rem;font-weight:400;line-height:1.5;text-align:center;text-decoration:none;vertical-align:middle;cursor:pointer;border:1px solid transparent;border-radius:.25rem;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;width:10%}.btn-success[_ngcontent-%COMP%]{color:#fff;background-color:#28a745;border-color:#28a745}.btn-success[_ngcontent-%COMP%]:hover{color:#fff;background-color:#218838;border-color:#1e7e34}.fileinputs[_ngcontent-%COMP%]{position:relative}.fileinputs[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;top:0;left:0;opacity:0;width:100%;height:100%;z-index:1}.fileinputs[_ngcontent-%COMP%]   .filelabel[_ngcontent-%COMP%]{display:inline-block;cursor:pointer;background-color:#f8f9fa;border:1px solid #ced4da;border-radius:.25rem;padding:.375rem .5rem;font-size:1rem;font-weight:400;line-height:1.5;color:#495057;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;width:40%;height:calc(.75rem + 1.25em + 2px)}.fileinputs[_ngcontent-%COMP%]   .filelabel[_ngcontent-%COMP%]:hover{border-color:#80bdff}.fileinputs[_ngcontent-%COMP%]   .filetext[_ngcontent-%COMP%]{display:inline-block;width:60%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.submit-button[_ngcontent-%COMP%]{background-color:#28a745;cursor:pointer}.submit-button[_ngcontent-%COMP%]:hover{background-color:#218838;border-color:#1e7e34}.submit-button[_ngcontent-%COMP%]:disabled{background-color:#aaa;cursor:not-allowed}\"]\n  });\n  return AppointmentUpdateComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}