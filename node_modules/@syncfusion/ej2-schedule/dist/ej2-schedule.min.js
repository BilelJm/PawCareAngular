/*!
*  filename: ej2-schedule.min.js
*  version : 21.1.41
*  Copyright Syncfusion Inc. 2001 - 2020. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("SyncfusionBase"),require("SyncfusionPopups"),require("SyncfusionData"),require("SyncfusionInputs"),require("SyncfusionButtons"),require("SyncfusionCalendars"),require("SyncfusionDropdowns"),require("SyncfusionNavigations"),require("SyncfusionExcelExport"),require("SyncfusionLists")):"function"==typeof define&&define.amd?define(["SyncfusionBase","SyncfusionPopups","SyncfusionData","SyncfusionInputs","SyncfusionButtons","SyncfusionCalendars","SyncfusionDropdowns","SyncfusionNavigations","SyncfusionExcelExport","SyncfusionLists"],t):"object"==typeof exports?exports.SyncfusionSchedule=t(require("SyncfusionBase"),require("SyncfusionPopups"),require("SyncfusionData"),require("SyncfusionInputs"),require("SyncfusionButtons"),require("SyncfusionCalendars"),require("SyncfusionDropdowns"),require("SyncfusionNavigations"),require("SyncfusionExcelExport"),require("SyncfusionLists")):e.SyncfusionSchedule=t(e.SyncfusionBase,e.SyncfusionPopups,e.SyncfusionData,e.SyncfusionInputs,e.SyncfusionButtons,e.SyncfusionCalendars,e.SyncfusionDropdowns,e.SyncfusionNavigations,e.SyncfusionExcelExport,e.SyncfusionLists)}(this,function(e,t,i,n,r,a,s,o,l,c){return function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var i={};return t.m=e,t.c=i,t.i=function(e){return e},t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=43)}([function(t,i){t.exports=e},function(e,t,i){"use strict";function n(e,t){var n=0,r=i.i(R.createElement)("div",{className:t}).cloneNode();return r.style.visibility="hidden",r.style.position="absolute",e.appendChild(r),n=r.getBoundingClientRect().height,i.i(R.remove)(r),n}function r(e,t){var n=0,r=i.i(R.createElement)("div",{className:t}).cloneNode();return r.style.visibility="hidden",r.style.position="absolute",e.appendChild(r),n=r.getBoundingClientRect().width,i.i(R.remove)(r),n}function a(e){var t=getComputedStyle(e);return window.WebKitCSSMatrix?new WebKitCSSMatrix(t.webkitTransform).m42:0}function s(e){var t=getComputedStyle(e);return window.WebKitCSSMatrix?new WebKitCSSMatrix(t.webkitTransform).m41:0}function o(e,t){var i=new Date(e.getTime());return t=(t-i.getDay()-7)%7,new Date(i.setDate(i.getDate()+t))}function l(e,t){var i=o(e,t),n=new Date(i.getFullYear(),i.getMonth(),i.getDate()+6);return new Date(n.getTime())}function c(e){return new Date(e.getFullYear(),e.getMonth(),1)}function p(e){return new Date(e.getFullYear(),e.getMonth()+1,0)}function d(e){var t=new Date(e.getFullYear(),0,1).valueOf(),i=new Date(e.getFullYear(),e.getMonth(),e.getDate()).valueOf(),n=(i-t+H)/H;return Math.ceil(n/7)}function h(e,t){return new Date(t.valueOf()-(t.valueOf()-e.valueOf())/2)}function u(e,t){var i=e.getTimezoneOffset(),n=new Date(e.getTime()+t),r=n.getTimezoneOffset()-i;return e.setTime(n.getTime()+r*j),e}function g(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())}function v(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0).getTimezoneOffset(),i=e.getTimezoneOffset(),n=i-t;return e.getTime()-new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0).getTime()-60*n*1e3}function f(e,t){return Math.ceil((t.getTime()-e.getTime())/H)}function m(e,t){return e=new Date(""+e),new Date(e.setDate(e.getDate()+t))}function y(e,t){e=new Date(""+e);var i=e.getDate();return e.setDate(1),e.setMonth(e.getMonth()+t),e.setDate(Math.min(i,w(e))),e}function T(e,t){e=new Date(""+e);var i=e.getDate();return e.setDate(1),e.setFullYear(e.getFullYear()+t),e.setDate(Math.min(i,w(e))),e}function D(e,t,i){var n=new Date(e.getTime());n.setHours(t.getHours()),n.setMinutes(t.getMinutes()),n.setSeconds(t.getSeconds());var r=new Date(e.getTime());return 0===i.getHours()?r=m(r,1):(r.setHours(i.getHours()),r.setMinutes(i.getMinutes()),r.setSeconds(i.getSeconds())),{startHour:n,endHour:r}}function w(e){return p(e).getDate()}function b(e,t){var i=g(new Date(e)),n=g(new Date(t));return Math.round((n.getTime()-i.getTime())/H)}function C(e){return-1!==e.indexOf("Date")?new Date(parseInt(e.match(/\d+/g).toString(),10)):-1!==e.indexOf("T")?new Date(e):new Date(e.replace(/-/g,"/"))}function S(){var e=i.i(R.createElement)("div"),t=0;e.style.cssText="width:100px;height: 100px;overflow: scroll;position: absolute;top: -9999px;",document.body.appendChild(e);var n=devicePixelRatio?"1.10"===devicePixelRatio.toFixed(2)||devicePixelRatio<=1?Math.ceil(devicePixelRatio%1):Math.floor(devicePixelRatio%1):0;return t=e.offsetWidth-e.clientWidth-n|0,document.body.removeChild(e),t}function O(e,t,i,n,r){for(var a=0,s=e.length;a<s;a++)if(e[parseInt(a.toString(),10)][""+t]===i){if(!n)return a;var o=r.slice(-2)[0].field,l=n[""+o]instanceof Array?n[""+o]:[n[""+o]],c=l.join(",");if(c.includes(e[parseInt(a.toString(),10)][r.slice(-1)[0].groupIDField]))return a}return-1}function E(e){var t=getComputedStyle(e);return e.offsetHeight+(parseInt(t.marginTop,10)||0)+(parseInt(t.marginBottom,10)||0)}function x(e){for(var t=[].slice.call(e.children),i=0,n=t;i<n.length;i++){var r=n[i];e.removeChild(r)}}function V(e){var t=new Date(e.getFullYear(),0,1),i=new Date(e.getFullYear(),6,1);return e.getTimezoneOffset()<Math.max(t.getTimezoneOffset(),i.getTimezoneOffset())}function A(e){var t=e.getFullYear(),i=e.getMonth(),n=e.getDate(),r=e.getHours(),a=e.getMinutes(),s=e.getSeconds(),o=e.getMilliseconds();return Date.UTC(t,i,n,r,a,s,o)}function I(){return window.navigator.userAgent.toLowerCase().indexOf("mobi")>-1}function M(){return window.navigator.userAgent.toLowerCase().indexOf("ipad")>-1}function k(e,t){if("multiple"===t)e=e.split(" ").map(function(e){return e.charAt(0).toLocaleUpperCase()+e.substring(1)}).join(" ");else if("single"===t){if(e[0]>="0"&&e[0]<="9"){var n=e.match(/[a-zA-Z]/);e=i.i(R.isNullOrUndefined)(n)?e:e.slice(0,n.index)+e[n.index].toLocaleUpperCase()+e.slice(n.index+1)}e=e[0].toLocaleUpperCase()+e.slice(1)}return e}i.d(t,"e",function(){return _}),i.d(t,"f",function(){return P}),i.d(t,"c",function(){return H}),i.d(t,"g",function(){return j}),t.h=n,t.i=r,t.j=a,t.k=s,t.l=o,t.m=l,t.n=c,t.o=p,t.p=d,t.q=h,t.r=u,t.b=g,t.s=v,t.t=f,t.d=m,t.u=y,t.v=T,t.w=D,t.x=w,t.y=b,t.z=C,t.A=S,t.B=O,t.C=E,t.D=x,t.E=V,t.F=A,t.G=I,t.H=M,t.a=k;var R=i(0),_=(i.n(R),7),P=6,H=864e5,j=6e4},function(e,t,i){"use strict";i.d(t,"a",function(){return n}),i.d(t,"b",function(){return r}),i.d(t,"c",function(){return a}),i.d(t,"d",function(){return s}),i.d(t,"e",function(){return o}),i.d(t,"f",function(){return l}),i.d(t,"g",function(){return c}),i.d(t,"h",function(){return p}),i.d(t,"i",function(){return d}),i.d(t,"j",function(){return h}),i.d(t,"k",function(){return u}),i.d(t,"l",function(){return g}),i.d(t,"m",function(){return v}),i.d(t,"n",function(){return f}),i.d(t,"o",function(){return m}),i.d(t,"p",function(){return y}),i.d(t,"q",function(){return T}),i.d(t,"r",function(){return D}),i.d(t,"s",function(){return w}),i.d(t,"t",function(){return b}),i.d(t,"u",function(){return C}),i.d(t,"v",function(){return S}),i.d(t,"w",function(){return O}),i.d(t,"x",function(){return E}),i.d(t,"y",function(){return x}),i.d(t,"z",function(){return V}),i.d(t,"A",function(){return A}),i.d(t,"B",function(){return I}),i.d(t,"C",function(){return M}),i.d(t,"D",function(){return k}),i.d(t,"E",function(){return R}),i.d(t,"F",function(){return _}),i.d(t,"G",function(){return P}),i.d(t,"H",function(){return H}),i.d(t,"I",function(){return j}),i.d(t,"J",function(){return L});var n="cellClick",r="cellDoubleClick",a="moreEventsClick",s="select",o="hover",l="actionBegin",c="actionComplete",p="actionFailure",d="navigating",h="renderCell",u="eventClick",g="eventRendered",v="dataBinding",f="dataBound",m="popupOpen",y="popupClose",T="dragStart",D="drag",w="dragStop",b="resizeStart",C="resizing",S="resizeStop",O="inlineClick",E="cellSelect",x="initial-load",V="initial-end",A="print",I="data-ready",M="events-loaded",k="content-ready",R="scroll",_="virtual-scroll",P="scroll-ui-update",H="ui-update",j="document-click",L="cell-mouse-down"},function(e,t,i){"use strict";i.d(t,"_74",function(){return n}),i.d(t,"_78",function(){return r}),i.d(t,"_79",function(){return a}),i.d(t,"_80",function(){return s}),i.d(t,"N",function(){return o}),i.d(t,"_160",function(){return l}),i.d(t,"J",function(){return c}),i.d(t,"_53",function(){return p}),i.d(t,"j",function(){return d}),i.d(t,"_4",function(){return h}),i.d(t,"_68",function(){return u}),i.d(t,"_69",function(){return g}),i.d(t,"_27",function(){return v}),i.d(t,"h",function(){return f}),i.d(t,"n",function(){return m}),i.d(t,"_16",function(){return y}),i.d(t,"T",function(){return T}),i.d(t,"d",function(){return D}),i.d(t,"c",function(){return w}),i.d(t,"e",function(){return b}),i.d(t,"_60",function(){return C}),i.d(t,"_61",function(){return S}),i.d(t,"_62",function(){return O}),i.d(t,"q",function(){return E}),i.d(t,"t",function(){return x}),i.d(t,"s",function(){return V}),i.d(t,"_57",function(){return A}),i.d(t,"_164",function(){return I}),i.d(t,"_58",function(){return M}),i.d(t,"_163",function(){return k}),i.d(t,"_70",function(){return R}),i.d(t,"_71",function(){return _}),i.d(t,"_162",function(){return P}),i.d(t,"a",function(){return H}),i.d(t,"b",function(){return j}),i.d(t,"i",function(){return L}),i.d(t,"_165",function(){return q}),i.d(t,"v",function(){return N}),i.d(t,"_166",function(){return F}),i.d(t,"x",function(){return U}),i.d(t,"y",function(){return B}),i.d(t,"_167",function(){return W}),i.d(t,"u",function(){return z}),i.d(t,"_169",function(){return Y}),i.d(t,"_168",function(){return G}),i.d(t,"_63",function(){return X}),i.d(t,"_83",function(){return Q}),i.d(t,"_28",function(){return K}),i.d(t,"_12",function(){return J}),i.d(t,"_11",function(){return Z}),i.d(t,"_15",function(){return $}),i.d(t,"_14",function(){return ee}),i.d(t,"_13",function(){return te}),i.d(t,"_17",function(){return ie}),i.d(t,"_18",function(){return ne}),i.d(t,"w",function(){return re}),i.d(t,"_7",function(){return ae}),i.d(t,"C",function(){return se}),i.d(t,"_8",function(){return oe}),i.d(t,"_65",function(){return le}),i.d(t,"_24",function(){return ce}),i.d(t,"_66",function(){return pe}),i.d(t,"_38",function(){return de}),i.d(t,"_37",function(){return he}),i.d(t,"F",function(){return ue}),i.d(t,"E",function(){return ge}),i.d(t,"_36",function(){return ve}),i.d(t,"_35",function(){return fe}),i.d(t,"l",function(){return me}),i.d(t,"D",function(){return ye}),i.d(t,"A",function(){return Te}),i.d(t,"B",function(){return De}),i.d(t,"R",function(){return we}),i.d(t,"G",function(){return be}),i.d(t,"_43",function(){return Ce}),i.d(t,"_45",function(){return Se}),i.d(t,"I",function(){return Oe}),i.d(t,"_19",function(){return Ee}),i.d(t,"_23",function(){return xe}),i.d(t,"g",function(){return Ve}),i.d(t,"_170",function(){return Ae}),i.d(t,"_46",function(){return Ie}),i.d(t,"_54",function(){return Me}),i.d(t,"S",function(){return ke}),i.d(t,"m",function(){return Re}),i.d(t,"_51",function(){return _e}),i.d(t,"_49",function(){return Pe}),i.d(t,"_47",function(){return He}),i.d(t,"p",function(){return je}),i.d(t,"o",function(){return Le}),i.d(t,"_42",function(){return qe}),i.d(t,"_50",function(){return Ne}),i.d(t,"_48",function(){return Fe}),i.d(t,"_44",function(){return Ue}),i.d(t,"_127",function(){return Be}),i.d(t,"_52",function(){return We}),i.d(t,"_40",function(){return ze}),i.d(t,"_39",function(){return Ye}),i.d(t,"O",function(){return Ge}),i.d(t,"_9",function(){return Xe}),i.d(t,"_10",function(){return Qe}),i.d(t,"P",function(){return Ke}),i.d(t,"Q",function(){return Je}),i.d(t,"_73",function(){return Ze}),i.d(t,"_81",function(){return $e}),i.d(t,"_75",function(){return et}),i.d(t,"_77",function(){return tt}),i.d(t,"_76",function(){return it}),i.d(t,"Z",function(){return nt}),i.d(t,"U",function(){return rt}),i.d(t,"_0",function(){return at}),i.d(t,"W",function(){return st}),i.d(t,"V",function(){return ot}),i.d(t,"X",function(){return lt}),i.d(t,"Y",function(){return ct}),i.d(t,"L",function(){return pt}),i.d(t,"M",function(){return dt}),i.d(t,"_3",function(){return ht}),i.d(t,"_6",function(){return ut}),i.d(t,"_30",function(){return gt}),i.d(t,"_33",function(){return vt}),i.d(t,"_29",function(){return ft}),i.d(t,"_25",function(){return mt}),i.d(t,"_26",function(){return yt}),i.d(t,"_34",function(){return Tt}),i.d(t,"z",function(){return Dt}),i.d(t,"_113",function(){return wt}),i.d(t,"_117",function(){return bt}),i.d(t,"_106",function(){return Ct}),i.d(t,"_107",function(){return St}),i.d(t,"_119",function(){return Ot}),i.d(t,"_120",function(){return Et}),i.d(t,"_137",function(){return xt}),i.d(t,"_123",function(){return Vt}),i.d(t,"_128",function(){return At}),i.d(t,"_114",function(){return It}),i.d(t,"_115",function(){return Mt}),i.d(t,"_116",function(){return kt}),i.d(t,"_118",function(){return Rt}),i.d(t,"_59",function(){return _t}),i.d(t,"_90",function(){return Pt}),i.d(t,"_72",function(){return Ht}),i.d(t,"_85",function(){return jt}),i.d(t,"_87",function(){return Lt}),i.d(t,"_88",function(){return qt}),i.d(t,"_89",function(){return Nt}),i.d(t,"_86",function(){return Ft}),i.d(t,"_104",function(){return Ut}),i.d(t,"_105",function(){return Bt}),i.d(t,"_92",function(){return Wt}),i.d(t,"_95",function(){return zt}),i.d(t,"_96",function(){return Yt}),i.d(t,"_102",function(){return Gt}),i.d(t,"_101",function(){return Xt}),i.d(t,"_97",function(){return Qt}),i.d(t,"_98",function(){return Kt}),i.d(t,"_93",function(){return Jt}),i.d(t,"_94",function(){return Zt}),i.d(t,"_100",function(){return $t}),i.d(t,"_99",function(){return ei}),i.d(t,"_140",function(){return ti}),i.d(t,"_146",function(){return ii}),i.d(t,"_103",function(){return ni}),i.d(t,"_150",function(){return ri}),i.d(t,"_151",function(){return ai}),i.d(t,"_131",function(){return si}),i.d(t,"_132",function(){return oi}),i.d(t,"_133",function(){return li}),i.d(t,"_155",function(){return ci}),i.d(t,"_156",function(){return pi}),i.d(t,"_148",function(){return di}),i.d(t,"H",function(){return hi}),i.d(t,"K",function(){return ui}),i.d(t,"_129",function(){return gi}),i.d(t,"_130",function(){return vi}),i.d(t,"_149",function(){return fi}),i.d(t,"_144",function(){return mi}),i.d(t,"_145",function(){return yi}),i.d(t,"_157",function(){return Ti}),i.d(t,"_134",function(){return Di}),i.d(t,"_135",function(){return wi}),i.d(t,"_136",function(){return bi}),i.d(t,"_152",function(){return Ci}),i.d(t,"_153",function(){return Si}),i.d(t,"_154",function(){return Oi}),i.d(t,"_142",function(){return Ei}),i.d(t,"_143",function(){return xi}),i.d(t,"_138",function(){return Vi}),i.d(t,"_141",function(){return Ai}),i.d(t,"_147",function(){return Ii}),i.d(t,"_158",function(){return Mi}),i.d(t,"_159",function(){return ki}),i.d(t,"_109",function(){return Ri}),i.d(t,"_111",function(){return _i}),i.d(t,"_110",function(){return Pi}),i.d(t,"_112",function(){return Hi}),i.d(t,"_108",function(){return ji}),i.d(t,"_91",function(){return Li}),i.d(t,"_139",function(){return qi}),i.d(t,"_82",function(){return Ni});i.d(t,"_31",function(){return Fi}),i.d(t,"_20",function(){return Ui}),i.d(t,"_56",function(){return Bi}),i.d(t,"_67",function(){return Wi}),i.d(t,"r",function(){return zi}),i.d(t,"_84",function(){return Yi}),i.d(t,"_121",function(){return Gi}),i.d(t,"_171",function(){return Xi}),i.d(t,"_172",function(){return Qi}),i.d(t,"_173",function(){return Ki}),i.d(t,"_176",function(){return Ji}),i.d(t,"_174",function(){return Zi}),i.d(t,"_175",function(){return $i}),i.d(t,"_124",function(){return en}),i.d(t,"_125",function(){return tn}),i.d(t,"_126",function(){return nn}),i.d(t,"_122",function(){return rn}),i.d(t,"_21",function(){return an}),i.d(t,"_161",function(){return sn}),i.d(t,"k",function(){return on}),i.d(t,"_22",function(){return ln}),i.d(t,"_41",function(){return cn}),i.d(t,"_55",function(){return pn}),i.d(t,"f",function(){return dn}),i.d(t,"_1",function(){return hn}),i.d(t,"_2",function(){return un}),i.d(t,"_64",function(){return gn}),i.d(t,"_5",function(){return vn}),i.d(t,"_32",function(){return fn});var n="e-schedule",r="e-rtl",a="e-device",s="e-multi-drag",o="e-icons",l="e-enable",c="e-disable",p="e-table-container",d="e-schedule-table",h="e-all-day-cells",u="e-header-popup",g="e-header-calendar",v="e-all-day-row",f="e-content-table",m="e-work-cells",y="e-work-hours",T="e-popup-open",D="e-date-header-wrap",w="e-date-header-container",b="e-header-cells",C="e-header-week-cell",S="e-header-month-cell",O="e-header-year-cell",E="e-work-days",x="e-other-month",V="e-current-day",A="e-current-date",I="e-current-panel",M="e-previous-panel",k="e-next-panel",R="e-prev",_="e-next",P="e-translate",H="e-left-indent",j="e-left-indent-wrap",L="e-event-table",q="e-resource-left-td",N="e-resource-group-cells",F="e-resource-text",U="e-resource-column-wrap",B="e-resource-column-table",W="e-child-node",z="e-parent-node",Y="e-resource-expand",G="e-resource-collapse",X="e-resource-tree-icon",Q="e-resource-cells",K="e-time-cells-wrap",J="e-time-cells",Z="e-time-slots",$="e-alternate-cells",ee="e-current-time",te="e-current-timeline",ie="e-previous-timeline",ne="e-hide-childs",re="e-scroll-container",ae="e-timeline-wrapper",se="e-appointment-wrapper",oe="e-day-wrapper",le="e-schedule-toolbar-container",ce="e-schedule-resource-toolbar-container",pe="e-schedule-toolbar",de="e-schedule-resource-toolbar",he="e-selected-cell",ue="e-week-number-wrapper",ge="e-week-number",ve="e-appointment-wrap",fe="e-wrapper-container",me="e-appointment-container",ye="e-appointment",Te="e-block-appointment",De="e-block-indicator",we="e-appointment-border",be="e-appointment-details",Ce="e-subject-wrap",Se="e-resource-name",Oe="e-time",Ee="e-table-wrap",xe="e-outer-table",Ve="e-content-wrap",Ae="e-virtual-track",Ie="e-agenda-cells",Me="e-current-day",ke="e-active-appointment-agenda",Re="e-month-header",_e="e-day-date-header",Pe="e-resource-column",He="e-date-column",je="e-navigate",Le="e-date-header",qe="e-day-border",Ne="e-date-border",Fe="e-day-padding",Ue="e-date-time",Be="e-date-time-wrapper",We="e-empty-event",ze="e-no-event",Ye="e-appointment-indicator",Ge="e-indicator",Xe="e-up-icon",Qe="e-down-icon",Ke="e-left-icon",Je="e-right-icon",Ze="e-event-action",$e="e-new-event",et="e-schedule-event-clone",tt="e-month-event",it="e-clone-time-indicator",nt="e-drag-clone",rt="e-event-resize",at="e-resize-clone",st="e-left-handler",ot="e-right-handler",lt="e-top-handler",ct="e-bottom-handler",pt="e-recurrence-icon",dt="e-recurrence-edit-icon",ht="e-header-row",ut="e-all-day-appointment-wrapper",gt="e-all-day-appointment",vt="e-appointment-hide",ft="e-row-count-wrapper",mt="e-all-day-appointment-section",yt="e-appointment-expand",Tt="e-appointment-collapse",Dt="e-more-indicator",wt="e-cell-popup",bt="e-event-popup",Ct="e-multiple-event-popup",St="e-popup-header",Ot="e-header-icon-wrapper",Et="e-popup-content",xt="e-popup-footer",Vt="e-date-time-details",At="e-recurrence-summary",It="e-event-details",Mt="e-event-create",kt="e-event-edit",Rt="e-event-delete",_t="e-text-ellipsis",Pt="e-more-popup-wrapper",Ht="e-more-event-popup",jt="e-more-event-header",Lt="e-more-event-date-header",qt="e-header-day",Nt="e-header-date",Ft="e-more-event-close",Ut="e-more-event-content",Bt="e-more-appointment-wrapper",Wt="e-quick-dialog",zt="e-quick-dialog-occurrence-event",Yt="e-quick-dialog-series-event",Gt="e-quick-dialog-following-events",Xt="e-following-events-dialog",Qt="e-quick-dialog-delete",Kt="e-quick-dialog-cancel",Jt="e-quick-alertok",Zt="e-quick-alertcancel",$t="e-quick-alertfollowing",ei="e-quick-dialog-alert-btn",ti="e-schedule-dialog",ii="e-form-container",ni="e-schedule-form",ri="e-all-day-time-zone-row",ai="e-all-day",si="e-time-zone",oi="e-time-zone-icon",li="e-time-zone-details",ci="e-repeat-parent-row",pi="e-repeat",di="e-title-location-row",hi="e-subject",ui="e-location",gi="e-location-icon",vi="e-location-details",fi="e-start-end-row",mi="e-start",yi="e-end",Ti="e-resources-row",Di="e-description",wi="e-description-icon",bi="e-description-details",Ci="e-time-zone-row",Si="e-start-time-zone",Oi="e-end-time-zone",Ei="e-back-icon",xi="e-save-icon",Vi="e-event-cancel",Ai="e-event-save",Ii="e-dialog-parent",Mi="e-title-text",ki="e-icon-disable",Ri="e-edit",_i="e-edit-icon",Pi="e-delete",Hi="e-delete-icon",ji="e-close",Li="e-close-icon",qi="e-schedule-error",Ni="e-schedule-event-tooltip",Fi="e-animate",Ui="e-timescale-disable",Bi="e-disable-date",Wi="e-hidden",zi="e-disable-dates",Yi="e-quick-popup-wrapper",Gi="e-popup-table",Xi="e-resource-menu",Qi="e-icon-menu",Ki="e-resource-level-title",Ji="e-resource-tree",Zi="e-resource-tree-popup-overlay",$i="e-resource-tree-popup",en="e-resource",tn="e-resource-icon",nn="e-resource-details",rn="e-date-time-icon",an="e-virtual-scroll",sn="e-icon-disable",on="e-auto-height",ln="e-ignore-whitespace",cn="e-template",pn="e-read-only",dn="e-month-header-wrapper",hn="e-inline-subject",un="e-inline-appointment",gn="e-scroll-hidden",vn="e-all-day-scroll",fn="e-all-day-auto"},function(e,t,i){"use strict";function n(e,t,n,a){void 0===a&&(a="Gregorian");var s,o,l=L(e),c=t.getConstant(he)+" ",p=a.toLowerCase();if("en"===n||"en-US"===n){var d="months.stand-alone.abbreviated",h="days.stand-alone.abbreviated";o=i.i(te.getValue)(d,i.i(te.getDefaultDateObject)(p)),s=i.i(te.getValue)(h,i.i(te.getDefaultDateObject)(p))}else{var d="main."+n+".dates.calendars."+p+".months.stand-alone.abbreviated",h="main."+n+".dates.calendars."+p+".days.stand-alone.abbreviated";o=i.i(te.getValue)(d,te.cldrData),s=i.i(te.getValue)(h,te.cldrData)}switch(l.interval>1&&(c+=l.interval+" "),l.freq){case"DAILY":c+=t.getConstant(ge);break;case"WEEKLY":c+=t.getConstant(ve)+" "+t.getConstant(de)+" ",l.day.forEach(function(e,t){c+=i.i(ie.a)(i.i(te.getValue)(ye[""+e],s),"single"),c+=l.day.length-1===t?"":", "});break;case"MONTHLY":c+=t.getConstant(fe)+" "+t.getConstant(de)+" ",c+=r(l,s,t);break;case"YEARLY":c+=t.getConstant(me)+" "+t.getConstant(de)+" ",c+=i.i(ie.a)(i.i(te.getValue)(l.month[0].toString(),o),"single")+" ",c+=r(l,s,t)}if(l.count)c+=", "+l.count+" "+t.getConstant(pe);else if(l.until){var u=l.until;c+=", "+t.getConstant(ue)+" "+u.getDate()+" "+i.i(ie.a)(i.i(te.getValue)((u.getMonth()+1).toString(),o),"single")+" "+u.getFullYear()}return c}function r(e,t,n){var r="";if(e.monthDay.length)r+=e.monthDay[0];else if(e.day){var a=e.setPosition-1;r+=n.getConstant(ce[a>-1?a:ce.length-1])+" "+i.i(ie.a)(i.i(te.getValue)(ye[e.day[0]],t),"single")}return r}function a(e,t,n,r,a,o,l,u,g){void 0===a&&(a=le),void 0===o&&(o=null),void 0===l&&(l="Gregorian"),void 0===u&&(u=null),void 0===g&&(g=null);var v,f=L(t);ee=X(l);var m=[],y=new Date(e.getTime());J=[];var T=i.i(te.isNullOrUndefined)(n)?[]:n.split(","),D=new re.a;if(T.forEach(function(e){var t=s(e);u&&g&&(t=D.convert(new Date(t.getTime()),u,g)),J.push(new Date(t.getTime()).setHours(0,0,0,0))}),f.recExceptionCount=i.i(te.isNullOrUndefined)(f.count)?0:J.length,$=o&&o>e&&!f.count?new Date(new Date(o.getTime()).setHours(0,0,0)):null,!f.until&&$&&(v=new Date($.getTime()),v.setDate($.getDate()+a*f.interval),f.until=v),f.until&&e>f.until)return m;if(Z=a,Y(oe[parseInt(r.toString(),10)]),f.until){var w=i.i(ie.b)(f.until);f.until=new Date(w.getFullYear(),w.getMonth(),w.getDate(),23,59,59)}switch(f.freq){case"DAILY":c(y,f.until,m,f);break;case"WEEKLY":p(y,f.until,m,f);break;case"MONTHLY":d(y,f.until,m,f);break;case"YEARLY":h(y,f.until,m,f)}return m}function s(e){return new Date(e.substr(0,4)+"-"+e.substr(4,2)+"-"+e.substr(6,5)+":"+e.substr(11,2)+":"+e.substr(13))}function o(e,t){var i=new Date(t).setHours(0,0,0,0);-1===J.indexOf(i)&&(!$||i>=$.getTime())&&e.push(t)}function l(e,t){var i=Z;return t.count?i=t.count:t.until&&("DAILY"===t.freq||"WEEKLY"===t.freq?i=Math.floor((t.until.getTime()-e.getTime())/ie.c)+1:"MONTHLY"!==t.freq&&"YEARLY"!==t.freq||(i=Math.floor((t.until.getMonth()+12*t.until.getFullYear()-(e.getMonth()+12*e.getFullYear()))/t.interval)+(t.day.length>1?Math.floor((t.until.getTime()-e.getTime())/ie.c)+1:1),"YEARLY"===t.freq&&(i=t.month.length>1?i*t.month.length:i))),i}function c(e,t,i,n){for(var r=new Date(e.getTime()),a=n.interval,s=l(e,n),c=n.day;_(r,t)&&(!0,!(G(r,n)&&(c.indexOf(oe[r.getDay()])>-1||0===c.length)&&(o(i,r.getTime()),s&&i.length+n.recExceptionCount>=s)));)r.setDate(r.getDate()+a),r.getHours()!==e.getHours()&&r.setHours(e.getHours())}function p(e,t,n,r){var a=new Date(e.getTime());r.day.length||r.day.push(oe[e.getDay()]);var s,c=r.interval,p=r.day,d=l(e,r),h=!0,u=[];if(p.length>1)for((i.i(te.isNullOrUndefined)(r.wkst)||""===r.wkst)&&(r.wkst=se[0]),s=oe.indexOf(r.wkst);_(a,t);){var g=oe.indexOf(oe[a.getDay()])-s;g=-1===g?6:g;var v=i.i(ie.d)(a,-g),f=i.i(ie.d)(v,6),m=new Date(a.getTime());for(f=i.i(ie.b)(f),m=i.i(ie.b)(m);f>=m&&(p.indexOf(oe[a.getDay()])>-1&&u.push([a.getTime()]),!(d&&n.length+r.recExceptionCount>=d));)a.setDate(a.getDate()+1),a.getHours()!==e.getHours()&&a.setHours(e.getHours()),m=new Date(a.getTime()),m=i.i(ie.b)(m);if(a.setDate(a.getDate()-1),d&&n.length+r.recExceptionCount>=d)break;a.setDate(a.getDate()+1+7*(c-1)),E(u,h,e,t,n,r),u=[]}else{for(a=j(e,r.day);_(a,t)&&(h=G(a,r),h&&p.indexOf(oe[a.getDay()])>-1&&o(n,a.getTime()),!(d&&n.length+r.recExceptionCount>=d));)a.setDate(a.getDate()+7*c);E(u,h,e,t,n,r),u=[]}}function d(e,t,i,n){switch(n.month.length||n.day.length||n.monthDay.length?n.month.length>0&&!n.day.length&&!n.monthDay.length&&n.monthDay.push(e.getDate()):(n.monthDay.push(e.getDate()),"YEARLY"===n.freq&&n.month.push(e.getMonth()+1)),W(n)){case"day":switch(n.freq){case"MONTHLY":b(e,t,i,n);break;case"YEARLY":C(e,t,i,n)}break;case"both":case"date":switch(n.freq){case"MONTHLY":y(e,t,i,n);break;case"YEARLY":m(e,t,i,n)}}}function h(e,t,i,n){switch(v(n)){case"MONTH":d(e,t,i,n);break;case"WEEKNO":u(e,t,i,n);break;case"YEARDAY":g(e,t,i,n)}}function u(e,t,n,r){for(var a,s,o,c,p,d,h=ee.getYearLastDate(e,0),u=l(e,r),g=r.weekNo,v=[],f=r.day;_(h,t);){s=se.indexOf(oe[h.getDay()]),o=6-s+1;for(var m=0;m<g.length;m++)for(c=g[parseInt(m.toString(),10)],c=c>0?c:53+c+1,p=1===c?o:o+7*(c-1),d=1===c?o-7:o+7*(c-2);d<p;)a=new Date(h.getTime()+ie.c*d),(0===f.length||f.indexOf(oe[a.getDay()])>-1)&&(i.i(te.isNullOrUndefined)(r.setPosition)?I(void 0,e,t,n,r,a.getTime()):v.push([a.getTime()])),d++;if(i.i(te.isNullOrUndefined)(r.setPosition)||R(v,void 0,e,t,n,r),u&&n.length+r.recExceptionCount>=u)return;h=ee.getYearLastDate(a,r.interval),v=[]}}function g(e,t,n,r){for(var a,s,o=ee.getYearLastDate(e,0),c=l(e,r),p=[],d=r.day;_(o,t);){for(var h=0;h<r.yearDay.length;h++)s=r.yearDay[parseInt(h.toString(),10)],a=new Date(o.getTime()),s!==ee.getLeapYearDaysCount()&&s!==-ee.getLeapYearDaysCount()||ee.isLeapYear(ee.getFullYear(a),1)?(a.setDate(a.getDate()+(s<0?ee.getYearDaysCount(a,1)+1+s:s)),(0===d.length||d.indexOf(oe[a.getDay()])>-1)&&(null==r.setPosition?I(void 0,e,t,n,r,a.getTime()):p.push([a.getTime()]))):a.setDate(a.getDate()+1);if(i.i(te.isNullOrUndefined)(r.setPosition)||R(p,void 0,e,t,n,r),c&&n.length+r.recExceptionCount>=c)return;o=ee.getYearLastDate(a,r.interval),p=[]}}function v(e){return e.yearDay.length?"YEARDAY":e.weekNo.length?"WEEKNO":"MONTH"}function f(e,t){var i={monthCollection:[],index:0,tempDate:new Date(e.getTime()),mainDate:new Date(e.getTime()),expectedCount:l(e,t),monthInit:0,dateCollection:[]};return t.month.length&&ee.setMonth(i.tempDate,t.month[0],i.tempDate.getDate()),i}function m(e,t,i,n){if(n.month.length)return void y(e,t,i,n);var r,a=f(e,n);for(a.tempDate=a.mainDate=ee.getMonthStartDate(a.tempDate);_(a.tempDate,t);){for(r=new Date(a.tempDate.getTime());ee.isSameYear(r,a.tempDate)&&a.expectedCount&&i.length+n.recExceptionCount<=a.expectedCount;){if(!(0===n.month.length||n.month.length>0&&!ee.checkMonth(a.tempDate,n.month))){ee.setValidDate(a.tempDate,1,1),a.tempDate=j(a.tempDate,n.day);break}T(n,a,t,!1),a.beginDate=new Date(a.tempDate.getTime()),a.monthInit=D(a.tempDate,n,a.monthInit,a.beginDate)}if(a.tempDate.setFullYear(r.getFullYear(),r.getMonth(),r.getDate()),E(a.dateCollection,a.state,e,t,i,n),ee.isLastMonth(a.tempDate)&&(ee.setValidDate(a.tempDate,1,1),a.tempDate=j(a.tempDate,n.day)),a.expectedCount&&i.length+n.recExceptionCount>=a.expectedCount)return;a.tempDate.setFullYear(a.tempDate.getFullYear()+n.interval-1),a.tempDate=j(a.tempDate,n.day),a.monthInit=D(a.tempDate,n,a.monthInit,a.beginDate),a.dateCollection=[]}}function y(e,t,n,r){var a=f(e,r);if(a.tempDate=a.mainDate=ee.getMonthStartDate(a.tempDate),!(("MONTHLY"===r.freq&&12===r.interval||"YEARLY"===r.freq)&&ee.getMonthDaysCount(e)<r.monthDay[0]))for(;_(a.tempDate,t);){if(a.beginDate=new Date(a.tempDate.getTime()),T(r,a,t,!0,e,n),i.i(te.isNullOrUndefined)(r.setPosition)||R(a.dateCollection,a.state,e,t,n,r),a.expectedCount&&n.length+r.recExceptionCount>=a.expectedCount)return;a.monthInit=D(a.tempDate,r,a.monthInit,a.beginDate),a.dateCollection=[]}}function T(e,t,n,r,a,s){for(var o=0;o<e.monthDay.length;o++){t.date=e.monthDay[parseInt(o.toString(),10)],t.tempDate=ee.getMonthStartDate(t.tempDate);var l=ee.getMonthDaysCount(t.tempDate);if(t.date=t.date>0?t.date:l+t.date+1,q(t.tempDate,t.date,t.mainDate)&&t.date>0){if(ee.setDate(t.tempDate,t.date),n&&t.tempDate>n)return;(0===e.day.length||e.day.indexOf(oe[t.tempDate.getDay()])>-1)&&(r&&i.i(te.isNullOrUndefined)(e.setPosition)&&t.expectedCount&&s.length+e.recExceptionCount<t.expectedCount?I(t.state,a,n,s,e,t.tempDate.getTime()):t.dateCollection.push([t.tempDate.getTime()]))}}}function D(e,t,n,r,a){void 0===r&&(r=null);var s=r?r.getMonth():0,o=ee.getMonthStartDate(e);return a=i.i(te.isNullOrUndefined)(a)?t.interval:a,e.setFullYear(o.getFullYear()),e.setMonth(o.getMonth()),e.setDate(o.getDate()),t.month.length?(n++,n%=t.month.length,ee.setMonth(e,t.month[parseInt(n.toString(),10)],1),0===n&&ee.addYears(e,a,t.month[0])):(r&&r.getFullYear()<e.getFullYear()&&(s=e.getMonth()-1),ee.setValidDate(e,a,1,s,r)),n}function w(e,t,n,r){var a=r.day,s=new Date(e.getTime());s=ee.getMonthStartDate(s);var o,c,p=[],d=[],h=[],u=l(e,r),g=0;for(r.month.length&&ee.setMonth(s,r.month[0],1),s=j(s,r.day);_(s,t)&&u&&n.length+r.recExceptionCount<u;){var v=new Date(s.getTime());if(a.map(function(e){return Te.test(e)}).indexOf(!0)>-1){for(var f=0;f<=a.length-1;f++){var m=a[parseInt(f.toString(),10)].match(we),y=parseInt(m[0],10);for(s=new Date(s.getTime()),s=ee.getMonthStartDate(s),s=j(s,a),v.setFullYear(s.getFullYear(),s.getMonth(),s.getDate());ee.isSameYear(v,s)&&ee.isSameMonth(v,s);)m[m.length-1]===oe[v.getDay()]&&p.push([v.getTime()]),v.setDate(v.getDate()+1);if(v.setDate(v.getDate()-1),o=m[0].indexOf("-")>-1?p.length- -1*y:y-1,o=isNaN(o)?0:o,p.length>0&&(i.i(te.isNullOrUndefined)(r.setPosition)?R(p,void 0,e,t,n,r,o):d=[A(p,o,h)]),u&&n.length+r.recExceptionCount>=u)return;p=[]}i.i(te.isNullOrUndefined)(r.setPosition)||(k(d,void 0,e,t,n,r),h=[]),g=D(s,r,g,c),s=j(s,r.day),p=[]}else{var T=[],w=N(a);v.setFullYear(s.getFullYear(),s.getMonth(),s.getDate());var b=new Date(s.getTime());for(c=new Date(s.getTime());ee.isSameMonth(b,s);)T.push(s.getTime()),a.indexOf(oe[s.getDay()])>-1&&(p.push(T),T=[]),s.setDate(s.getDate()+w[oe[s.getDay()]]);if(o=r.setPosition<1?p.length+r.setPosition:r.setPosition-1,i.i(te.isNullOrUndefined)(r.setPosition)){o=0;for(var C=[],S=0;S<p.length;S++)for(var O=0;O<p[parseInt(S.toString(),10)].length;O++)C.push(p[parseInt(S.toString(),10)][parseInt(O.toString(),10)]);p=[C]}if(p.length>0&&R(p,void 0,e,t,n,r,o),u&&n.length+r.recExceptionCount>=u)return;g=D(s,r,g,c),s=j(s,r.day),p=[]}}}function b(e,t,i,n){if(n.day.length>1)return void w(e,t,i,n);var r,a=new Date(e.getTime()),s=l(e,n),o=[],c=0;for(a=ee.getMonthStartDate(a),n.month.length&&ee.setMonth(a,n.month[0],1),a=j(a,n.day);_(a,t)&&s&&i.length+n.recExceptionCount<s;){r=new Date(a.getTime());for(var p=new Date(a.getTime());ee.isSameMonth(a,p);)o.push([p.getTime()]),p.setDate(p.getDate()+7);V(o,e,t,i,n),c=D(a,n,c,r),a=j(a,n.day),o=[]}}function C(e,t,n,r){var a=r.day,s=a.map(function(e){return Te.test(e)});if(a.length>1&&s.indexOf(!0)>-1)return void S(e,t,n,r);if(r.month.length&&1===a.length&&s.indexOf(!0)>-1)return void b(e,t,n,r);var o,c=new Date(e.getTime()),p=l(e,r),d=r.interval,h=[];for(r.month.length&&ee.setMonth(c,r.month[0],c.getDate()),i.i(te.isNullOrUndefined)(r.setPosition)&&0===r.month.length&&0===r.weekNo.length&&c.setFullYear(e.getFullYear(),0,1),c=ee.getMonthStartDate(c),c=j(c,r.day);_(c,t);){for(o=new Date(c.getTime());ee.isSameYear(o,c)&&p&&n.length+r.recExceptionCount<=p;)for(o=new Date(c.getTime());ee.isSameYear(o,c);){if(!(0===r.month.length||r.month.length>0&&!ee.checkMonth(c,r.month))){ee.setValidDate(c,1,1),c=j(c,r.day);break}if(a.length>1){if(ee.compareMonth(o,c)){ee.setValidDate(c,1,1),c=j(c,r.day);break}a.indexOf(oe[o.getDay()])>-1&&h.push([o.getTime()]),o.setDate(o.getDate()+1)}else{if(o.getFullYear()>c.getFullYear()){ee.setValidDate(c,1,1),c=j(c,r.day);break}var u=P(a[0]);oe[o.getDay()]===u&&new Date(o.getFullYear(),o.getMonth(),0)>new Date(e.getFullYear())&&h.push([o.getTime()]),o.setDate(o.getDate()+7)}}if(c.setFullYear(o.getFullYear(),o.getMonth(),o.getDate()),V(h,e,t,n,r),ee.isLastMonth(c)&&(ee.setValidDate(c,1,1),c=j(c,r.day)),c.setFullYear(c.getFullYear()+d-1),p&&n.length+r.recExceptionCount>=p)return;c=j(c,r.day),h=[]}}function S(e,t,n,r){var a,s,o,c=r.day,p=l(e,r),d=new Date(e.getTime()),h=r.interval,u=[],g=[],v=0;d=ee.getMonthStartDate(d);var f=[];for(r.month.length&&ee.setMonth(d,r.month[0],1),d=j(d,r.day);_(d,t);){s=new Date(d.getTime());for(var m=0;m<=r.month.length;m++)for(var y=0;y<=c.length-1;y++){for(d=ee.getMonthStartDate(d),d=j(d,r.day),u=[];ee.isSameYear(s,d)&&p&&n.length+r.recExceptionCount<=p;)for(;ee.isSameYear(s,d);){if(s=new Date(d.getTime()),0===r.month.length||r.month.length>0&&r.month[parseInt(m.toString(),10)]===ee.getMonth(s)){var T=c[parseInt(y.toString(),10)].match(we),w=parseInt(T[0],10);for(o=new Date(d.getTime());ee.isSameYear(o,d)&&ee.isSameMonth(o,d);)T[T.length-1]===oe[o.getDay()]&&u.push([o.getTime()]),o.setDate(o.getDate()+1);o.setDate(o.getDate()-1),a=T[0].indexOf("-")>-1?u.length- -1*w:w-1,a=isNaN(a)?0:a}v=D(d,r,v,void 0,1),d=j(d,r.day)}if(d=0===y&&o?new Date(o.getTime()):new Date(s.getTime()),u.length>0&&(i.i(te.isNullOrUndefined)(r.setPosition)?R(u,void 0,e,t,n,r,a):g=[A(u,a,f)]),p&&n.length+r.recExceptionCount>=p)return}i.i(te.isNullOrUndefined)(r.setPosition)||(k(g,void 0,e,t,n,r),f=[]),ee.isLastMonth(d)?(ee.setValidDate(d,1,1),d.setFullYear(d.getFullYear()+h-1)):d.setFullYear(d.getFullYear()+h),d=j(d,r.day),r.month.length&&ee.setMonth(d,r.month[0],d.getDate())}}function O(e,t){var i,n={monthCollection:[],index:0};if(1===t.length){var r=t[0].match(we),a=void 0;r.length>1?(a=parseInt(r[0],10),i=a<1?e.length+a:a-1):(i=0,e=x(e))}else i=0,e=x(e);return n.monthCollection=e,n.index=i,n}function E(e,t,n,r,a,s){var o=s.setPosition<1?e.length+s.setPosition:s.setPosition-1;i.i(te.isNullOrUndefined)(s.setPosition)&&(o=0,e=x(e)),e.length>0&&R(e,t,n,r,a,s,o)}function x(e){for(var t=[],i=0;i<e.length;i++)for(var n=0;n<e[parseInt(i.toString(),10)].length;n++)t.push(new Date(e[parseInt(i.toString(),10)][parseInt(n.toString(),10)]).getTime());return e=t.length>0?[t]:[]}function V(e,t,i,n,r){var a=r.day,s=[],o=[],l=O(e,a);e=l.monthCollection;var c=l.index;null!=r.setPosition?(o=[A(e,c,s)],k(o,void 0,t,i,n,r)):e.length>0&&R(e,void 0,t,i,n,r,c),s=[]}function A(e,t,i){for(var n=0;n<e[parseInt(t.toString(),10)].length;n++)i.push(e[parseInt(t.toString(),10)][parseInt(n.toString(),10)]);return i}function I(e,t,i,n,r,a){var s=l(t,r),c=new Date(a);e=G(c,r),c>=t&&_(c,i)&&e&&s&&n.length+r.recExceptionCount<s&&o(n,a)}function M(e,t,i,n,r){var a=t||0,s=new Date(e,r.month[0]-1,1),o=new Date(e,r.month[0],0),l=o.getDate(),c=(s.getDay()-a+7)%7,p=c+l,d=Math.ceil(p/7)-1,h=i[parseInt(n.toString(),10)][parseInt(d.toString(),10)];return G(new Date(h),r)?d:d-1}function k(e,t,i,n,r,a){if(e.length>0)for(var s=0;s<e.length;s++){e[parseInt(s.toString(),10)].sort();var o=a.day,l=o.map(function(e){return Te.test(e)}),c="YEARLY"===a.freq&&a.validRules.indexOf("BYMONTH")>-1&&!(l.indexOf(!0)>-1)?M(new Date(e[0][0]).getFullYear(),0,e,s,a):e[parseInt(s.toString(),10)].length+a.setPosition,p=a.setPosition<1?c:a.setPosition-1,d=e[parseInt(s.toString(),10)][parseInt(p.toString(),10)];I(t,i,n,r,a,d)}}function R(e,t,n,r,a,s,o){if(e.length>0){o=i.i(te.isNullOrUndefined)(o)?s.setPosition<1?e.length+s.setPosition:s.setPosition-1:o,e[parseInt(o.toString(),10)].sort();for(var l=0;l<e[parseInt(o.toString(),10)].length;l++){I(t,n,r,a,s,e[parseInt(o.toString(),10)][parseInt(l.toString(),10)])}}}function _(e,t){return!t||e<=t}function P(e){return e.replace(De,"")}function H(e,t){var i=[];return t.forEach(function(e){var t=e.match(we);2===t.length?i.push(t[1]):i.push(t[0])}),-1===i.indexOf(oe[parseInt(e.toString(),10)])}function j(e,t){var i,n=new Date(e.getTime());if(t.length>0){for(var r=[],a=0;a<=t.length-1;a++)i=P(t[parseInt(a.toString(),10)]),r.push(i);if(-1===r.indexOf(oe[n.getDay()]))do{n.setDate(n.getDate()+1)}while(-1===r.indexOf(oe[n.getDay()]))}return n}function L(e){var t,i={freq:null,interval:1,count:null,until:null,day:[],wkst:null,month:[],weekNo:[],monthDay:[],yearDay:[],setPosition:null,validRules:[]},n=e.split(";"),r=[];if(n.forEach(function(e){switch(r=e.split("="),r[0]){case"UNTIL":t=r[1],i.until=s(t);break;case"BYDAY":i.day=r[1].split(","),i.validRules.push(r[0]);break;case"BYMONTHDAY":i.monthDay=r[1].split(",").map(Number),i.validRules.push(r[0]);break;case"BYMONTH":i.month=r[1].split(",").map(Number),i.validRules.push(r[0]);break;case"BYYEARDAY":i.yearDay=r[1].split(",").map(Number),i.validRules.push(r[0]);break;case"BYWEEKNO":i.weekNo=r[1].split(",").map(Number),i.validRules.push(r[0]);break;case"INTERVAL":i.interval=parseInt(r[1],10);break;case"COUNT":i.count=parseInt(r[1],10);break;case"BYSETPOS":i.setPosition=parseInt(r[1],10)>4?-1:parseInt(r[1],10);break;case"FREQ":i.freq=r[1];break;case"WKST":i.wkst=r[1]}}),"MONTHLY"===i.freq&&0===i.monthDay.length){var a=i.validRules.indexOf("BYDAY");i.validRules.splice(a,1)}return i}function q(e,t,i){return t<=ee.getMonthDaysCount(e)&&e>=i}function N(e){var t={};return e.forEach(function(i,n){if(n===e.length-1){for(var r=se.indexOf(i),a=r;a%7!==se.indexOf(e[0]);)a++;t[""+i]=a-r}else t[""+i]=se.indexOf(e[n+1])-se.indexOf(i)}),t}function F(e,t){var i,n=t.slice(0),r=ee.getMonthDaysCount(e);for(i=n.shift();i;){if(i<0&&(i=i+r+1),i===e.getDate())return!1;i=n.shift()}return!0}function U(e,t){var i,n=t.slice(0),r=B(e);for(i=n.shift();i;){if(i<0&&(i=i+ee.getYearDaysCount(e,0)+1),i===r)return!1;i=n.shift()}return!0}function B(e){ae[ee.getFullYear(e)]||(ae[ee.getFullYear(e)]=ee.getYearLastDate(e,0));var t=ae[ee.getFullYear(e)],i=e.getTime()-t.getTime();return Math.ceil(i/ie.c)}function W(e){return e.monthDay.length&&!e.day.length?"date":!e.monthDay.length&&e.day.length?"day":"both"}function z(e){var t=e.shift();e.push(t)}function Y(e){for(;se[0]!==e;)z(se)}function G(e,t){var i=!0,n=t.day,r=t.month,a=ee.getExpectedDays(e,t.monthDay),s=t.yearDay;return t.validRules.forEach(function(t){switch(t){case"BYDAY":H(e.getDay(),n)&&(i=!1);break;case"BYMONTH":ee.checkMonth(e,r)&&(i=!1);break;case"BYMONTHDAY":F(e,a)&&(i=!1);break;case"BYYEARDAY":U(e,s)&&(i=!1)}}),i}function X(e){return"Islamic"===e?new ne.b:new ne.a}function Q(e){return[e.getUTCFullYear(),K(e.getUTCMonth()+1),K(e.getUTCDate()),"T",K(e.getUTCHours()),K(e.getUTCMinutes()),K(e.getUTCSeconds()),"Z"].join("")}function K(e){return("0"+e).slice(-2)}t.a=n,t.b=a,t.c=s,t.d=L,t.e=X,t.f=Q;var J,Z,$,ee,te=i(0),ie=(i.n(te),i(1)),ne=i(13),re=i(17),ae={},se=["SU","MO","TU","WE","TH","FR","SA"],oe=["SU","MO","TU","WE","TH","FR","SA"],le=43,ce=["first","second","third","fourth","last"],pe="summaryTimes",de="summaryOn",he="every",ue="summaryUntil",ge="summaryDay",ve="summaryWeek",fe="summaryMonth",me="summaryYear",ye={SU:"sun",MO:"mon",TU:"tue",WE:"wed",TH:"thu",FR:"fri",SA:"sat"},Te=/\d/,De=/[^A-Z]+/,we=/[a-z]+|[^a-z]+/gi},function(e,t,i){"use strict";i.d(t,"a",function(){return c});var n=i(0),r=(i.n(n),i(14)),a=i(3),s=i(2),o=i(1),l=this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),c=function(e){function t(t){var i=e.call(this,t)||this;return i.renderedEvents=[],i.monthHeaderHeight=0,i.moreIndicatorHeight=19,i.renderType="day",i.element=i.parent.activeView.getPanel(),i.fields=i.parent.eventFields,i.maxHeight=i.parent.eventSettings.enableMaxHeight&&!i.parent.eventSettings.enableIndicator&&!i.parent.rowAutoHeight,i.withIndicator=i.parent.eventSettings.enableMaxHeight&&i.parent.eventSettings.enableIndicator&&!i.parent.rowAutoHeight,i.maxOrIndicator=i.maxHeight||i.withIndicator,i.moreIndicatorHeight=i.parent.rowAutoHeight&&i.parent.eventSettings.ignoreWhitespace?0:i.moreIndicatorHeight,i.addEventListener(),i}return l(t,e),t.prototype.removeEventWrapper=function(e){if(e.length>0){e="Month"===this.parent.currentView||!this.parent.activeView.isTimelineView()&&!this.parent.activeViewOptions.timeScale.enable?e:[e[0]];for(var t=0,r=e;t<r.length;t++){var a=r[t];a.parentElement&&a.parentElement.parentNode&&i.i(n.remove)(a.parentElement)}}},t.prototype.renderAppointments=function(){this.parent.dragAndDropModule&&this.parent.dragAndDropModule.setDragArea(),this.isResourceEventTemplate=this.parent.isSpecificResourceEvents();var e=this.parent.element.querySelector("."+a.g);this.parent.rowAutoHeight&&(this.parent.uiStateValues.top=e.scrollTop,this.parent.uiStateValues.left=e.scrollLeft);var t=[].slice.call(this.element.querySelectorAll("."+a.C));if(this.parent.crudModule&&this.parent.crudModule.crudObj.isCrudAction)for(var r=0,l=this.parent.crudModule.crudObj.sourceEvent.length;r<l;r++){var c=[].slice.call(this.element.querySelectorAll('.e-appointment-wrapper [data-group-index="'+this.parent.crudModule.crudObj.sourceEvent[parseInt(r.toString(),10)].groupIndex+'"]'));if(this.removeEventWrapper(c),this.parent.crudModule.crudObj.targetEvent[parseInt(r.toString(),10)]&&this.parent.crudModule.crudObj.sourceEvent[parseInt(r.toString(),10)].groupIndex!==this.parent.crudModule.crudObj.targetEvent[parseInt(r.toString(),10)].groupIndex){var p=[].slice.call(this.element.querySelectorAll('.e-appointment-wrapper [data-group-index="'+this.parent.crudModule.crudObj.targetEvent[parseInt(r.toString(),10)].groupIndex+'"]'));this.removeEventWrapper(p)}}else for(var d=0,h=t;d<h.length;d++){var u=h[d];i.i(n.remove)(u)}if(this.removeHeightProperty(a.h),this.element.querySelector("."+a.n)){if("Month"===this.parent.currentView){var g=i.i(n.createElement)("div",{className:a.C}),v=this.parent.element.querySelector("."+a.n);v.appendChild(g),this.monthHeaderHeight=g.offsetTop-v.offsetTop,v.removeChild(g)}this.eventHeight=o.h(this.element,a.D);var f=e.scrollTop;if(this.parent.rowAutoHeight&&this.parent.virtualScrollModule&&!this.parent.virtualScrollModule.isHorizontalScroll&&!i.i(n.isNullOrUndefined)(this.parent.currentAction)&&(e.scrollTop=e.scrollTop-1),this.parent.activeViewOptions.group.resources.length>0?(this.renderResourceEvents(),this.parent.virtualScrollModule&&this.parent.virtualScrollModule.updateFocusedWorkCell()):this.renderEventsHandler(this.parent.activeView.renderDates,this.parent.activeViewOptions.workDays),this.parent.rowAutoHeight){this.updateBlockElements();var m={cssProperties:this.parent.getCssProperties(),module:this.parent.getModuleName(),isPreventScrollUpdate:!0,scrollPosition:{left:this.parent.uiStateValues.left,top:this.parent.uiStateValues.top}};if(this.parent.virtualScrollModule&&!this.parent.virtualScrollModule.isHorizontalScroll&&(this.parent.currentAction?(e.scrollTop=f,this.parent.currentAction=null):this.parent.virtualScrollModule.updateVirtualScrollHeight()),this.parent.enablePersistence||this.parent.notify(s.D,{}),this.parent.notify(s.G,m),"Month"===this.parent.currentView&&this.parent.showWeekNumber){var y=[].slice.call(this.parent.element.querySelectorAll(".e-content-wrap table tr td:first-child"));[].slice.call(this.parent.element.querySelectorAll("."+a.E)).forEach(function(e,t){var r=y[parseInt(t.toString(),10)].offsetHeight;i.i(n.setStyleAttribute)(e,{height:r+"px"})}),this.parent.element.querySelector("."+a.F).scrollTop=this.parent.element.querySelector("."+a.g).scrollTop}}this.parent.renderTemplates()}},t.prototype.renderEventsHandler=function(e,t,r){this.renderedEvents=[];var s,l,c=0;if(r?(c=r.groupIndex,this.cssClass=r.cssClass,this.groupOrder=r.groupOrder,s=this.parent.eventBase.filterEventsByResource(r,this.parent.eventsProcessed),l=this.parent.eventBase.filterEventsByResource(r,this.parent.blockProcessed),this.workCells=[].slice.call(this.element.querySelectorAll("."+a.n+'[data-group-index="'+c+'"]'))):(s=this.parent.eventsProcessed,l=this.parent.blockProcessed,this.workCells=[].slice.call(this.element.querySelectorAll("."+a.n))),this.sortByDateTime(s),this.sortByDateTime(l),"Month"===this.parent.currentView&&this.parent.rowAutoHeight&&0===this.parent.activeViewOptions.group.resources.length){var p=[].slice.call(this.parent.element.querySelectorAll(".e-content-wrap table tr td:first-child")),d=this.parent.element.querySelector("."+a.h).clientHeight/p.length;p.forEach(function(e){i.i(n.setStyleAttribute)(e,{height:d+"px"})})}var h=this.workCells[this.parent.activeView.isTimelineView()?0:this.workCells.length-1].getBoundingClientRect();this.cellWidth=h.width,this.cellHeight=h.height,this.dateRender=e;var u=this.getRenderedDates(e);this.getSlotDates(t||this.parent.activeViewOptions.workDays),this.processBlockEvents(l,c,r);for(var g=[],v=0,f=s;v<f.length;v++){var m=f[v];this.parent.resourceBase&&!r&&(this.cssClass=this.parent.resourceBase.getCssClass(m)),g=g.concat(this.splitEvent(m,u||this.dateRender))}for(var y=0;y<this.slots.length;y++){this.renderedEvents=[];for(var T=this.slots[parseInt(y.toString(),10)],D=o.d(new Date(T[T.length-1]),1),w=this.filterEvents(new Date(T[0]),D,g),b=0,C=w;b<C.length;b++){var S=C[b];if(this.maxHeight){var O="Month"===this.parent.currentView?S[this.fields.startTime]:this.getStartTime(S,S.data);if(this.getIndex(O)>0)continue}this.updateIndicatorIcon(S),this.renderEvents(S,c,s)}}this.cssClass=null,this.groupOrder=null},t.prototype.processBlockEvents=function(e,t,r){for(var a=0,s=e;a<s.length;a++){var l=s[a];this.parent.resourceBase&&!r&&(this.cssClass=this.parent.resourceBase.getCssClass(l));var c=[];if("day"!==this.renderType||l[this.fields.isAllDay])c.push(l);else{var p=i.i(n.extend)({},l,null,!0),d=this.isSameDate(p[this.fields.startTime],p[this.fields.endTime]);if(p.isBlockIcon=d,!d&&o.s(p[this.fields.startTime])>0){var h=i.i(n.extend)({},l,null,!0);h[this.fields.endTime]=o.d(o.b(new Date(l[this.fields.startTime]+"")),1),h.isBlockIcon=!0,p[this.fields.startTime]=h[this.fields.endTime],c.push(h)}if(!(d=this.isSameDate(p[this.fields.startTime],p[this.fields.endTime]))&&o.s(p[this.fields.endTime])>0){var h=i.i(n.extend)({},l,null,!0);h[this.fields.startTime]=o.b(new Date(l[this.fields.endTime]+"")),h.isBlockIcon=!0,c.push(h),p[this.fields.endTime]=h[this.fields.startTime]}c.push(p)}for(var u=0,g=c;u<g.length;u++)for(var v=g[u],f=this.splitEvent(v,this.dateRender),m=0,y=f;m<y.length;m++){var T=y[m];this.renderBlockEvents(T,t,!!v.isBlockIcon)}}},t.prototype.isSameDate=function(e,t){return new Date(+e).setHours(0,0,0,0)===new Date(+t).setHours(0,0,0,0)},t.prototype.renderBlockEvents=function(e,t,r){var a=e.data,s=this.getStartTime(e,a),l=this.getEndTime(e,a),c=this.parent.getIndexOfDate(this.dateRender,o.b(new Date(s.getTime())));if(!(c<0||s>l)){var p=this.getCellTd(c),d=this.getPosition(s,l,e[this.fields.isAllDay],c);if(r)this.renderBlockIndicator(p,d,t);else{var h=a.count,u=this.getEventWidth(s,l,e[this.fields.isAllDay],h);u=u<=0?this.cellWidth:u;var g=this.parent.enableRtl?0:d,v=this.parent.enableRtl?d:0,f=this.cellHeight-this.monthHeaderHeight,m=this.getRowTop(t),y=this.createBlockAppointmentElement(e,t,this.isResourceEventTemplate);i.i(n.setStyleAttribute)(y,{width:u+"px",height:f+"px",left:g+"px",right:v+"px",top:m+"px"}),this.renderEventElement(e,y,p)}}},t.prototype.renderBlockIndicator=function(e,t,r){var s=i.i(n.createElement)("div",{className:"e-icons "+a.B});i.i(n.isNullOrUndefined)(e.querySelector("."+a.B))&&e.appendChild(s)},t.prototype.getStartTime=function(e,t){return e[this.fields.startTime]},t.prototype.getEndTime=function(e,t){return e[this.fields.endTime]},t.prototype.getCellTd=function(e){return this.workCells[parseInt(e.toString(),10)]},t.prototype.getEventWidth=function(e,t,i,n){return n*this.cellWidth-1},t.prototype.getPosition=function(e,t,i,n){return 0},t.prototype.getRowTop=function(e){return 0},t.prototype.updateIndicatorIcon=function(e){if(-1!==this.parent.currentView.indexOf("Timeline")&&"TimelineMonth"!==this.parent.currentView&&!e[this.fields.isAllDay]){var t=e.data,i=this.parent.activeView.getStartHour(),n=this.parent.activeView.getEndHour(),r=o.w(e[this.fields.startTime],i,n),a=o.w(e[this.fields.endTime],i,n),s=t[this.fields.startTime],l=t[this.fields.endTime];if(t.isLeft=t.isLeft||s.getTime()<r.startHour.getTime(),t.isRight=t.isRight||l.getTime()>a.endHour.getTime(),o.b(s).getTime()!==o.b(l).getTime()){var c=r.startHour,p=a.endHour,d=new Date(o.b(s));if(d.setHours(p.getHours(),p.getMinutes(),p.getSeconds()),t.isLeft=t.isLeft||s.getTime()>=(c.getDate()===r.endHour.getDate()?d.getTime():o.d(d,1).getTime()),l.getTime()!==o.b(l).getTime()){var h=new Date(o.b(l));t.isRight=t.isRight||l.getTime()<=h.setHours(c.getHours(),c.getMinutes(),c.getSeconds())}}}},t.prototype.renderResourceEvents=function(){var e=this.parent.uiStateValues.isGroupAdaptive?[this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex]]:this.parent.resourceBase.renderedResources;if(this.parent.crudModule&&this.parent.crudModule.crudObj.isCrudAction){for(var t=0,i=this.parent.crudModule.crudObj.sourceEvent.length;t<i;t++){var n=this.parent.crudModule.crudObj.sourceEvent[parseInt(t.toString(),10)];if(this.renderEventsHandler(n.renderDates,n.workDays,n),this.parent.crudModule.crudObj.sourceEvent[parseInt(t.toString(),10)].groupIndex!==this.parent.crudModule.crudObj.targetEvent[parseInt(t.toString(),10)].groupIndex){var r=this.parent.crudModule.crudObj.targetEvent[parseInt(t.toString(),10)];this.renderEventsHandler(r.renderDates,r.workDays,r)}}this.parent.crudModule.crudObj.isCrudAction=!1}else for(var a=0,s=e;a<s.length;a++){var o=s[a];this.renderEventsHandler(o.renderDates,o.workDays,o)}},t.prototype.getSlotDates=function(e){this.slots=[];for(var t=this.dateRender.map(function(e){return+e}),i=!this.parent.activeViewOptions.showWeekend||this.parent.activeViewOptions.group.byDate&&this.parent.activeViewOptions.group.hideNonWorkingDays?e.length:o.e;t.length>0;)this.slots.push(t.splice(0,i))},t.prototype.createAppointmentElement=function(e,t,r){void 0===r&&(r=!1);var s=e[this.fields.subject]||this.parent.eventSettings.fields.subject.default||this.parent.localeObj.getConstant("addTitle"),o=i.i(n.extend)({},e,e.data,!0),l={"data-id":"Appointment_"+e[this.fields.id],role:"button",tabindex:"0","aria-disabled":this.parent.eventBase.getReadonlyAttribute(e),"aria-label":this.parent.getAnnouncementString(o,s)};r||(l["data-guid"]=e.Guid),this.parent.activeViewOptions.group.resources.length>0&&(l["data-group-index"]=t.toString());var c=i.i(n.createElement)("div",{className:a.D,attrs:l});i.i(n.isNullOrUndefined)(this.cssClass)||i.i(n.addClass)([c],this.cssClass),e[this.fields.isReadonly]&&i.i(n.addClass)([c],"e-read-only");var p=i.i(n.createElement)("div",{className:a.G});c.appendChild(p);var d,h=e.data,u=this.getEventData(e);if(i.i(n.isNullOrUndefined)(this.parent.activeViewOptions.eventTemplate)){var g=e[this.fields.location]||this.parent.eventSettings.fields.location.default||"",v=i.i(n.createElement)("div",{className:a.H});this.parent.sanitize(s+(g?"; "+g:""),v);var f=i.i(n.createElement)("div",{className:a.I+(this.parent.isAdaptive?" "+a.J:""),innerHTML:this.parent.getTimeString(h[this.fields.startTime])}),m=i.i(n.createElement)("div",{className:a.I+(this.parent.isAdaptive?" "+a.J:""),innerHTML:this.parent.getTimeString(h[this.fields.endTime])});if("Month"===this.parent.currentView)e[this.fields.isAllDay]?(d=[v],i.i(n.addClass)([v],"e-text-center")):h.count<=1&&!h.isLeft&&!h.isRight?d=[f,v]:(d=[],i.i(n.addClass)([v],"e-text-center"),h.isLeft||d.push(f),d.push(v),h.isRight||d.push(m));else{var y=void 0;if(e[this.fields.isAllDay]){y=[v,i.i(n.createElement)("div",{className:a.I,innerHTML:this.parent.localeObj.getConstant("allDay")})]}else{var T=this.parent.getTimeString(h[this.fields.startTime])+" - "+this.parent.getTimeString(h[this.fields.endTime]),D=i.i(n.createElement)("div",{className:a.I+(this.parent.isAdaptive?" "+a.J:""),innerHTML:T}),w=i.i(n.createElement)("div",{className:a.K});this.parent.sanitize(g,w),y=[v,D,w]}var b=i.i(n.createElement)("div",{className:"e-inner-wrap"});i.i(n.append)(y,b),d=[b]}}else{var C=this.parent.element.id+"_",S=this.parent.activeViewOptions.eventTemplateName,O=C+S+"eventTemplate",E="eventTemplate"+(this.isResourceEventTemplate?"_"+t:"");d=this.parent.getAppointmentTemplate()(u,this.parent,E,O,!1)}return i.i(n.append)(d,p),this.appendEventIcons(e,p),this.renderResizeHandler(c,e.data,e[this.fields.isReadonly]),c},t.prototype.appendEventIcons=function(e,t){var r=e.data;if(!i.i(n.isNullOrUndefined)(e[this.fields.recurrenceRule])||!i.i(n.isNullOrUndefined)(e[this.fields.recurrenceID])){var s=e[this.fields.id]===e[this.fields.recurrenceID]?a.L:a.M;t.appendChild(i.i(n.createElement)("div",{className:a.N+" "+s+(this.parent.isAdaptive?" "+a.J:"")}))}if(r.isLeft){var o=i.i(n.createElement)("div",{className:a.O+" "+a.N+" "+a.P});i.i(n.prepend)([o],t)}if(r.isRight){var l=i.i(n.createElement)("div",{className:a.O+" "+a.N+" "+a.Q});i.i(n.append)([l],t)}},t.prototype.renderEvents=function(e,t,r){var s=e[this.fields.startTime],l=e[this.fields.endTime],c=this.parent.getIndexOfDate(this.dateRender,o.b(s));if(!(c<0||s.getTime()<this.parent.minDate.getTime()||l.getTime()>this.parent.maxDate.getTime())){var p=this.getIndex(s);e.Index=p;var d=e.data.count;if(s.getTime()<=l.getTime()){var h=d*this.cellWidth-5,u=this.workCells[parseInt(c.toString(),10)],g=p*(this.eventHeight+0),v=this.monthHeaderHeight+(p+1)*(this.eventHeight+0)+this.moreIndicatorHeight,f=this.maxOrIndicator?p<1:this.cellHeight>v;if(this.parent.rowAutoHeight||f){this.renderedEvents.push(i.i(n.extend)({},e,null,!0));var m=void 0;if(m=this.inlineValue?this.parent.inlineModule.createInlineAppointmentElement():this.createAppointmentElement(e,t),this.applyResourceColor(m,e,"backgroundColor",this.groupOrder),this.wireAppointmentEvents(m,e),i.i(n.setStyleAttribute)(m,{width:h+"px",top:g+"px"}),this.renderEventElement(e,m,u),this.parent.rowAutoHeight){var y=u.parentElement.firstElementChild;this.updateCellHeight(y,v)}}else for(var T=0;T<d;T++)if(this.workCells[c+T]){var D=this.workCells[c+T].querySelector("."+a.z);if(D){var w=parseInt(D.getAttribute("data-count"),10)+1;D.setAttribute("data-count",w.toString()),D.innerHTML=this.getMoreIndicatorText(w)}else{var b=new Date(this.dateRender[c+T].getTime()),C=o.d(this.dateRender[c+T],1),S=this.workCells[c+T].getAttribute("data-group-index"),O=this.getMoreIndicatorElement(1,b,C);i.i(n.isNullOrUndefined)(S)||O.setAttribute("data-group-index",S),O.style.top=this.cellHeight-this.monthHeaderHeight-this.moreIndicatorHeight+"px",O.style.width=this.cellWidth-2+"px",this.renderElement(this.workCells[c+T],O),n.EventHandler.add(O,"click",this.moreIndicatorClick,this)}}}}},t.prototype.updateCellHeight=function(e,t){t>e.offsetHeight&&i.i(n.setStyleAttribute)(e,{height:t+"px"})},t.prototype.updateBlockElements=function(){for(var e=[].slice.call(this.element.querySelectorAll("."+a.A)),t=0,r=e;t<r.length;t++){var s=r[t],o=i.i(n.closest)(s,"tr");this.monthHeaderHeight=s.offsetParent.offsetTop-o.offsetTop,s.style.height=o.offsetHeight-1-this.monthHeaderHeight+"px";var l=o.firstElementChild,c=Math.round(s.offsetWidth/l.offsetWidth);s.style.width=l.offsetWidth*c+"px"}},t.prototype.getFilteredEvents=function(e,t,r,a){var s;if(i.i(n.isNullOrUndefined)(r))s=this.filterEvents(e,t);else{var o=this.parent.resourceBase.lastResourceLevel[parseInt(r,10)];s=this.filterEvents(e,t,i.i(n.isNullOrUndefined)(a)?void 0:a,o)}return s},t.prototype.getOverlapEvents=function(e,t){for(var i=[],n=o.b(e).getTime(),r=0,a=t;r<a.length;r++){var s=a[r];o.b(s[this.fields.startTime]).getTime()<=n&&o.b(s[this.fields.endTime]).getTime()>=n&&i.push(s)}return i},t.prototype.getIndex=function(e){var t=-1,i=this.renderedEvents;if(i.length>0){var n=this.getOverlapEvents(e,i),r=n.map(function(e){return e.Index});t=r.length>0?this.getSmallestMissingNumber(r):0}return-1===t?0:t},t.prototype.moreIndicatorClick=function(e){var t=this,r=i.i(n.closest)(e.target,"."+a.z),o=new Date(parseInt(r.getAttribute("data-start-date"),10)),l=new Date(parseInt(r.getAttribute("data-end-date"),10)),c=r.getAttribute("data-group-index"),p={cancel:!1,event:e,element:r,isPopupOpen:!0,startTime:o,endTime:l,viewName:this.parent.getNavigateView()};c&&(p.groupIndex=parseInt(c,10)),this.parent.trigger(s.c,p,function(i){if(!i.cancel)if(i.isPopupOpen){var n=t.getFilteredEvents(o,l,c),r={date:o,event:n,element:e.target};t.parent.quickPopup.moreEventClick(r,l,c)}else t.parent.setProperties({selectedDate:o},!0),t.parent.changeView(i.viewName,e)})},t.prototype.renderEventElement=function(e,t,i){var n=this,r=t.classList.contains(a.A)?"blockEvent":"event",o=t.classList.contains(a.D),l=this.getEventData(e),c={data:l,element:t,cancel:!1,type:r};this.parent.trigger(s.l,c,function(e){e.cancel?n.renderedEvents.pop():n.renderElement(i,t,o)})},t.prototype.getEventData=function(e){var t=i.i(n.extend)({},e,null,!0);return t[this.fields.startTime]=e.data[this.fields.startTime],t[this.fields.endTime]=e.data[this.fields.endTime],t},t.prototype.renderElement=function(e,t,r){void 0===r&&(r=!1),this.maxOrIndicator&&r&&this.setMaxEventHeight(t,e);var s=e.querySelector("."+a.C);if(s)s.appendChild(t);else{var o=i.i(n.createElement)("div",{className:a.C});o.appendChild(t),e.appendChild(o)}},t.prototype.getMoreIndicatorElement=function(e,t,r){return i.i(n.createElement)("div",{className:a.z,innerHTML:this.getMoreIndicatorText(e),attrs:{tabindex:"0","data-count":e.toString(),"data-start-date":t.getTime().toString(),"data-end-date":r.getTime().toString()}})},t.prototype.getMoreIndicatorText=function(e){return"+"+this.parent.globalize.formatNumber(e)+"&nbsp;"+(this.parent.isAdaptive?"":this.parent.localeObj.getConstant("more"))},t.prototype.removeHeightProperty=function(e){for(var t=[].slice.call(this.element.querySelectorAll("."+e+" tbody tr")),i=0,n=t;i<n.length;i++){n[i].firstElementChild.style.height=""}},t.prototype.setMaxEventHeight=function(e,t){var r=o.C(t.querySelector("."+a.o)),s=t.offsetHeight-r-(this.maxHeight?0:this.moreIndicatorHeight);i.i(n.setStyleAttribute)(e,{height:s+"px","align-items":"center"})},t.prototype.destroy=function(){this.element=null,this.fields=null,this.maxHeight=null,this.withIndicator=null,this.maxOrIndicator=null,this.moreIndicatorHeight=null,this.removeEventListener(),e.prototype.destroy.call(this)},t}(r.a)},function(e,i){e.exports=t},function(e,t,i){"use strict";i.d(t,"a",function(){return l});var n=i(0),r=(i.n(n),i(3)),a=i(1),s=i(5),o=this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),l=function(e){function t(t,i){var n=e.call(this,t)||this;n.startHour=n.parent.activeView.getStartHour(),n.endHour=n.parent.activeView.getEndHour(),n.slotCount=n.parent.activeViewOptions.timeScale.slotCount,n.interval=n.parent.activeViewOptions.timeScale.interval,n.day=0,n.rowIndex=0,n.cellTops=[],n.renderType=i,n.eventContainers=[].slice.call(n.element.querySelectorAll("."+r.l));var a=[].slice.call(n.element.querySelectorAll("."+r.h+" tbody tr"));return n.dayLength=0===a.length?0:a[0].children.length,n.content=n.parent.element.querySelector("."+r.h),n}return o(t,e),t.prototype.getSlotDates=function(){this.slots=[],this.slots.push(this.parent.activeView.renderDates.map(function(e){return+e})),this.parent.activeViewOptions.headerRows.length>0&&"Hour"!==this.parent.activeViewOptions.headerRows.slice(-1)[0].option?(this.renderType="day",this.cellWidth=this.content.offsetWidth/this.dateRender.length,this.slotsPerDay=1):this.slotsPerDay=this.dayLength/this.dateRender.length},t.prototype.getOverlapEvents=function(e,t){var i=[];if("day"===this.renderType)for(var n=0,r=t;n<r.length;n++){var s=r[n];a.b(s[this.fields.startTime]).getTime()<=a.b(new Date(e.getTime())).getTime()&&a.b(s[this.fields.endTime]).getTime()>=a.b(new Date(e.getTime())).getTime()&&i.push(s)}else for(var o=0,l=t;o<l.length;o++){var s=l[o],c=s.data;c.trimStartTime.getTime()<=e.getTime()&&c.trimEndTime.getTime()>e.getTime()&&i.push(s)}return i},t.prototype.getSortComparerIndex=function(e,t){var i=-1,n=this.renderedEvents;if(n.length>0){var r=this.getOverlapSortComparerEvents(e,t,n),a=r.map(function(e){return e.Index});i=a.length>0?this.getSmallestMissingNumber(a):0}return-1===i?0:i},t.prototype.getOverlapSortComparerEvents=function(e,t,i){for(var n=[],r=0,s=i;r<s.length;r++){var o=s[r];if("day"===this.renderType)a.b(o[this.fields.startTime]).getTime()<=a.b(new Date(e.getTime())).getTime()&&a.b(o[this.fields.endTime]).getTime()>=a.b(new Date(e.getTime())).getTime()&&n.push(o);else{var l=o.data;(l.trimStartTime.getTime()<=e.getTime()&&e.getTime()<l.trimEndTime.getTime()||e.getTime()<=l.trimStartTime.getTime()&&l.trimStartTime.getTime()<t.getTime())&&n.push(o)}}return n},t.prototype.renderResourceEvents=function(){this.removeHeightProperty(r.y);var e=this.parent.uiStateValues.isGroupAdaptive?[this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex]]:this.parent.resourceBase.renderedResources;if(this.parent.crudModule&&this.parent.crudModule.crudObj.isCrudAction){for(var t=0,i=this.parent.crudModule.crudObj.sourceEvent.length;t<i;t++){var n=this.parent.crudModule.crudObj.sourceEvent[parseInt(t.toString(),10)];if(this.rowIndex=n.groupIndex,this.renderEventsHandler(this.parent.activeView.renderDates,this.parent.activeViewOptions.workDays,n),this.parent.crudModule.crudObj.targetEvent[parseInt(t.toString(),10)]&&this.parent.crudModule.crudObj.sourceEvent[parseInt(t.toString(),10)].groupIndex!==this.parent.crudModule.crudObj.targetEvent[parseInt(t.toString(),10)].groupIndex){var a=this.parent.crudModule.crudObj.targetEvent[parseInt(t.toString(),10)];this.rowIndex=a.groupIndex,this.renderEventsHandler(this.parent.activeView.renderDates,this.parent.activeViewOptions.workDays,a)}}this.parent.crudModule.crudObj.isCrudAction=!1}else for(var t=0;t<e.length;t++)this.rowIndex=t,this.renderEventsHandler(this.parent.activeView.renderDates,this.parent.activeViewOptions.workDays,e[parseInt(t.toString(),10)])},t.prototype.renderEvents=function(e,t,s){var o=e[this.fields.startTime],l=e[this.fields.endTime];if(!(o.getTime()<this.parent.minDate.getTime()||l.getTime()>this.parent.maxDate.getTime())){var c=e.data;o=this.getStartTime(e,c),l=this.getEndTime(e,c);var p=a.w(e[this.fields.startTime],this.startHour,this.endHour),d=this.updateEventMinimumDuration(p,o,l);if(o=d.startDate,l=d.endDate,this.day=this.parent.getIndexOfDate(this.dateRender,a.b(new Date(o.getTime()))),!(this.day<0)){var h=this.getCellTd(),u=i.i(n.isNullOrUndefined)(this.parent.eventSettings.sortComparer)?this.getIndex(o):this.getSortComparerIndex(o,l);e.Index=u;var g=this.eventHeight,v=c.count,f=i.i(n.extend)({},e,null,!0);f[this.fields.startTime]=c[this.fields.startTime],f[this.fields.endTime]=c[this.fields.endTime];var m=a.b(new Date(this.dateRender[this.day].getTime())),y=a.w(m,this.startHour,this.endHour),T=!0;if(T=!(!this.isDayProcess()&&!f[this.fields.isAllDay])||this.isValidEvent(f,o,l,y),o<=l&&T){var D=this.getEventWidth(o,l,e[this.fields.isAllDay],v);D="day"===this.renderType?D-2:D;var w=0,b=0,C=this.getPosition(o,l,e[this.fields.isAllDay],this.day);D=D<=0?this.cellWidth:D,this.renderedEvents.push(i.i(n.extend)({},e,null,!0)),i.i(n.isNullOrUndefined)(this.cellTops[parseInt(t.toString(),10)])&&(this.cellTops[parseInt(t.toString(),10)]=this.getRowTop(t));var S=this.cellTops[parseInt(t.toString(),10)],O=S+(this.maxHeight?0:2)+u*(g+2);w=this.parent.enableRtl?0:C,b=this.parent.enableRtl?C:0;var E=(u+1)*(g+2)+this.moreIndicatorHeight,x=this.maxOrIndicator?u<1:this.cellHeight>E;if(this.parent.rowAutoHeight||x){var V=void 0;if(V=i.i(n.isNullOrUndefined)(this.inlineValue)?this.createAppointmentElement(e,t):this.parent.inlineModule.createInlineAppointmentElement(),this.applyResourceColor(V,e,"backgroundColor",this.groupOrder),i.i(n.setStyleAttribute)(V,{width:D+"px",left:w+"px",right:b+"px",top:O+"px"}),this.wireAppointmentEvents(V,e),this.renderEventElement(e,V,h),this.parent.rowAutoHeight){var A=this.getFirstChild(t);this.updateCellHeight(A,E)}}else for(var I=0;I<v;I++){var M=h.querySelector("."+r.z),k=this.parent.enableRtl?b:w;k=Math.floor(k/this.cellWidth)*this.cellWidth;var R=this.interval/this.slotCount,_="TimelineMonth"===this.parent.activeViewOptions.option||"day"===this.renderType||0!==I?new Date(this.dateRender[this.day+I].getTime()):new Date(o),P=a.d(this.dateRender[this.day+I],1);if("TimelineMonth"===this.parent.activeViewOptions.option||"day"===this.renderType){var H=this.getPosition(_,P,e[this.fields.isAllDay],this.day+I);this.renderTimelineMoreIndicator(o,_,P,g,R,t,s,S,w,b,h,M,k,H)}else for(var j=(a.F(l)-a.F(o))/a.g*this.slotCount/this.interval,L=0;L<j&&(_=0===L?new Date(_.getTime()):new Date(_.getTime()+6e4*R),P=new Date(_.getTime()+6e4*R),!(P.getTime()>l.getTime()));L++){var q=this.getPosition(_,P,!1,this.day+I);if(k>q)break;k=q,this.renderTimelineMoreIndicator(o,_,P,g,R,t,s,S,w,b,h,M,k,q)}}}this.parent.renderTemplates()}}},t.prototype.renderTimelineMoreIndicator=function(e,t,r,a,s,o,l,c,p,d,h,u,g,v){if(p=this.parent.enableRtl?d=v:v,g=this.parent.enableRtl?d:p,g=Math.round(g/this.cellWidth)*this.cellWidth,h&&i.i(n.isNullOrUndefined)(u)||!this.isAlreadyAvail(g,h)){var f="TimelineMonth"===this.parent.activeViewOptions.option||"day"===this.renderType?new Date(+e):t,m=new Date(f.setMinutes(Math.floor(f.getMinutes()/s)*s)),y=new Date(m.getTime()+6e4*s),T=void 0;this.parent.activeViewOptions.group.resources.length>0&&!i.i(n.isNullOrUndefined)(o)&&(T=o.toString());var D=this.getFilterEvents(t,r,m,y,T,l),w=this.cellHeight-this.moreIndicatorHeight;a=this.withIndicator?w-2:a;var b=Math.floor(w/(a+2)),C=D.length-b<=0?1:D.length-b,S=void 0;S="day"===this.renderType?this.getMoreIndicatorElement(C,t,r):this.getMoreIndicatorElement(C,m,y),i.i(n.isNullOrUndefined)(T)||S.setAttribute("data-group-index",T),S.style.top=c+w+"px",S.style.width=this.cellWidth+"px",S.style.left=p/this.cellWidth*this.cellWidth+"px",S.style.right=d/this.cellWidth*this.cellWidth+"px",this.renderElement(h,S),n.EventHandler.add(S,"click",this.moreIndicatorClick,this)}},t.prototype.updateCellHeight=function(e,t){if(t>(""===e.style.height?this.cellHeight:parseInt(e.style.height,10))){if(i.i(n.setStyleAttribute)(e,{height:t+"px"}),this.parent.activeViewOptions.group.resources.length>0){var a=this.parent.element.querySelector("."+r.y+' tbody td[data-group-index="'+e.getAttribute("data-group-index")+'"]');a&&i.i(n.setStyleAttribute)(a,{height:t+"px"})}var s=this.parent.element.querySelector(".e-month-header-wrapper table tr:nth-child("+(e.parentElement.rowIndex+1)+") td");s&&i.i(n.setStyleAttribute)(s,{height:t+"px"})}},t.prototype.getFirstChild=function(e){var t="."+r.h+" tbody td",i="";return this.parent.activeViewOptions.group.resources.length>0&&(i='[data-group-index="'+e.toString()+'"]'),this.parent.element.querySelector(t+i)},t.prototype.updateBlockElements=function(){for(var e=[].slice.call(this.element.querySelectorAll("."+r.A)),t=0,i=e;t<i.length;t++){var n=i[t],a=parseInt(n.getAttribute("data-group-index"),10),s=this.getFirstChild(a);n.style.height=s.offsetHeight+"px";var o=Math.round(n.offsetWidth/s.offsetWidth);n.style.width=s.offsetWidth*o+"px"}for(var l=[].slice.call(this.element.querySelectorAll("."+r.B)),c=0,p=l;c<p.length;c++){var n=p[c],a=parseInt(n.getAttribute("data-group-index"),10);n.style.top=this.getRowTop(a)+this.getFirstChild(a).offsetHeight-18+"px"}},t.prototype.getStartTime=function(e,t){var i=e[this.fields.startTime],n=a.w(i,this.startHour,this.endHour);return i=this.isDayProcess()?e[this.fields.startTime]:n.startHour.getTime()>=t[this.fields.startTime]?n.startHour:n.endHour.getTime()<=t[this.fields.startTime]?this.getNextDay(n.startHour,t):t[this.fields.startTime],t.trimStartTime=e[this.fields.isAllDay]?n.startHour:t[this.fields.startTime],i},t.prototype.getNextDay=function(e,t){for(var i,n=1;n<=this.dateRender.length;n++)if(i=a.d(e,n),-1!==this.parent.getIndexOfDate(this.dateRender,a.b(new Date(e.getTime()))))return t.count=t.count-1,i;return i},t.prototype.getEndTime=function(e,t){var i=e[this.fields.endTime],n=a.w(i,this.startHour,this.endHour);return this.isDayProcess()?i=t[this.fields.endTime]:(i=t[this.fields.endTime],(n.endHour.getTime()<=t[this.fields.endTime]||e[this.fields.isAllDay])&&(i=n.endHour),n.startHour.getTime()>=t[this.fields.endTime].getTime()&&!e[this.fields.isAllDay]&&(i=this.getPreviousDay(n.startHour,n.endHour,t))),t.trimEndTime=e[this.fields.isAllDay]?n.endHour:t[this.fields.endTime],i},t.prototype.getPreviousDay=function(e,t,i){for(var n=1;n<=this.dateRender.length;n++){var r=a.d(t,-n);if(-1!==this.parent.getIndexOfDate(this.dateRender,a.b(new Date(e.getTime())))){r=a.b(new Date(r.getTime())),r.setHours(t.getHours(),t.getMinutes(),t.getSeconds());var s=i.count,o=i[this.fields.endTime];return i.count=0!==o.getHours()||0!==o.getMinutes()?s-1:s,r}}return i[this.fields.endTime]},t.prototype.getEventWidth=function(e,t,i,n){return"day"===this.renderType||i?n*this.slotsPerDay*this.cellWidth:this.isSameDay(e,t)?this.getSameDayEventsWidth(e,t):this.getSpannedEventsWidth(e,t,n)},t.prototype.getSameDayEventsWidth=function(e,t){return(a.F(t)-a.F(e))/a.g*(this.cellWidth*this.slotCount)/this.interval},t.prototype.getSpannedEventsWidth=function(e,t,i){var n,r=i*this.slotsPerDay*this.cellWidth,s=a.w(a.b(new Date(e.getTime())),this.startHour,this.endHour),o=this.getSameDayEventsWidth(s.startHour,e);if(-1===this.parent.getIndexOfDate(this.dateRender,a.b(new Date(t.getTime()))))n=0;else{var l=a.w(a.b(new Date(t.getTime())),this.startHour,this.endHour);n=this.getSameDayEventsWidth(t,l.endHour),n=this.slotsPerDay*this.cellWidth===n?0:n}var c=o+n;return r>c?r-c:r-o},t.prototype.isSameDay=function(e,t){return this.parent.getIndexOfDate(this.dateRender,a.b(new Date(e.getTime())))===this.parent.getIndexOfDate(this.dateRender,a.b(new Date(t.getTime())))},t.prototype.getAppointmentLeft=function(e,t,i){var n=this.isSameDay(t,e.startHour)?(a.F(t)-a.F(e.startHour))/(a.g*this.interval)*this.slotCount:0;return 0===i?n:Math.round((a.F(e.endHour)-a.F(e.startHour))/a.g/this.interval*this.slotCount)*i+n},t.prototype.getPosition=function(e,t,i,n){if("day"===this.renderType||i)return n*this.slotsPerDay*this.cellWidth;var r=a.b(new Date(this.dateRender[parseInt(n.toString(),10)].getTime())),s=a.w(r,this.startHour,this.endHour);return(s.endHour.getTime()<=t.getTime()&&s.startHour.getTime()>=e.getTime()?this.getAppointmentLeft(s,s.startHour,n):s.endHour.getTime()<=t.getTime()?this.getAppointmentLeft(s,e,n):s.startHour.getTime()>=e.getTime()?this.getAppointmentLeft(s,s.startHour,n):this.getAppointmentLeft(s,e,n))*this.cellWidth},t.prototype.getFilterEvents=function(e,t,i,n,r,a){return"day"===this.renderType?this.getFilteredEvents(e,t,r,a):this.getFilteredEvents(i,n,r,a)},t.prototype.isAlreadyAvail=function(e,t){for(var i=[].slice.call(t.querySelectorAll("."+r.z)),n=0;n<i.length;n++){var a=void 0;if(i&&(a=this.parent.enableRtl?i[parseInt(n.toString(),10)].style.right:i[parseInt(n.toString(),10)].style.left),parseInt(a,10)===Math.floor(e))return!0}return!1},t.prototype.getRowTop=function(e){return this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive?this.parent.element.querySelector("."+r.g+' tbody td[data-group-index="'+e.toString()+'"]').offsetTop:0},t.prototype.getCellTd=function(){var e=this.parent.uiStateValues.isGroupAdaptive?0:this.rowIndex;return this.eventContainers[parseInt(e.toString(),10)]},t.prototype.renderBlockIndicator=function(e,t,a){if(!(this.parent.headerRows.length>0&&("Hour"!==this.parent.headerRows[this.parent.headerRows.length-1].option||"Date"!==this.parent.headerRows[this.parent.headerRows.length-1].option)||(t=Math.floor(t/this.cellWidth)*this.cellWidth+this.cellWidth-22,this.isAlreadyAvail(t,e)))){var s=i.i(n.createElement)("div",{className:"e-icons "+r.B});this.parent.activeViewOptions.group.resources.length>0&&s.setAttribute("data-group-index",a.toString()),this.parent.enableRtl?s.style.right=t+"px":s.style.left=t+"px",s.style.top=this.getRowTop(a)+this.cellHeight-18+"px",this.renderElement(e,s)}},t.prototype.setMaxEventHeight=function(e,t){i.i(n.setStyleAttribute)(e,{height:this.cellHeight-(this.maxHeight?0:2)-(this.maxHeight?0:this.moreIndicatorHeight)+"px"})},t.prototype.isDayProcess=function(){return"TimelineMonth"===this.parent.currentView||!this.parent.activeViewOptions.timeScale.enable||this.parent.activeViewOptions.headerRows.length>0&&"Hour"!==this.parent.activeViewOptions.headerRows.slice(-1)[0].option},t.prototype.destroy=function(){this.renderType=null,this.eventContainers=null,this.dayLength=null,this.content=null,e.prototype.destroy.call(this),this.parent=null},t}(s.a)},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(0),r=(i.n(n),i(3)),a=i(2),s=i(1),o=function(){function e(e){this.previousNextAction="next",this.parent=e}return e.prototype.isTimelineView=function(){return-1!==this.parent.currentView.indexOf("Timeline")},e.prototype.getContentRows=function(){return[]},e.prototype.refreshHeader=function(){},e.prototype.refreshResourceHeader=function(){i.i(n.remove)(this.element.querySelector("tbody").lastElementChild.firstElementChild);var e=i.i(n.createElement)("td");e.appendChild(this.parent.resourceBase.createResourceColumn()),i.i(n.prepend)([e],this.element.querySelector("tbody").lastElementChild),this.parent.notify(a.D,{})},e.prototype.getDayName=function(e){return this.parent.getDayNames("abbreviated")[e.getDay()]},e.prototype.getDate=function(e){return this.parent.globalize.formatDate(e,{format:"d",calendar:this.parent.getCalendarMode()})},e.prototype.getTime=function(e){return this.parent.isAdaptive?"HH:mm"===this.parent.activeViewOptions.timeFormat||"HH.mm"===this.parent.activeViewOptions.timeFormat?this.parent.globalize.formatDate(e,{format:"H",calendar:this.parent.getCalendarMode()}):this.parent.globalize.formatDate(e,{skeleton:"h",calendar:this.parent.getCalendarMode()}):this.parent.getTimeString(e)},e.prototype.getTimelineDate=function(e){var t=this.parent.globalize.formatDate(e,{skeleton:"MMMd",calendar:this.parent.getCalendarMode()})+", "+this.parent.getDayNames("wide")[e.getDay()];return s.a(t,"multiple")},e.prototype.createEventTable=function(e){var t=i.i(n.createElement)("div",{className:r.i});return i.i(n.append)(this.getEventRows(e),t),t},e.prototype.getEventRows=function(e){for(var t,a=[],s=0;s<e;s++)t=i.i(n.createElement)("div",{className:r.l}),this.parent.resourceBase&&!this.parent.uiStateValues.isGroupAdaptive&&this.parent.resourceBase.renderedResources&&t.setAttribute("data-group-index",this.parent.resourceBase.renderedResources[parseInt(s.toString(),10)].groupIndex.toString()),a.push(t);return a},e.prototype.collapseRows=function(e){this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive&&(this.parent.resourceBase.hideResourceRows(e.querySelector("tbody")),this.parent.resourceBase.hideResourceRows(e.querySelector("."+r.i)))},e.prototype.createTableLayout=function(e){var t=e||"",a=i.i(n.createElement)("table",{className:r.j+" "+t}),s=i.i(n.createElement)("tbody");return a.appendChild(s),a},e.prototype.setAriaAttributes=function(e){e.setAttribute("role","grid"),e.setAttribute("aria-label",this.getLabelText(this.parent.currentView))},e.prototype.createColGroup=function(e,t){var r=t.length;t[0]&&t[0].colSpan&&(r=t.map(function(e){return e.colSpan}).reduce(function(e,t){return e+t}));for(var a=i.i(n.createElement)("colgroup"),s=0;s<r;s++)a.appendChild(i.i(n.createElement)("col"));i.i(n.prepend)([a],e)},e.prototype.getScrollXIndent=function(e){return e.offsetHeight-e.clientHeight>0?s.A():0},e.prototype.scrollTopPanel=function(e){this.getDatesHeaderElement().firstElementChild.scrollLeft=e.scrollLeft},e.prototype.scrollHeaderLabels=function(e){for(var t=this.element.querySelector(".e-date-header-wrap table"),r=t.offsetWidth/t.querySelectorAll("colgroup col").length,a=[".e-header-year-cell",".e-header-month-cell",".e-header-week-cell",".e-header-cells"],s=0,o=a;s<o.length;s++){var l=o[s],c=[].slice.call(this.element.querySelectorAll(l));if(c.length>0){for(var p=0,d=c;p<d.length;p++){d[p].children[0].style[this.parent.enableRtl?"right":"left"]=""}!function(t,a){for(var s,o=0,l=0,c=a?-e.scrollLeft:e.scrollLeft,p=0,d=t;p<d.length;p++){var h=d[p];if((l+=parseInt(h.getAttribute("colSpan"),10))>Math.floor(c/r)){s=h;break}o+=h.offsetWidth}i.i(n.isNullOrUndefined)(s)||(s.children[0].style[a?"right":"left"]=c-o+"px")}(c,this.parent.enableRtl)}}},e.prototype.addAttributes=function(e,t){e.template&&i.i(n.append)(e.template,t),e.colSpan&&t.setAttribute("colspan",e.colSpan.toString()),e.className&&i.i(n.addClass)([t],e.className)},e.prototype.getHeaderBarHeight=function(){var e=2;if(this.parent.headerModule&&(e+=s.C(this.parent.headerModule.getHeaderElement())),this.parent.uiStateValues.isGroupAdaptive){var t=this.parent.element.querySelector("."+r._38);t&&(e+=t.offsetHeight)}return e},e.prototype.renderPanel=function(e){e===r._58?i.i(n.prepend)([this.element],this.parent.element.querySelector("."+r._53)):this.parent.element.querySelector("."+r._53).appendChild(this.element)},e.prototype.setPanel=function(e){this.element=e},e.prototype.getPanel=function(){return this.element},e.prototype.getDatesHeaderElement=function(){return this.element.querySelector("."+r.c)},e.prototype.getDateSlots=function(e,t){return[]},e.prototype.generateColumnLevels=function(){return[]},e.prototype.getColumnLevels=function(){return this.colLevels},e.prototype.highlightCurrentTime=function(){},e.prototype.getStartDate=function(){return this.renderDates[0]},e.prototype.getEndDate=function(){return this.renderDates[this.renderDates.length-1]},e.prototype.startDate=function(){return this.renderDates[0]},e.prototype.endDate=function(){return s.d(this.renderDates[this.renderDates.length-1],1)},e.prototype.getStartHour=function(){var e=this.parent.getStartEndTime(this.parent.activeViewOptions.startHour);return i.i(n.isNullOrUndefined)(e)&&(e=new Date(2e3,0,0,0)),e},e.prototype.getEndHour=function(){var e=this.parent.getStartEndTime(this.parent.activeViewOptions.endHour);return i.i(n.isNullOrUndefined)(e)&&(e=new Date(2e3,0,0,0)),e},e.prototype.isCurrentDate=function(e){return e.setHours(0,0,0,0)===new Date(this.parent.currentTimezoneDate).setHours(0,0,0,0)},e.prototype.isCurrentMonth=function(e){return this.parent.activeViewOptions.displayDate||this.parent.activeViewOptions.numberOfWeeks>0?this.parent.activeView.getStartDate().getTime()<=this.parent.getCurrentTime().getTime()&&this.parent.activeView.getEndDate().getTime()>=this.parent.getCurrentTime().getTime():e.getFullYear()===this.parent.getCurrentTime().getFullYear()&&e.getMonth()===this.parent.getCurrentTime().getMonth()},e.prototype.isWorkDay=function(e,t){return void 0===t&&(t=this.parent.activeViewOptions.workDays),t.indexOf(e.getDay())>=0},e.prototype.isWorkHour=function(e,t,r,a){return!i.i(n.isNullOrUndefined)(t)&&!i.i(n.isNullOrUndefined)(r)&&(t.setMilliseconds(0),r.setMilliseconds(0),!(s.s(e)<s.s(t)||s.s(e)>=s.s(r)||!this.isWorkDay(e,a)))},e.prototype.getRenderDates=function(e){var t=[];if("Week"===this.parent.currentView||"TimelineWeek"===this.parent.currentView)for(var i=s.b(this.parent.selectedDate),n=s.l(i,this.parent.activeViewOptions.firstDayOfWeek),r=0,a=s.e*this.parent.activeViewOptions.interval;r<a;r++)this.parent.activeViewOptions.showWeekend?t.push(n):this.isWorkDay(n,e)&&t.push(n),n=s.d(n,1);else if("WorkWeek"===this.parent.currentView||"TimelineWorkWeek"===this.parent.currentView)for(var n=s.l(s.b(this.parent.selectedDate),this.parent.activeViewOptions.firstDayOfWeek),r=0,o=s.e*this.parent.activeViewOptions.interval;r<o;r++)this.isWorkDay(n,e)&&t.push(n),n=s.d(n,1);else{var l="Agenda"===this.parent.currentView?this.parent.agendaDaysCount:this.parent.activeViewOptions.interval,n=s.b(this.parent.selectedDate);do{this.parent.activeViewOptions.showWeekend?t.push(n):this.isWorkDay(n,e)&&t.push(n),n=s.d(n,1)}while(l!==t.length)}return e||(this.renderDates=t),this.parent.headerModule&&this.parent.headerModule.previousNextIconHandler(),t},e.prototype.getNextPreviousDate=function(e){if(this.previousNextAction=e,"Day"===this.parent.currentView||"TimelineDay"===this.parent.currentView){if(this.parent.activeViewOptions.showWeekend){var t=this.parent.activeViewOptions.interval;return s.d(this.parent.selectedDate,"next"===e?t:-t)}var i=void 0;if("next"===e)for(i=s.d(this.renderDates.slice(-1)[0],1);!this.isWorkDay(i);)i=s.d(i,1);else{i=s.d(this.renderDates[0],-1);var n=0;do{this.isWorkDay(i)&&(n+=1),this.parent.activeViewOptions.interval!==n&&(i=s.d(i,-1))}while(this.parent.activeViewOptions.interval!==n)}return i}var r="next"===e?s.e:-s.e;return s.d(this.parent.selectedDate,r*this.parent.activeViewOptions.interval)},e.prototype.getLabelText=function(e){var t=e.charAt(0).toLowerCase()+e.substring(1);return this.parent.localeObj.getConstant(t)+" of "+s.a(this.parent.globalize.formatDate(this.parent.selectedDate,{skeleton:"long",calendar:this.parent.getCalendarMode()}),"single")},e.prototype.getDateRangeText=function(){if(this.parent.isAdaptive){var e=this.parent.activeViewOptions.dateFormat?this.parent.activeViewOptions.dateFormat:"MMMM y";return s.a(this.parent.globalize.formatDate(this.parent.selectedDate,{format:e,calendar:this.parent.getCalendarMode()}),"single")}return this.formatDateRange(this.renderDates[0],this.renderDates[this.renderDates.length-1])},e.prototype.formatDateRange=function(e,t){var r=this.parent.globalize,a=this.parent.getCalendarMode();if(e===t&&(t=null),!i.i(n.isNullOrUndefined)(this.parent.activeViewOptions.dateFormat)){var o="";return t?(o=r.formatDate(e,{format:this.parent.activeViewOptions.dateFormat,calendar:a})+" - "+r.formatDate(t,{format:this.parent.activeViewOptions.dateFormat,calendar:a}),s.a(o,"multiple")):(o=r.formatDate(e,{format:this.parent.activeViewOptions.dateFormat,calendar:a}),s.a(o,"multiple"))}var l,c;if(c="en"===this.parent.locale||"en-US"===this.parent.locale?i.i(n.getValue)("dateFormats.long",i.i(n.getDefaultDateObject)(a)):i.i(n.getValue)("main."+this.parent.locale+".dates.calendars."+a+".dateFormats.long",n.cldrData),!t)return s.a(r.formatDate(e,{format:c,calendar:a}),"single");var p=c.trim().toLocaleLowerCase();return l="d"===p.substr(0,1)?e.getFullYear()===t.getFullYear()?e.getMonth()===t.getMonth()?r.formatDate(e,{format:"dd",calendar:a})+" - "+r.formatDate(t,{format:"dd MMMM yyyy",calendar:a}):r.formatDate(e,{format:"dd MMM",calendar:a})+" - "+r.formatDate(t,{format:"dd MMM yyyy",calendar:a}):r.formatDate(e,{format:"dd MMM yyyy",calendar:a})+" - "+r.formatDate(t,{format:"dd MMM yyyy",calendar:a}):"m"===p.substr(0,1)?e.getFullYear()===t.getFullYear()?e.getMonth()===t.getMonth()?r.formatDate(e,{format:"MMMM dd",calendar:a})+" - "+r.formatDate(t,{format:"dd, yyyy",calendar:a}):r.formatDate(e,{format:"MMM dd",calendar:a})+" - "+r.formatDate(t,{format:"MMM dd, yyyy",calendar:a}):r.formatDate(e,{format:"MMM dd, yyyy",calendar:a})+" - "+r.formatDate(t,{format:"MMM dd, yyyy",calendar:a}):r.formatDate(e,{format:c,calendar:a})+" - "+r.formatDate(t,{format:c,calendar:a}),s.a(l,"multiple")},e.prototype.getMobileDateElement=function(e,t){return i.i(n.createElement)("div",{className:t,innerHTML:'<div class="e-m-date">'+this.parent.globalize.formatDate(e,{format:"d",calendar:this.parent.getCalendarMode()})+'</div><div class="e-m-day">'+s.a(this.parent.globalize.formatDate(e,{format:"E",calendar:this.parent.getCalendarMode()}),"single")+"</div>"})},e.prototype.setResourceHeaderContent=function(e,t,a){if(void 0===a&&(a=r._59),this.parent.activeViewOptions.resourceHeaderTemplate){var s={resource:t.resource,resourceData:t.resourceData},o=this.parent.element.id+"_",l=this.parent.activeViewOptions.resourceHeaderTemplateName,c=o+l+"resourceHeaderTemplate",p=[].slice.call(this.parent.getResourceHeaderTemplate()(s,this.parent,"resourceHeaderTemplate",c,!1));i.i(n.append)(p,e)}else{var d=i.i(n.createElement)("div",{className:a});this.parent.sanitize(t.resourceData[t.resource.textField],d),e.appendChild(d)}},e.prototype.renderResourceMobileLayout=function(){this.parent.resourceBase.lastResourceLevel&&this.parent.resourceBase.lastResourceLevel.length<=0||(this.parent.resourceBase.renderResourceHeader(),this.parent.resourceBase.renderResourceTree())},e.prototype.addAutoHeightClass=function(e){!this.parent.uiStateValues.isGroupAdaptive&&this.parent.rowAutoHeight&&this.isTimelineView()&&this.parent.activeViewOptions.group.resources.length>0&&i.i(n.addClass)([e],r.k)},e.prototype.getColElements=function(){return[].slice.call(this.element.querySelectorAll("."+r.g+" col, ."+r.d+" col"))},e.prototype.setColWidth=function(e){if(this.isTimelineView()){var t=this.getColElements(),a=this.element.querySelector("."+r.h+" tbody"),s=a.getBoundingClientRect().width/(t.length/2);if(e.offsetHeight!==e.clientHeight){var o=this.parent.element.querySelector("."+r.x);i.i(n.isNullOrUndefined)(o)||i.i(n.setStyleAttribute)(o,{height:i.i(n.formatUnit)(e.clientHeight)})}var l="."+r.e+",."+r._11+",."+r._60+",."+r._61+",."+r._62;[].slice.call(this.element.querySelectorAll(l)).forEach(function(e){var t=i.i(n.isNullOrUndefined)(e.getAttribute("colspan"))?"1":e.getAttribute("colspan"),r=parseInt(t,10);i.i(n.setStyleAttribute)(e,{width:i.i(n.formatUnit)(s*r)})})}},e.prototype.resetColWidth=function(){for(var e=this.getColElements(),t=0,i=e;t<i.length;t++){i[t].style.width=""}},e.prototype.getContentAreaElement=function(){return this.element.querySelector("."+r.g)},e.prototype.wireExpandCollapseIconEvents=function(){if(this.parent.resourceBase&&this.parent.resourceBase.resourceCollection.length>1)for(var e=[].slice.call(this.element.querySelectorAll("."+r._63)),t=0,i=e;t<i.length;t++){var a=i[t];n.EventHandler.clearEvents(a),n.EventHandler.add(a,"click",this.parent.resourceBase.onTreeIconClick,this.parent.resourceBase)}},e.prototype.scrollToDate=function(e){if(-1!==["Month","TimelineMonth"].indexOf(this.parent.currentView)&&!i.i(n.isNullOrUndefined)(e)){var t=this.getContentAreaElement(),a=new Date(s.b(new Date(+e)).getTime()).getTime(),o=t.querySelector("."+r.n+'[data-date="'+a+'"]');"Month"===this.parent.currentView&&o&&(t.scrollWidth>t.clientWidth&&(this.parent.enableRtl?t.scrollLeft=-(this.parent.getContentTable().offsetWidth-o.offsetLeft-o.offsetWidth):t.scrollLeft=o.offsetLeft),t.scrollTop=o.offsetTop),"TimelineMonth"===this.parent.currentView&&o&&(this.parent.enableRtl?t.scrollLeft=-(this.parent.getContentTable().offsetWidth-o.offsetLeft-o.offsetWidth):t.scrollLeft=o.offsetLeft)}},e.prototype.setPersistence=function(){if(this.parent.enablePersistence){var e=this.element.querySelector(".e-content-wrap");i.i(n.isNullOrUndefined)(e)||(this.parent.scrollLeft=e.scrollLeft,this.parent.scrollTop=e.scrollTop)}},e.prototype.retainScrollPosition=function(){if(this.parent.enablePersistence){var e=this.parent.element.querySelector(".e-content-wrap");i.i(n.isNullOrUndefined)(e)||i.i(n.isNullOrUndefined)(this.parent.scrollLeft)||i.i(n.isNullOrUndefined)(this.parent.scrollTop)||(e.scrollTop=this.parent.scrollTop,e.scrollLeft=this.parent.scrollLeft)}},e.prototype.getViewStartDate=function(){var e=this.renderDates[0];return this.parent.activeViewOptions.group.resources.length>0&&this.parent.resourceBase.lastResourceLevel.length>0&&(e=this.parent.resourceBase.getResourceRenderDates()[0]),e},e.prototype.getViewEndDate=function(){var e=s.d(this.renderDates[this.renderDates.length-1],1);return this.parent.activeViewOptions.group.resources.length>0&&this.parent.resourceBase.lastResourceLevel.length>0&&(e=s.d(this.parent.resourceBase.getResourceRenderDates().slice(-1)[0],1)),e},e.prototype.getAdjustedDate=function(e){return!this.parent.activeViewOptions.timeScale.enable||"Month"===this.parent.currentView||"TimelineYear"===this.parent.currentView&&0===this.parent.activeViewOptions.group.resources.length?new Date(e.setHours(0,0,0,0)):"TimelineYear"===this.parent.currentView&&this.parent.activeViewOptions.group.resources.length>0?(e.setHours(0,0,0,0),new Date(e.setDate(1))):null},e.prototype.resetColLevels=function(){this.parent.resourceBase.expandedResources=[];for(var e=this.parent.virtualScrollModule.getRenderedCount(),t=this.parent.activeViewOptions.group.byDate?this.colLevels[0]:this.parent.resourceBase.renderedResources,i=0,n=0;n<t.length&&!(i>=e);n++)i+=t[parseInt(n.toString(),10)].colSpan,this.parent.resourceBase.expandedResources.push(t[parseInt(n.toString(),10)]);this.parent.activeViewOptions.group.byDate?(this.colLevels[0]=this.parent.resourceBase.expandedResources,this.parent.virtualScrollModule.setRenderedDates(this.parent.resourceBase.expandedResources)):(this.colLevels[this.colLevels.length-2]=this.parent.resourceBase.expandedResources,this.parent.resourceBase.renderedResources=this.parent.resourceBase.expandedResources),"Month"!==this.parent.currentView&&(this.colLevels[this.colLevels.length-1]=this.colLevels[this.colLevels.length-1].slice(0,i),this.parent.resourceBase.expandedResources=this.colLevels[this.colLevels.length-1])},e.prototype.destroy=function(){this.element&&this.element.parentNode&&i.i(n.remove)(this.element),this.element=null,this.renderDates=null,this.colLevels=null},e}()},function(e,t,i){"use strict";i.d(t,"a",function(){return p});var n=i(0),r=(i.n(n),i(8)),a=i(5),s=i(1),o=i(2),l=i(3),c=this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),p=function(e){function t(t){var i=e.call(this,t)||this;return i.dayNameFormat="wide",i.viewClass="e-month-view",i.isInverseTableSelect=!1,i.monthEvent=null,i.monthDates={},i}return c(t,e),t.prototype.addEventListener=function(){this.parent.on(o.G,this.onScrollUIUpdate,this),this.parent.on(o.B,this.onDataReady,this),this.parent.on(o.a,this.onCellClick,this)},t.prototype.removeEventListener=function(){this.parent&&(this.parent.off(o.G,this.onScrollUIUpdate),this.parent.off(o.B,this.onDataReady),this.parent.off(o.a,this.onCellClick))},t.prototype.onDataReady=function(e){this.monthEvent=new a.a(this.parent),this.monthEvent.renderAppointments(),this.parent.notify(o.C,{})},t.prototype.onCellClick=function(e){},t.prototype.onContentScroll=function(e){this.parent.removeNewEventElement(),this.parent.notify(o.F,e),this.scrollTopPanel(e.target),this.scrollLeftPanel(e.target),this.parent.uiStateValues.top=e.target.scrollTop,this.parent.uiStateValues.left=e.target.scrollLeft,this.setPersistence()},t.prototype.scrollLeftPanel=function(e){var t=this.getLeftPanelElement();t&&(t.scrollTop=e.scrollTop)},t.prototype.getLeftPanelElement=function(){return this.element.querySelector("."+l.F)},t.prototype.onScrollUIUpdate=function(e){var t=this.getHeaderBarHeight(),i=this.getDatesHeaderElement(),n=this.getContentAreaElement(),r=this.parent.element.offsetHeight-t-i.offsetHeight,a=this.getLeftPanelElement();"auto"!==this.parent.height&&this.setContentHeight(n,a,r);var o=s.A();if(i.firstElementChild.style[e.cssProperties.rtlBorder]="",i.style[e.cssProperties.rtlPadding]="",n.offsetWidth-n.clientWidth>0?(i.firstElementChild.style[e.cssProperties.border]=o>0?"1px":"0px",i.style[e.cssProperties.padding]=o>0?o-1+"px":"0px"):(i.firstElementChild.style[e.cssProperties.border]="",i.style[e.cssProperties.padding]=""),this.setColWidth(n),e.scrollPosition||!e.isPreventScrollUpdate&&"TimelineMonth"===this.parent.currentView){var l="TimelineMonth"===this.parent.currentView?this.parent.uiStateValues.top:e.scrollPosition.top;a&&(a.scrollTop=l),n.scrollTop=l,this.parent.uiStateValues.isInitial?(this.scrollToSelectedDate(),this.parent.uiStateValues.isInitial=!1):n.scrollLeft="TimelineMonth"===this.parent.currentView?this.parent.uiStateValues.left:e.scrollPosition.left}else this.scrollToSelectedDate();this.retainScrollPosition()},t.prototype.scrollToSelectedDate=function(){var e=this.element.querySelector("."+l.e+'[data-date="'+this.parent.selectedDate.getTime().toString()+'"]'),t=this.getContentAreaElement();i.i(n.isNullOrUndefined)(e)?t.scrollLeft=0:t.scrollLeft=this.parent.enableRtl?-(this.parent.getContentTable().offsetWidth-e.offsetLeft-e.offsetWidth):e.offsetLeft,0===t.scrollLeft&&this.parent.uiStateValues.isInitial&&(this.parent.uiStateValues.left=0)},t.prototype.setContentHeight=function(e,t,r){e.style.height="auto","Month"===this.parent.currentView&&(e.style.height=i.i(n.formatUnit)(r)),t&&("MonthAgenda"===this.parent.currentView&&(r=this.parent.activeViewOptions.interval>1?this.getContentAreaElement().firstElementChild.offsetHeight:this.element.querySelector("."+l.h).offsetHeight),t.style.height="auto",t.style.height=i.i(n.formatUnit)(r-this.getScrollXIndent(e)))},t.prototype.generateColumnLevels=function(){var e=[],t=this.getDateSlots(this.renderDates,this.parent.activeViewOptions.workDays);if(this.parent.activeViewOptions.group.resources.length>0){if(e=this.parent.resourceBase.generateResourceLevels(t),"MonthAgenda"===this.parent.currentView&&(e=[t]),this.parent.uiStateValues.isGroupAdaptive&&this.parent.resourceBase.lastResourceLevel.length>0){var i=this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex],n=this.getDateSlots(i.renderDates,i.workDays);if(this.parent.activeViewOptions.group.byDate&&this.parent.activeViewOptions.group.hideNonWorkingDays){var r=n.findIndex(function(e,t){return 0!==t&&e.date.getDay()===n[0].date.getDay()});n=r>-1?n.slice(0,r):n}e=[n]}}else e.push(t);return this.colLevels=e,e},t.prototype.getDateSlots=function(e,t){for(var i=this.parent.activeViewOptions.showWeekend?s.e:t.length,n=[],r=this.isCurrentMonth(this.parent.selectedDate),a=0;a<i;a++){var o=[l.e],c=e.slice(0,i).map(function(e){return e.getDay()});r&&c.indexOf(this.parent.currentTimezoneDate.getDay())===a&&o.push(l.s),n.push({date:e[parseInt(a.toString(),10)],type:"monthDay",className:o,colSpan:1,workDays:t})}return n},t.prototype.getDayNameFormat=function(){return this.parent.isAdaptive||this.parent.activeViewOptions.group.resources.length>0?"abbreviated":"wide"},t.prototype.renderLayout=function(e){this.dayNameFormat=this.getDayNameFormat(),this.setPanel(i.i(n.createElement)("div",{className:l._19}));var t=[this.viewClass];t.push(e),this.parent.activeViewOptions.group.byDate&&(t.push("e-by-date"),"Month"!==this.parent.currentView&&(this.parent.activeViewOptions.group.hideNonWorkingDays=!1)),this.parent.activeViewOptions.allowVirtualScrolling&&!this.parent.uiStateValues.isGroupAdaptive&&t.push(l._21),this.parent.rowAutoHeight&&this.parent.eventSettings.ignoreWhitespace&&t.push(l._22),i.i(n.addClass)([this.element],t),this.renderPanel(e),this.element.appendChild(this.createTableLayout(l._23)),this.element.querySelector("table").setAttribute("role","presentation"),this.colLevels=this.generateColumnLevels(),this.renderHeader(),this.renderContent();var r="MonthAgenda"===this.parent.currentView?this.parent.activeView.getPanel():this.parent.element;this.parent.uiStateValues.isGroupAdaptive&&!r.querySelector("."+l._24)&&this.renderResourceMobileLayout(),this.parent.notify(o.D,{}),this.parent.uiStateValues.isCustomMonth&&(this.parent.uiStateValues.isCustomMonth=!1)},t.prototype.refreshHeader=function(){i.i(n.remove)(this.element.querySelector("tbody tr")),this.renderHeader(),this.parent.notify(o.D,{})},t.prototype.wireCellEvents=function(e){n.EventHandler.add(e,"mousedown",this.parent.workCellAction.cellMouseDown,this.parent.workCellAction),n.EventHandler.add(e,"click",this.parent.workCellAction.cellClick,this.parent.workCellAction),this.parent.isAdaptive||n.EventHandler.add(e,"dblclick",this.parent.workCellAction.cellDblClick,this.parent.workCellAction)},t.prototype.renderHeader=function(){var e=i.i(n.createElement)("tr");this.renderLeftIndent(e);var t=i.i(n.createElement)("td");t.appendChild(this.renderDatesHeader()),e.appendChild(t),i.i(n.prepend)([e],this.element.querySelector("tbody"))},t.prototype.renderLeftIndent=function(e){this.parent.activeViewOptions.showWeekNumber&&e.appendChild(i.i(n.createElement)("td",{className:"e-left-indent"}))},t.prototype.renderContent=function(){this.parent.activeViewOptions.group.resources.length>0&&(this.parent.resourceBase.renderedResources=i.i(n.extend)([],this.parent.resourceBase.lastResourceLevel,null,!0));var e=i.i(n.createElement)("tr");this.parent.activeViewOptions.showWeekNumber&&e.appendChild(this.renderWeekNumberContent());var t=i.i(n.createElement)("td"),r=this.colLevels.slice(0);this.parent.virtualScrollModule&&this.resetColLevels();var a=i.i(n.createElement)("div",{className:l.g}),s=this.renderContentArea();if("Month"===this.parent.currentView)a.appendChild(s);else{var o=i.i(n.createElement)("div",{className:l._53});o.appendChild(s),a.appendChild(o)}n.EventHandler.add(a,"scroll",this.onContentScroll,this),t.appendChild(a),e.appendChild(t),this.parent.virtualScrollModule&&(this.colLevels=r,this.parent.virtualScrollModule.renderVirtualTrack(a)),this.element.querySelector("tbody").appendChild(e),this.renderAppointmentContainer()},t.prototype.renderWeekNumberContent=function(){var e=this.renderDates.map(function(e){return new Date(+e)}),t=i.i(n.createElement)("td"),r=i.i(n.createElement)("div",{className:l.F});t.appendChild(r);var a=this.createTableLayout();r.appendChild(a);for(var o=this.parent.activeViewOptions.showWeekend?s.e:this.parent.activeViewOptions.workDays.length,c=0,p=this.renderDates.length/o;c<p;c++){var d=e.splice(0,o),h=this.parent.getWeekNumberContent(d);a.querySelector("tbody").appendChild(this.createWeekNumberElement(h))}return t},t.prototype.renderAppointmentContainer=function(){},t.prototype.renderDatesHeader=function(){var e=i.i(n.createElement)("div",{className:l.c}),t=i.i(n.createElement)("div",{className:l.d});e.appendChild(t);var r=this.createTableLayout();if("Month"===this.parent.currentView){var a=i.i(n.createElement)("thead");a.appendChild(i.i(n.createElement)("tr")),i.i(n.prepend)([a],r)}this.createColGroup(r,this.colLevels[this.colLevels.length-1]);for(var s=i.i(n.createElement)("tr"),o=0;o<this.colLevels.length;o++){for(var c=this.colLevels[parseInt(o.toString(),10)],p=s.cloneNode(),d=0;d<c.length;d++){var h=c[parseInt(d.toString(),10)];p.appendChild(this.createHeaderCell(h))}r.querySelector("tbody").appendChild(p)}return t.appendChild(r),e},t.prototype.createHeaderCell=function(e){var t=i.i(n.createElement)("td");if(this.addAttributes(e,t),"monthDay"===e.type){var r=i.i(n.createElement)("span",{innerHTML:s.a(this.parent.getDayNames(this.dayNameFormat)[e.date.getDay()],"single")});t.appendChild(r)}if("resourceHeader"===e.type&&this.setResourceHeaderContent(t,e),"dateHeader"===e.type){if(i.i(n.addClass)([t],l.o),t.setAttribute("data-date",e.date.getTime().toString()),this.parent.activeViewOptions.dateHeaderTemplate){var a={date:e.date,type:e.type},c=this.parent.element.id+"_",p=this.parent.activeViewOptions.dateHeaderTemplateName,d=c+p+"dateHeaderTemplate",h=[].slice.call(this.parent.getDateHeaderTemplate()(a,this.parent,"dateHeaderTemplate",d,!1));h&&h.length&&i.i(n.append)(h,t)}else{var r=i.i(n.createElement)("span",{className:l.p}),u=this.parent.globalize.formatDate(e.date,{skeleton:"full",calendar:this.parent.getCalendarMode()});r.setAttribute("title",s.a(u,"multiple"));var g=!this.parent.calendarUtil.isMonthStart(e.date)||this.isCurrentDate(e.date)||this.parent.isAdaptive?this.parent.globalize.formatDate(e.date,{skeleton:"d",calendar:this.parent.getCalendarMode()}):this.parent.globalize.formatDate(e.date,{format:"MMM d",calendar:this.parent.getCalendarMode()});r.innerHTML=s.a(g,"single"),t.appendChild(r)}this.wireCellEvents(t)}var v={elementType:e.type,element:t,date:e.date,groupIndex:e.groupIndex};return this.parent.trigger(o.j,v),t},t.prototype.getContentSlots=function(){if(!this.colLevels[this.colLevels.length-1]||!this.colLevels[this.colLevels.length-1][0])return[];var e=[],t=function(t,i,n,r){var a={date:new Date(+i),groupIndex:n.groupIndex,workDays:n.workDays,type:"monthCells",className:r||[l.n]};e[parseInt(t.toString(),10)]||(e[parseInt(t.toString(),10)]=[]),e[parseInt(t.toString(),10)].push(a)},i="MonthAgenda"!==this.parent.currentView&&this.parent.activeViewOptions.group.resources.length>0;if(!i||this.parent.uiStateValues.isGroupAdaptive||this.parent.activeViewOptions.group.byDate)for(var n=this.renderDates.map(function(e){return new Date(+e)}),r=this.parent.activeViewOptions.showWeekend?s.e:this.parent.activeViewOptions.workDays.length,a=this.colLevels.slice(0,1)[0],o=this.renderDates.map(Number).indexOf(+a[0].date),c=0;c<this.renderDates.length/r;c++)for(var p,d=n.splice(0,r),h=o,u=this,g=o;g<this.colLevels[0].length+o&&g<d.length;g++)!function(e){var n=d[parseInt(h.toString(),10)];if(h++,i){var a=u.colLevels[u.colLevels.length-1],s=a.length/r,o=a.slice(0,s);if(u.parent.activeViewOptions.group.hideNonWorkingDays&&(o=a.filter(function(e){return e.date.getDay()===n.getDay()}),0===o.length))return e-=1,p=e,"continue";for(var g=0;g<o.length;g++){var v=void 0;0!==g&&(v=[l.n,l._56]),t(c,n,o[parseInt(g.toString(),10)],v)}}else t(c,n,u.colLevels[u.colLevels.length-1][0]);p=e}(g),g=p;else for(var v=0,f=this.colLevels[this.colLevels.length-2];v<f.length;v++)for(var m=f[v],n=m.renderDates.map(function(e){return new Date(+e)}),r=this.parent.activeViewOptions.showWeekend?s.e:m.workDays.length,c=0;c<m.renderDates.length/r;c++)for(var d=n.splice(0,r),y=0,T=d;y<T.length;y++){var D=T[y];t(c,D,m)}return e},t.prototype.updateClassList=function(e){!this.isCustomMonth()&&this.isOtherMonth(e.date)&&e.className.push(l.t),this.parent.isMinMaxDate(e.date)||e.className.push(l.r),this.updateSelectedCellClass(e)},t.prototype.updateSelectedCellClass=function(e){},t.prototype.isOtherMonth=function(e){return e.getTime()<this.monthDates.start.getTime()||e.getTime()>this.monthDates.end.getTime()},t.prototype.renderContentArea=function(){var e=this.createTableLayout(l.h);this.setAriaAttributes(e),this.addAutoHeightClass(e),"TimelineMonth"===this.parent.currentView&&this.createColGroup(e,this.colLevels[this.colLevels.length-1]);var t=new Date(this.parent.selectedDate.getTime());this.monthDates={start:this.parent.calendarUtil.firstDateOfMonth(t),end:this.parent.calendarUtil.lastDateOfMonth(s.u(t,this.parent.activeViewOptions.interval-1))};var r=e.querySelector("tbody");return i.i(n.append)(this.getContentRows(),r),this.wireCellEvents(r),e},t.prototype.getContentRows=function(){for(var e=[],t=i.i(n.createElement)("tr"),r=i.i(n.createElement)("td",{attrs:{"aria-selected":"false"}}),a=this.getContentSlots(),s=0;s<a.length;s++){for(var o=t.cloneNode(),l=0;l<a[parseInt(s.toString(),10)].length;l++){var c=this.createContentTd(a[parseInt(s.toString(),10)][parseInt(l.toString(),10)],r);o.appendChild(c)}e.push(o)}return e},t.prototype.createContentTd=function(e,t){var r=t.cloneNode();e.colSpan&&r.setAttribute("colspan",e.colSpan.toString()),this.updateClassList(e);var a=e.type;if(-1!==e.className.indexOf(l.u)&&(e.className.push(l.v),a="resourceGroupCells"),this.parent.workHours.highlight&&this.isWorkDay(e.date,e.workDays)&&e.className.push(l.q),this.isCurrentDate(e.date)&&e.className.push(l._57),i.i(n.addClass)([r],e.className),r.setAttribute("data-date",e.date.getTime().toString()),!i.i(n.isNullOrUndefined)(e.groupIndex)||this.parent.uiStateValues.isGroupAdaptive){var s=this.parent.uiStateValues.isGroupAdaptive?this.parent.uiStateValues.groupIndex:e.groupIndex;r.setAttribute("data-group-index",""+s)}if(this.renderDateHeaderElement(e,r),this.parent.activeViewOptions.cellTemplate){var c={date:e.date,type:a,groupIndex:e.groupIndex},p=this.parent.element.id+"_",d=this.parent.activeViewOptions.cellTemplateName,h=p+d+"cellTemplate",u=[].slice.call(this.parent.getCellTemplate()(c,this.parent,"cellTemplate",h,!1));i.i(n.append)(u,r)}var g={elementType:a,element:r,date:e.date,groupIndex:e.groupIndex};return this.parent.trigger(o.j,g),r},t.prototype.renderDateHeaderElement=function(e,t){if("TimelineMonth"!==this.parent.currentView){var r=i.i(n.createElement)("div",{className:l.o});if(this.parent.activeViewOptions.cellHeaderTemplate){var a={date:e.date,type:e.type,groupIndex:e.groupIndex},o=this.parent.element.id+"_",c=this.parent.activeViewOptions.cellHeaderTemplateName,p=o+c+"cellHeaderTemplate",d=[].slice.call(this.parent.getCellHeaderTemplate()(a,this.parent,"cellHeaderTemplate",p,!1));i.i(n.append)(d,r)}else{var h=!this.parent.calendarUtil.isMonthStart(e.date)||this.isCurrentDate(e.date)||this.parent.isAdaptive?this.parent.globalize.formatDate(e.date,{skeleton:"d",calendar:this.parent.getCalendarMode()}):this.parent.globalize.formatDate(e.date,{format:"MMM d",calendar:this.parent.getCalendarMode()});r.innerHTML=s.a(h,"single")}if(t.appendChild(r),"month"===this.getModuleName()){i.i(n.addClass)([r],l.p);var u=this.parent.globalize.formatDate(e.date,{skeleton:"full",calendar:this.parent.getCalendarMode()});t.setAttribute("aria-label",u)}}},t.prototype.getMonthStart=function(e){var t="Month"===this.parent.currentView&&!i.i(n.isNullOrUndefined)(this.parent.activeViewOptions.displayDate)&&(this.parent.uiStateValues.isCustomMonth||this.isCustomRange()),r=t?this.parent.activeViewOptions.displayDate:this.parent.uiStateValues.isCustomMonth||this.isCustomRange()||!this.isCustomMonth()?this.parent.calendarUtil.firstDateOfMonth(e):e,a=s.l(r,this.parent.activeViewOptions.firstDayOfWeek);return new Date(a.getFullYear(),a.getMonth(),a.getDate())},t.prototype.getMonthEnd=function(e){if(this.isCustomMonth()){var t=this.getMonthStart(e),i=s.e*(this.parent.activeViewOptions.numberOfWeeks>0?this.parent.activeViewOptions.numberOfWeeks:s.f);return s.d(t,i-1)}var n=s.u(e,this.parent.activeViewOptions.interval-1),r=s.l(this.parent.calendarUtil.lastDateOfMonth(n),this.parent.activeViewOptions.firstDayOfWeek);return s.d(r,s.e-1)},t.prototype.isCustomRange=function(){var e=this.parent.getCurrentViewDates();if(e&&e.length>0){var t=s.b(this.parent.selectedDate).getTime(),i=s.l(e[e.length-1],this.parent.activeViewOptions.firstDayOfWeek);return!(t>=s.l(e[0],this.parent.activeViewOptions.firstDayOfWeek).getTime()&&t<=s.d(i,6).getTime())}return!1},t.prototype.getRenderDates=function(e){var t=[],i=s.b(this.parent.selectedDate),n=this.getMonthStart(i),r=this.getMonthEnd(i);do{this.parent.activeViewOptions.showWeekend?t.push(n):this.isWorkDay(n,e)&&t.push(n),n=s.d(n,1),n.getHours()>0&&(n=s.b(n))}while(n.getTime()<=r.getTime());return e||(this.renderDates=t),this.parent.headerModule&&this.parent.headerModule.previousNextIconHandler(),t},t.prototype.getNextPreviousDate=function(e){if(this.isCustomMonth()){var t=this.parent.getCurrentViewDates(),i=s.l("next"===e?t[t.length-1]:t[0],this.parent.activeViewOptions.firstDayOfWeek);return s.d(i,"next"===e?s.e:-(this.parent.activeViewOptions.numberOfWeeks>0?this.parent.activeViewOptions.numberOfWeeks:s.f)*s.e)}return s.u(this.parent.selectedDate,("next"===e?1:-1)*this.parent.activeViewOptions.interval)},t.prototype.getStartDate=function(){return this.getMonthStart(this.parent.selectedDate)},t.prototype.getEndDate=function(){return this.getMonthEnd(this.parent.selectedDate)},t.prototype.getEndDateFromStartDate=function(e){return s.d(new Date(e.getTime()),1)},t.prototype.getDateRangeText=function(){if(this.parent.isAdaptive||i.i(n.isNullOrUndefined)(this.parent.activeViewOptions.dateFormat)){var e=this.parent.selectedDate,t=void 0,r=!1;if(this.isCustomMonth()){var a=this.parent.getCurrentViewDates();r=a[0].getMonth()!==a[a.length-1].getMonth()||a[0].getFullYear()!==a[a.length-1].getFullYear(),r&&(e=a[0],t=a[a.length-1])}var o="Month"!==this.parent.currentView||!this.isCustomMonth();if(this.parent.activeViewOptions.interval>1&&o||r){if(t=t||s.u(s.o(e),this.parent.activeViewOptions.interval-1),e.getFullYear()===t.getFullYear()){var l=this.parent.globalize.formatDate(e,{format:"MMMM",calendar:this.parent.getCalendarMode()})+" - "+this.parent.globalize.formatDate(t,{format:"MMMM ",calendar:this.parent.getCalendarMode()})+this.parent.globalize.formatDate(t,{skeleton:"y",calendar:this.parent.getCalendarMode()});return s.a(l,"single")}var c=this.parent.globalize.formatDate(e,{format:"MMMM",calendar:this.parent.getCalendarMode()})+" "+e.getFullYear()+" - "+this.parent.globalize.formatDate(t,{format:"MMMM ",calendar:this.parent.getCalendarMode()})+this.parent.globalize.formatDate(t,{skeleton:"y",calendar:this.parent.getCalendarMode()});return s.a(c,"single")}var p=this.parent.activeViewOptions.dateFormat?this.parent.activeViewOptions.dateFormat:"MMMM y";return s.a(this.parent.globalize.formatDate(e,{format:p,calendar:this.parent.getCalendarMode()}),"single")}return this.formatDateRange(this.parent.selectedDate)},t.prototype.getLabelText=function(e){return this.parent.localeObj.getConstant(e)+" of "+s.a(this.parent.globalize.formatDate(this.parent.selectedDate,{format:"MMMM y",calendar:this.parent.getCalendarMode()}),"single")},t.prototype.createWeekNumberElement=function(e){var t=i.i(n.createElement)("tr"),r=i.i(n.createElement)("td",{className:l.E,attrs:{title:e?this.parent.localeObj.getConstant("week")+" "+e:""},innerHTML:e||""});t.appendChild(r);var a={elementType:"weekNumberCell",element:r};return this.parent.trigger(o.j,a),t},t.prototype.unWireEvents=function(){var e=this.element.querySelector("."+l.g);e&&n.EventHandler.remove(e,"scroll",this.onContentScroll)},t.prototype.isCustomMonth=function(){return"Month"===this.parent.currentView&&(!i.i(n.isNullOrUndefined)(this.parent.activeViewOptions.displayDate)||this.parent.activeViewOptions.numberOfWeeks>0)},t.prototype.getModuleName=function(){return"month"},t.prototype.destroy=function(){!this.parent||this.parent&&this.parent.isDestroyed||this.element&&(this.monthEvent&&(this.monthEvent.destroy(),this.monthEvent=null),this.unWireEvents(),this.parent.resourceBase&&this.parent.resourceBase.destroy(),this.parent.scheduleTouchModule&&this.parent.scheduleTouchModule.resetValues(),e.prototype.destroy.call(this))},t}(r.a)},function(e,t,i){"use strict";i.d(t,"a",function(){return d});var n=i(0),r=(i.n(n),i(8)),a=i(15),s=i(5),o=i(1),l=i(2),c=i(3),p=this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),d=function(e){function t(t){var i=e.call(this,t)||this;return i.viewClass="e-day-view",i.isInverseTableSelect=!0,i.baseCssClass="e-vertical-view",i.appointment=null,i}return p(t,e),t.prototype.getModuleName=function(){return"verticalView"},t.prototype.addEventListener=function(){this.parent.on(l.G,this.scrollUiUpdate,this),this.parent.on(l.B,this.renderEvents,this)},t.prototype.removeEventListener=function(){this.parent&&(this.parent.off(l.G,this.scrollUiUpdate),this.parent.off(l.B,this.renderEvents))},t.prototype.renderEvents=function(){this.appointment=this.parent.activeViewOptions.timeScale.enable?new a.a(this.parent):new s.a(this.parent),this.appointment.renderAppointments(),this.parent.notify(l.C,{})},t.prototype.onContentScroll=function(e){this.parent.removeNewEventElement();var t=e.target;this.parent.notify(l.F,e),this.scrollLeftPanel(t),this.scrollTopPanel(t),this.parent.isAdaptive||(this.parent.uiStateValues.top=t.scrollTop),this.parent.uiStateValues.left=t.scrollLeft,i.i(n.isNullOrUndefined)(this.parent.quickPopup)||this.parent.quickPopup.quickPopupHide(),this.setPersistence()},t.prototype.onAdaptiveMove=function(e){this.parent.uiStateValues.action&&e.preventDefault()},t.prototype.onAdaptiveScroll=function(e){this.parent&&!this.parent.isDestroyed&&(this.parent.removeNewEventElement(),this.parent.uiStateValues.top=e.target.scrollTop)},t.prototype.scrollLeftPanel=function(e){var t=this.getLeftPanelElement();i.i(n.isNullOrUndefined)(t)||(t.scrollTop=e.scrollTop)},t.prototype.scrollUiUpdate=function(e){if(this.parent){var t=this.parent.element.querySelector("."+c.d),i=this.getHeaderBarHeight(),n=this.getLeftPanelElement(),r=this.getScrollableElement(),a=this.getDatesHeaderElement(),s=this.parent.element.offsetHeight-i-a.offsetHeight;this.setContentHeight(r,n,s),this.setColWidth(r);var l=o.A();a.firstElementChild.style[e.cssProperties.rtlBorder]="",a.style[e.cssProperties.rtlPadding]="";var p=!this.parent.enableAllDayScroll||!(r.offsetWidth-r.clientWidth<=t.offsetWidth-t.clientWidth&&t.classList.contains("e-all-day-scroll"));r.offsetWidth-r.clientWidth>0&&p?(a.firstElementChild.style[e.cssProperties.border]=l>0?"1px":"0px",a.style[e.cssProperties.padding]=l>0?l-1+"px":"0px"):(a.firstElementChild.style[e.cssProperties.border]="",a.style[e.cssProperties.padding]=""),e.isPreventScrollUpdate||(this.parent.uiStateValues.isInitial?(this.parent.currentView.indexOf("Timeline")>-1&&(r.scrollTop=this.parent.uiStateValues.top),this.scrollToWorkHour(),this.parent.uiStateValues.isInitial=!1):(n&&(n.scrollTop=this.parent.uiStateValues.top),r.scrollTop=this.parent.uiStateValues.top,r.scrollLeft=this.parent.uiStateValues.left)),this.parent.activeViewOptions.timeScale.enable&&this.highlightCurrentTime(),this.retainScrollPosition()}},t.prototype.setContentHeight=function(e,t,r){this.parent.isAdaptive&&!this.isTimelineView()?e.style.height="auto"===this.parent.height?"auto":i.i(n.formatUnit)(r):(i.i(n.isNullOrUndefined)(t)||(t.style.height="auto"===this.parent.height?"auto":i.i(n.formatUnit)(r-this.getScrollXIndent(e))),e.style.height="auto"===this.parent.height?"auto":i.i(n.formatUnit)(r))},t.prototype.scrollToWorkHour=function(){if(this.parent.workHours.highlight){var e=this.element.querySelector("."+c._16);e&&(this.getScrollableElement().scrollTop=e.offsetTop,this.parent.uiStateValues.top=e.offsetTop,this.parent.uiStateValues.left=0)}},t.prototype.scrollToHour=function(e,t){var r=this.parent.getStartEndTime(e);if(!i.i(n.isNullOrUndefined)(t)){var a=this.element.querySelector("."+c.e+'[data-date="'+new Date(o.b(t)).getTime()+'"]');if(a)if(this.parent.enableRtl){var s=this.element.querySelector("."+c.h);this.getScrollableElement().scrollLeft=-(s.offsetWidth-a.offsetLeft-a.offsetWidth)}else this.getScrollableElement().scrollLeft=a.offsetLeft}i.i(n.isNullOrUndefined)(r)||(this.getScrollableElement().scrollTop=this.getTopFromDateTime(r))},t.prototype.scrollToDate=function(e){this.scrollToHour(null,e)},t.prototype.generateColumnLevels=function(){var e=this.getDateSlots(this.renderDates,this.parent.activeViewOptions.workDays),t=[];if(this.parent.activeViewOptions.group.resources.length>0){if(t=this.parent.resourceBase.generateResourceLevels(e),this.parent.activeViewOptions.group.hideNonWorkingDays)for(;0===t[0].length;)this.parent.setProperties({selectedDate:this.parent.activeView.getNextPreviousDate(this.previousNextAction)},!0),this.parent.activeView.getRenderDates(),this.parent.headerModule&&(this.parent.headerModule.setCalendarDate(this.parent.selectedDate),this.parent.headerModule.updateDateRange()),e=this.getDateSlots(this.renderDates,this.parent.activeViewOptions.workDays),t=this.parent.resourceBase.generateResourceLevels(e);if(this.parent.uiStateValues.isGroupAdaptive&&this.parent.resourceBase.lastResourceLevel.length>0){var i=this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex],n=i.resourceData[i.resource.startHourField],r=i.resourceData[i.resource.endHourField];t=[this.getDateSlots(i.renderDates,i.workDays,n,r)]}}else t.push(e);return this.colLevels=t,t},t.prototype.getDateSlots=function(e,t,i,n){void 0===i&&(i=this.parent.workHours.start),void 0===n&&(n=this.parent.workHours.end);for(var r=[],a=this.parent.getStartEndTime(i),s=this.parent.getStartEndTime(n),o=0,l=e;o<l.length;o++){var p=l[o],d=[c.e];this.isCurrentDate(p)&&d.push(c.s),r.push({date:p,type:"dateHeader",className:d,colSpan:1,workDays:t,startHour:new Date(+a),endHour:new Date(+s)})}return r},t.prototype.isWorkHourRange=function(e){return this.getStartHour().getTime()<=e.getTime()&&this.getEndHour().getTime()>=e.getTime()},t.prototype.highlightCurrentTime=function(){var e=this;if(!(this.parent.activeViewOptions.headerRows.length>0&&"Hour"!==this.parent.activeViewOptions.headerRows.slice(-1)[0].option)){var t=this.parent.getCurrentTime();if(this.parent.showTimeIndicator&&this.isWorkHourRange(t)){if(this.getCurrentTimeIndicatorIndex().length>0){if([].slice.call(this.element.querySelectorAll("."+c.n)).length>0&&this.changeCurrentTimePosition(),i.i(n.isNullOrUndefined)(this.currentTimeIndicatorTimer)){var r=o.g-(1e3*t.getSeconds()+t.getMilliseconds());r<=o.g-1e3&&window.setTimeout(function(){i.i(n.isNullOrUndefined)(e.currentTimeIndicatorTimer)||(e.clearCurrentTimeIndicatorTimer(),e.changeCurrentTimePosition(),e.updateCurrentTimeIndicatorTimer())},r),this.updateCurrentTimeIndicatorTimer()}}else this.clearCurrentTimeIndicatorTimer()}else this.clearCurrentTimeIndicatorTimer()}},t.prototype.getCurrentTimeIndicatorIndex=function(){var e=[];if(!i.i(n.isNullOrUndefined)(this.parent.resourceBase)&&this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive){var t=0,r=o.b(this.parent.getCurrentTime());if(this.parent.virtualScrollModule&&this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.activeViewOptions.group.byDate)for(var a=0,s=this.parent.resourceBase.expandedResources;a<s.length;a++){var l=s[a];o.b(l.date).getTime()===r.getTime()&&e.push(t),t+=1}else for(var c=0,p=this.parent.resourceBase.renderedResources;c<p.length;c++){var l=p[c],d=this.parent.getIndexOfDate(l.renderDates,r);if(d>=0){var h=this.parent.activeViewOptions.group.byDate?this.parent.resourceBase.lastResourceLevel.length*d+t:t+d;e.push(h)}t+=this.parent.activeViewOptions.group.byDate?1:l.renderDates.length}}else{var u=this.parent.uiStateValues.isGroupAdaptive&&this.parent.resourceBase.lastResourceLevel.length>0?this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex].renderDates:this.renderDates,d=this.parent.getIndexOfDate(u,o.b(this.parent.getCurrentTime()));d>=0&&e.push(d)}return e},t.prototype.clearCurrentTimeIndicatorTimer=function(){i.i(n.isNullOrUndefined)(this.currentTimeIndicatorTimer)||(window.clearInterval(this.currentTimeIndicatorTimer),this.currentTimeIndicatorTimer=null,this.removeCurrentTimeIndicatorElements())},t.prototype.updateCurrentTimeIndicatorTimer=function(){var e=this;this.currentTimeIndicatorTimer=window.setInterval(function(){e.changeCurrentTimePosition()},o.g)},t.prototype.removeCurrentTimeIndicatorElements=function(){for(var e="."+c._17+",."+c._13+",."+c._14,t=[].slice.call(this.element.querySelectorAll(e)),r=0,a=t;r<a.length;r++){var s=a[r];i.i(n.remove)(s)}},t.prototype.changeCurrentTimePosition=function(){if(!(!this.parent||this.parent&&this.parent.isDestroyed)){this.removeCurrentTimeIndicatorElements();var e=this.getCurrentTimeIndicatorIndex(),t=this.parent.getContentTable().rows[0],r=this.getTopFromDateTime(this.parent.getCurrentTime()),a=i.i(n.formatUnit)(r),s=Math.floor(r/t.cells[0].offsetHeight),o=this.getLeftPanelElement(),l=[].slice.call(o.querySelectorAll("tr"));if(!i.i(n.isNullOrUndefined)(s)&&!isNaN(s)&&s!==l.length){for(var p=[].slice.call(this.element.querySelectorAll("."+c._7)),d=0,h=e[0];d<h;d++)p[parseInt(d.toString(),10)].appendChild(i.i(n.createElement)("div",{className:c._17,styles:"top:"+a}));for(var u=0,g=e;u<g.length;u++){var v=g[u];p[parseInt(v.toString(),10)].appendChild(i.i(n.createElement)("div",{className:c._13,styles:"top:"+a}))}var f=i.i(n.createElement)("div",{innerHTML:this.parent.getTimeString(this.parent.getCurrentTime()),className:c._14,styles:"top:"+a});s<=l.length&&(i.i(n.removeClass)(o.querySelectorAll("."+c._18),c._18),l[parseInt(s.toString(),10)]&&i.i(n.addClass)([l[parseInt(s.toString(),10)].lastElementChild],c._18),i.i(n.prepend)([f],o),f.style.top=i.i(n.formatUnit)(f.offsetTop-f.offsetHeight/2))}}},t.prototype.getTopFromDateTime=function(e){var t=this.getStartHour();return(60*(e.getHours()-t.getHours())+(e.getMinutes()-t.getMinutes()))*this.getWorkCellHeight()*this.parent.activeViewOptions.timeScale.slotCount/this.parent.activeViewOptions.timeScale.interval},t.prototype.getWorkCellHeight=function(){return parseFloat(this.element.querySelector("."+c.n).getBoundingClientRect().height.toFixed(2))},t.prototype.getTdContent=function(e,t,r){var a,s=i.i(n.createElement)("div"),l="",c=this.parent.element.id+"_";switch(t){case"dateHeader":if(this.parent.activeViewOptions.dateHeaderTemplate){l="dateHeaderTemplate";var p={date:e,type:t},d=this.parent.activeViewOptions.dateHeaderTemplateName;a=[].slice.call(this.parent.getDateHeaderTemplate()(p,this.parent,l,c+d+l,!1))}else s.innerHTML=this.parent.activeView.isTimelineView()?'<span class="e-header-date e-navigate">'+this.getTimelineDate(e)+"</span>":'<div class="e-header-day">'+o.a(this.getDayName(e),"single")+'</div><div class="e-header-date e-navigate" role="link">'+this.getDate(e)+"</div>",a=[].slice.call(s.childNodes);break;case"majorSlot":if(this.parent.activeViewOptions.timeScale.majorSlotTemplate){l="majorSlotTemplate";var p={date:e,type:t};a=[].slice.call(this.parent.getMajorSlotTemplate()(p,this.parent,l,c+l,!1))}else s.innerHTML="<span>"+this.getTime(e)+"</span>",a=[].slice.call(s.childNodes);break;case"minorSlot":if(this.parent.activeViewOptions.timeScale.minorSlotTemplate){l="minorSlotTemplate";var p={date:e,type:t};a=[].slice.call(this.parent.getMinorSlotTemplate()(p,this.parent,l,c+l,!1))}else a=[].slice.call(s.childNodes);break;case"alldayCells":if(this.parent.activeViewOptions.cellTemplate){var d=this.parent.activeViewOptions.cellTemplateName;l="cellTemplate";var p={date:e,type:t,groupIndex:r};a=[].slice.call(this.parent.getCellTemplate()(p,this.parent,l,c+d+l,!1))}}return a},t.prototype.refreshHeader=function(){i.i(n.remove)(this.element.querySelector("tbody tr")),this.renderHeader(),this.parent.notify(l.D,{})},t.prototype.renderLayout=function(e){this.setPanel(i.i(n.createElement)("div",{className:c._19}));var t=[this.baseCssClass,this.viewClass];t.push(e),this.parent.activeViewOptions.group.byDate&&t.push("e-by-date"),this.parent.activeViewOptions.timeScale.enable||i.i(n.addClass)([this.element],[c._20,this.viewClass]),this.parent.activeViewOptions.allowVirtualScrolling&&!this.parent.uiStateValues.isGroupAdaptive&&t.push(c._21),this.parent.rowAutoHeight&&this.parent.eventSettings.ignoreWhitespace&&t.push(c._22),this.renderPanel(e),i.i(n.addClass)([this.element],t),this.element.appendChild(this.createTableLayout(c._23)),this.element.querySelector("table").setAttribute("role","presentation"),this.colLevels=this.generateColumnLevels(),this.renderHeader(),this.renderContent(),this.parent.uiStateValues.isGroupAdaptive&&!this.parent.element.querySelector("."+c._24)&&this.renderResourceMobileLayout(),this.parent.notify(l.D,{})},t.prototype.renderHeader=function(){var e=i.i(n.createElement)("tr"),t=i.i(n.createElement)("td");if(t.appendChild(this.renderDatesHeader()),this.parent.activeViewOptions.timeScale.enable){var r=i.i(n.createElement)("td",{className:c.a});r.appendChild(this.renderLeftIndent()),e.appendChild(r)}e.appendChild(t),i.i(n.prepend)([e],this.element.querySelector("tbody"))},t.prototype.renderContent=function(){this.parent.activeViewOptions.group.resources.length>0&&(this.parent.resourceBase.renderedResources=i.i(n.extend)([],this.parent.resourceBase.lastResourceLevel,null,!0));var e=i.i(n.createElement)("tr"),t=i.i(n.createElement)("td");if(this.parent.isAdaptive){t.setAttribute("colspan",this.parent.activeViewOptions.timeScale.enable?"2":"1");var r=i.i(n.createElement)("div",{className:c.w});this.parent.activeViewOptions.timeScale.enable&&r.appendChild(this.renderTimeCells()),r.appendChild(this.renderContentArea()),t.appendChild(r),n.EventHandler.add(r,"scroll",this.onAdaptiveScroll,this),n.EventHandler.add(r,n.Browser.touchMoveEvent,this.onAdaptiveMove,this),e.appendChild(t)}else{var a=this.colLevels.slice(0);this.parent.virtualScrollModule&&this.resetColLevels();var s=this.renderContentArea();if(t.appendChild(s),this.parent.activeViewOptions.timeScale.enable){var o=i.i(n.createElement)("td");o.appendChild(this.renderTimeCells()),e.appendChild(o)}e.appendChild(t),this.parent.virtualScrollModule&&(this.colLevels=a,this.parent.virtualScrollModule.renderVirtualTrack(s))}this.element.querySelector("tbody").appendChild(e)},t.prototype.renderLeftIndent=function(){for(var e,t=i.i(n.createElement)("div",{className:c.b}),r=this.createTableLayout(),a=i.i(n.createElement)("tr"),s=this.colLevels.length,o=0;o<s;o++){var l=a.cloneNode(),p={className:[this.colLevels[parseInt(o.toString(),10)][0]&&this.colLevels[parseInt(o.toString(),10)][0].className[0]],type:"emptyCells"};if(this.parent.activeViewOptions.showWeekNumber&&-1!==p.className.indexOf(c.e)){p.className.push(c.E);var d=this.parent.getWeekNumberContent(this.renderDates);p.template=[i.i(n.createElement)("span",{innerHTML:""+d,attrs:{title:this.parent.localeObj.getConstant("week")+" "+d}})]}e=this.createTd(p),this.parent.renderHeaderIndentTemplate(p,e),l.appendChild(e),r.querySelector("tbody").appendChild(l)}var h=a.cloneNode(),u=i.i(n.createElement)("div",{attrs:{tabindex:"0",role:"list",title:this.parent.localeObj.getConstant("expandAllDaySection"),"aria-disabled":"false","aria-label":"Expand section"},className:c._25+" "+c._26+" "+c.N+" "+c.J}),g={className:[c._4],type:"emptyCells"};return e=this.createTd(g),e.appendChild(u),this.parent.renderHeaderIndentTemplate(g,e),h.appendChild(e),r.querySelector("tbody").appendChild(h),t.appendChild(r),t},t.prototype.renderDatesHeader=function(){var e=i.i(n.createElement)("div",{className:c.c}),t=i.i(n.createElement)("div",{className:c.d});e.appendChild(t);for(var r=this.createTableLayout(),a=i.i(n.createElement)("tr",{className:c._3}),s=this.colLevels.length,o=this.colLevels[s-1],l=0;l<s;l++){for(var p=a.cloneNode(),d=this.colLevels[parseInt(l.toString(),10)],h=0;h<d.length;h++)p.appendChild(this.createTd(d[parseInt(h.toString(),10)]));r.querySelector("tbody").appendChild(p)}return this.createAllDayRow(r,o),this.createColGroup(r,o),t.appendChild(r),e},t.prototype.createAllDayRow=function(e,t){for(var r=i.i(n.createElement)("tr",{className:c._27}),a=0;a<t.length;a++){var s=i.i(n.extend)({},t[parseInt(a.toString(),10)]);s.className=[c._4],s.type="alldayCells";var o=this.createTd(s);o.setAttribute("data-date",s.date.getTime().toString()),i.i(n.isNullOrUndefined)(s.groupIndex)?this.parent.uiStateValues.isGroupAdaptive&&o.setAttribute("data-group-index",""+this.parent.uiStateValues.groupIndex):o.setAttribute("data-group-index",""+s.groupIndex),this.wireCellEvents(o),r.appendChild(o)}e.querySelector("tbody").appendChild(r);var l=i.i(n.createElement)("thead");l.appendChild(this.parent.eventBase.createEventWrapper("allDay")),i.i(n.prepend)([l],e)},t.prototype.createTd=function(e){var t=i.i(n.createElement)("td");if(this.addAttributes(e,t),e.date&&e.type){var r=this.getTdContent(e.date,e.type,e.groupIndex);r&&r.length&&i.i(n.append)(r,t)}this.parent.isMinMaxDate(o.b(new Date(""+e.date)))||i.i(n.addClass)([t],c.r),"resourceHeader"===e.type&&this.setResourceHeaderContent(t,e),"dateHeader"===e.type&&e.className.indexOf(c.e)>=0&&(t.setAttribute("data-date",e.date.getTime().toString()),i.i(n.isNullOrUndefined)(e.groupIndex)||t.setAttribute("data-group-index",""+e.groupIndex),this.wireMouseEvents(t));var a={elementType:e.type,element:t,date:e.date,groupIndex:e.groupIndex};return this.parent.trigger(l.j,a),t},t.prototype.wireCellEvents=function(e){n.EventHandler.add(e,"mousedown",this.parent.workCellAction.cellMouseDown,this.parent.workCellAction),this.wireMouseEvents(e)},t.prototype.wireMouseEvents=function(e){n.EventHandler.add(e,"click",this.parent.workCellAction.cellClick,this.parent.workCellAction),this.parent.isAdaptive||n.EventHandler.add(e,"dblclick",this.parent.workCellAction.cellDblClick,this.parent.workCellAction)},t.prototype.renderTimeCells=function(){var e=this,t=i.i(n.createElement)("div",{className:c._28}),r=this.createTableLayout(),a=i.i(n.createElement)("tr"),s=function(t){t.type=t.first?"majorSlot":"minorSlot",t.className=t.last?[c._12,c._11]:[c._11];var i=a.cloneNode(),n={date:t.date,type:t.type,className:t.className};return i.appendChild(e.createTd(n)),r.querySelector("tbody").appendChild(i),t};return this.getTimeSlotRows(s),t.appendChild(r),t},t.prototype.renderContentArea=function(){var e=i.i(n.createElement)("div",{className:c.g}),t=this.createTableLayout(c.h);return this.setAriaAttributes(t),this.addAutoHeightClass(t),this.renderContentTable(t),this.createColGroup(t,this.colLevels.slice(-1)[0]),e.appendChild(t),this.wireCellEvents(t.querySelector("tbody")),n.EventHandler.add(e,"scroll",this.onContentScroll,this),n.EventHandler.add(e,n.Browser.touchMoveEvent,this.onAdaptiveMove,this),e},t.prototype.renderContentTable=function(e){var t=e.querySelector("tbody");i.i(n.append)(this.getContentRows(),t),this.renderContentTableHeader(e)},t.prototype.getContentRows=function(){var e=this,t=[],r=i.i(n.createElement)("tr"),a=i.i(n.createElement)("td",{attrs:{"aria-selected":"false"}}),s=function(i){for(var n=r.cloneNode(),s=0,o=e.colLevels[e.colLevels.length-1];s<o.length;s++){var l=o[s],c=e.createContentTd(l,i,a);n.appendChild(c)}return t.push(n),i};return this.getTimeSlotRows(s),t},t.prototype.createContentTd=function(e,t,r){var a=r.cloneNode();e.colSpan&&a.setAttribute("colspan",e.colSpan.toString());var s=this.getContentTdClass(t),p=o.b(e.date);this.parent.isMinMaxDate(p)||s.push(c.r),o.r(p,o.s(t.date));var d="workCells";if(-1!==e.className.indexOf(c.u)&&(s.push(c.v),d="resourceGroupCells"),this.parent.workHours.highlight&&(this.parent.activeViewOptions.timeScale.enable&&this.isWorkHour(p,e.startHour,e.endHour,e.workDays)||!this.parent.activeViewOptions.timeScale.enable&&this.isWorkDay(p,e.workDays))&&s.push(c._16),i.i(n.addClass)([a],s),this.parent.activeViewOptions.cellTemplate){var h={date:p,type:d,groupIndex:e.groupIndex},u=this.parent.element.id+"_",g=this.parent.activeViewOptions.cellTemplateName,v=u+g+"cellTemplate",f=[].slice.call(this.parent.getCellTemplate()(h,this.parent,"cellTemplate",v,!1));i.i(n.append)(f,a)}if(a.setAttribute("data-date",p.getTime().toString()),!i.i(n.isNullOrUndefined)(e.groupIndex)||this.parent.uiStateValues.isGroupAdaptive){var m=this.parent.uiStateValues.isGroupAdaptive?this.parent.uiStateValues.groupIndex:e.groupIndex;a.setAttribute("data-group-index",""+m)}var y={elementType:d,element:a,date:p,groupIndex:e.groupIndex};return this.parent.trigger(l.j,y),a},t.prototype.getContentTdClass=function(e){return e.last?[c.n]:[c.n,c._15]},t.prototype.renderContentTableHeader=function(e){var t=i.i(n.createElement)("thead");t.appendChild(this.parent.eventBase.createEventWrapper()),this.parent.activeViewOptions.timeScale.enable&&t.appendChild(this.parent.eventBase.createEventWrapper("timeIndicator")),i.i(n.prepend)([t],e)},t.prototype.getScrollableElement=function(){return this.parent.isAdaptive&&!this.isTimelineView()?this.element.querySelector("."+c.w):this.getContentAreaElement()},t.prototype.getLeftPanelElement=function(){return this.element.querySelector("."+c._28)},t.prototype.getEndDateFromStartDate=function(e){var t=this.parent.activeViewOptions.timeScale.interval*o.g,i=t/this.parent.activeViewOptions.timeScale.slotCount,n=new Date(e.getTime());return n.setMilliseconds(n.getMilliseconds()+i),n},t.prototype.getTimeSlotRows=function(e){var t=[],i=this.getStartHour(),n=this.getEndHour(),r=this.parent.activeViewOptions.timeScale.interval*o.g,a=r/this.parent.activeViewOptions.timeScale.slotCount,s=Math.round(o.c/a),l=i.getTime(),c=n.getTime();if(l!==c){var p=this.parent.activeViewOptions.timeScale.interval/this.parent.activeViewOptions.timeScale.slotCount;s=Math.abs(c-l)/a-(new Date(c).getTimezoneOffset()-new Date(l).getTimezoneOffset())/p}this.parent.activeViewOptions.timeScale.enable||(s=1);for(var d=this.parent.getStartEndTime(this.parent.workHours.start),h=this.parent.getStartEndTime(this.parent.workHours.end),u=0;u<s;u++){var g=new Date(l+a*u);if(o.E(g)||new Date(l).getTimezoneOffset()!==g.getTimezoneOffset()){var v=new Date(l).getTimezoneOffset()-g.getTimezoneOffset();g=new Date(g.getTime()-6e4*v)}var f=u%(r/a),m={date:new Date(""+g),startHour:d,endHour:h,first:0===f,middle:f<this.parent.activeViewOptions.timeScale.slotCount-1,last:f===this.parent.activeViewOptions.timeScale.slotCount-1,type:""};e&&e(m),t.push(m)}return t},t.prototype.getAdjustedDate=function(e){if(!this.parent.activeViewOptions.timeScale.enable)return new Date(e.setHours(0,0,0,0));for(var t=this.getTimeSlotRows(),i=new Date(new Date(t[0].date.getTime()).setHours(e.getHours(),e.getMinutes(),e.getMilliseconds())),n=0;n<t.length;n++)if(t[parseInt(n.toString(),10)].date.getTime()>i.getTime())return e.setHours(t[n-1].date.getHours(),t[n-1].date.getMinutes(),t[n-1].date.getMilliseconds()),new Date(e);return null},t.prototype.destroy=function(){if(!(!this.parent||this.parent&&this.parent.isDestroyed)&&(this.clearCurrentTimeIndicatorTimer(),this.element)){this.appointment&&(this.appointment.destroy(),this.appointment=null);var t=this.getContentAreaElement();t&&(n.EventHandler.remove(t,"scroll",this.onContentScroll),n.EventHandler.remove(t,n.Browser.touchMoveEvent,this.onAdaptiveMove)),this.parent.resourceBase&&this.parent.resourceBase.destroy(),this.parent.scheduleTouchModule&&this.parent.scheduleTouchModule.resetValues(),e.prototype.destroy.call(this)}},t}(r.a)},function(e,t){e.exports=i},function(e,t){e.exports=n},function(e,t,i){"use strict";i.d(t,"a",function(){return r}),i.d(t,"b",function(){return a});var n=i(0),r=(i.n(n),function(){function e(){}return e.prototype.firstDateOfMonth=function(e){return new Date(e.getFullYear(),e.getMonth())},e.prototype.lastDateOfMonth=function(e){return new Date(e.getFullYear(),e.getMonth()+1,0)},e.prototype.isMonthStart=function(e){return 1===e.getDate()},e.prototype.getLeapYearDaysCount=function(){return 366},e.prototype.getYearDaysCount=function(e,t){return(e.getFullYear()+t)%4==0?366:365},e.prototype.getDate=function(e){return e.getDate()},e.prototype.getMonth=function(e){return e.getMonth()+1},e.prototype.getFullYear=function(e){return e.getFullYear()},e.prototype.getYearLastDate=function(e,t){return new Date(e.getFullYear()+t,0,0)},e.prototype.getMonthDaysCount=function(e){return this.lastDateOfMonth(e).getDate()},e.prototype.getMonthStartDate=function(e){return new Date(e.getFullYear(),e.getMonth(),1,e.getHours(),e.getMinutes())},e.prototype.getMonthEndDate=function(e){return e.setDate(1),new Date(e.setMonth(e.getMonth()+1))},e.prototype.getExpectedDays=function(e,t){return t},e.prototype.setDate=function(e,t){e.setDate(t)},e.prototype.setValidDate=function(e,t,r,a,s){i.i(n.isNullOrUndefined)(s)?e.setMonth(e.getMonth()+t,r):e.setMonth((s?a:e.getMonth())+t)},e.prototype.setMonth=function(e,t,i){e.setDate(1),e.setFullYear(e.getFullYear()),e.setMonth(t-1);var n=new Date(e.getFullYear(),e.getMonth()+1,0).getDate();e.setDate(Math.min(i,n))},e.prototype.addYears=function(e,t){e.setFullYear(e.getFullYear()+t)},e.prototype.isSameMonth=function(e,t){return e.getMonth()===t.getMonth()},e.prototype.checkMonth=function(e,t){return-1===t.indexOf(e.getMonth()+1)},e.prototype.compareMonth=function(e,t){return e.getMonth()>t.getMonth()},e.prototype.isSameYear=function(e,t){return e.getFullYear()===t.getFullYear()},e.prototype.isLastMonth=function(e){return 11===e.getMonth()},e.prototype.isLeapYear=function(e,t){return(e+t)%4==0},e}()),a=function(){function e(){}return e.prototype.firstDateOfMonth=function(e){var t=this.getHijriDate(e);return n.HijriParser.toGregorian(t.year,t.month,1)},e.prototype.lastDateOfMonth=function(e){var t=this.getHijriDate(e),i=this.getDaysInMonth(t.month,t.year),r=n.HijriParser.toGregorian(t.year,t.month,i),a=new Date(r.getTime());a=new Date(a.setDate(a.getDate()+1));var s=this.getHijriDate(a);return t.month===s.month?a:(s=this.getHijriDate(r),t.month===s.month?r:new Date(r.setDate(r.getDate()-1)))},e.prototype.isMonthStart=function(e){return 1===this.getHijriDate(e).date},e.prototype.getLeapYearDaysCount=function(){return 355},e.prototype.getYearDaysCount=function(e,t){var i=this.getHijriDate(e);return this.isLeapYear(i.year,t)?355:354},e.prototype.getDate=function(e){return this.getHijriDate(e).date},e.prototype.getMonth=function(e){return this.getHijriDate(e).month},e.prototype.getFullYear=function(e){return this.getHijriDate(e).year},e.prototype.getYearLastDate=function(e,t){var i=this.getHijriDate(e);return n.HijriParser.toGregorian(i.year+t,1,0)},e.prototype.getMonthDaysCount=function(e){var t=this.lastDateOfMonth(e);return this.getHijriDate(t).date},e.prototype.getMonthStartDate=function(e){var t=this.firstDateOfMonth(e);return new Date(t.getFullYear(),t.getMonth(),t.getDate(),e.getHours(),e.getMinutes())},e.prototype.getMonthEndDate=function(e){var t=this.lastDateOfMonth(e);return t.setDate(t.getDate()+1),new Date(t.setMonth(t.getMonth()))},e.prototype.getExpectedDays=function(e,t){for(var i=this.getHijriDate(e),r=[],a=0;a<t.length;a++){var s=n.HijriParser.toGregorian(i.year,i.month,t[parseInt(a.toString(),10)]);r.push(s.getDate())}return r},e.prototype.setDate=function(e,t){var i=this.getHijriDate(e),r=n.HijriParser.toGregorian(i.year,i.month,t);this.updateDateObj(e,r)},e.prototype.setValidDate=function(e,t,r,a,s){var o=i.i(n.isNullOrUndefined)(s)?e:this.firstDateOfMonth(s),l=this.getHijriDate(o),c=n.HijriParser.toGregorian(l.year,l.month+t,r);this.updateDateObj(e,c)},e.prototype.setMonth=function(e,t,i){var r=this.getHijriDate(e),a=n.HijriParser.toGregorian(r.year,t,i);this.updateDateObj(e,a)},e.prototype.addYears=function(e,t,i){var r=this.getHijriDate(e),a=n.HijriParser.toGregorian(r.year+t,i,1);this.updateDateObj(e,a)},e.prototype.isSameMonth=function(e,t){var i=this.getHijriDate(e),n=this.getHijriDate(t);return i.month===n.month},e.prototype.checkMonth=function(e,t){var i=this.getHijriDate(e);return-1===t.indexOf(i.month)},e.prototype.compareMonth=function(e,t){var i=this.getHijriDate(e),n=this.getHijriDate(t);return i.month>n.month},e.prototype.isSameYear=function(e,t){var i=this.getHijriDate(e),n=this.getHijriDate(t);return i.year===n.year},e.prototype.isLastMonth=function(e){return 12===this.getHijriDate(e).month},e.prototype.updateDateObj=function(e,t){e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate())},e.prototype.isLeapYear=function(e,t){return(14+11*(e+t))%30<11},e.prototype.getDaysInMonth=function(e,t){var i=0;return i=29+(e+1)%2,11===e&&this.isLeapYear(t,0)&&i++,i},e.prototype.getHijriDate=function(e){return n.HijriParser.getHijriDate(e)},e}()},function(e,t,i){"use strict";i.d(t,"a",function(){return c});var n=i(0),r=(i.n(n),i(11)),a=(i.n(r),i(4)),s=i(1),o=i(3),l=i(2),c=function(){function e(e){this.slots=[],this.isDoubleTapped=!1,this.parent=e}return e.prototype.processData=function(e,t,r){var a=this,o=this.parent.activeView.startDate(),l=this.parent.activeView.endDate(),c=this.parent.eventFields,p=[],d=1,h=!1,u=this.parent.resourceBase?this.parent.resourceBase.resourceCollection:[];e.length>0&&i.i(n.isNullOrUndefined)(e[0][c.id])&&(h=!0);for(var g=this,v=0,f=e;v<f.length;v++){var m=f[v];!function(e){h&&(e[c.id]=d++),e=g.updateEventDateTime(e),t?g.processTimezoneChange(e,r):g.parent.isPrinting||g.parent.uiStateValues.isPreventTimezone||(e=g.processTimezone(e));for(var s=0;s<u.length;s++)null!==e[u[parseInt(s.toString(),10)].field]&&0!==e[u[parseInt(s.toString(),10)].field]||(e[u[parseInt(s.toString(),10)].field]=void 0);if(i.i(n.isNullOrUndefined)(e[c.recurrenceRule])||""!==e[c.recurrenceRule]||(e[c.recurrenceRule]=null),i.i(n.isNullOrUndefined)(e[c.recurrenceRule])||!i.i(n.isNullOrUndefined)(e[c.recurrenceID])||g.parent.crudModule&&g.parent.crudModule.crudObj.isCrudAction)if(g.parent.crudModule&&g.parent.crudModule.crudObj.isCrudAction)if(!i.i(n.isNullOrUndefined)(e[c.recurrenceRule])&&i.i(n.isNullOrUndefined)(e[c.recurrenceID]))for(var o=g.generateOccurrence(e,null,r,!0),l=0,v=o;l<v.length;l++){var f=v[l];!function(e){var t=g.parent.eventsProcessed.filter(function(t){return t[c.startTime].getTime()-e[c.startTime].getTime()==0&&t[c.id]===e[c.id]});e.Guid=t.length>0?t[0].Guid:g.generateGuid(),p.push(e)}(f)}else{var m=g.parent.eventsProcessed.filter(function(t){return t[a.parent.eventFields.id]===e[a.parent.eventFields.id]});e.Guid=m.length>0?m[0].Guid:g.generateGuid(),p.push(e)}else e.Guid=g.generateGuid(),p.push(e);else p=p.concat(g.generateOccurrence(e,null,r,!0))}(m)}this.parent.eventsProcessed=[];var y=p.filter(function(e){return!e[a.parent.eventFields.isBlock]});this.parent.eventsProcessed=this.filterEvents(o,l,y);for(var T=p.filter(function(e){return e[a.parent.eventFields.isBlock]}),D=0,w=T;D<w.length;D++){var b=w[D];if(b[c.isAllDay]){s.b(new Date(b[c.startTime].getTime()))<s.b(new Date(b[c.endTime].getTime()))||(b[c.startTime]=s.b(b[c.startTime]),b[c.endTime]=s.d(s.b(b[c.endTime]),1))}}return this.parent.blockProcessed=T,y},e.prototype.updateEventDateTime=function(e){return"string"==typeof e[this.parent.eventFields.startTime]&&(e[this.parent.eventFields.startTime]=s.z(e[this.parent.eventFields.startTime])),"string"==typeof e[this.parent.eventFields.endTime]&&(e[this.parent.eventFields.endTime]=s.z(e[this.parent.eventFields.endTime])),e},e.prototype.getProcessedEvents=function(e){void 0===e&&(e=this.parent.eventsData);for(var t=[],r=0,a=e;r<a.length;r++){var s=a[r];!i.i(n.isNullOrUndefined)(s[this.parent.eventFields.recurrenceRule])&&i.i(n.isNullOrUndefined)(s[this.parent.eventFields.recurrenceID])?t=t.concat(this.generateOccurrence(s)):t.push(s)}return t},e.prototype.timezonePropertyChange=function(e){var t=this.parent.eventsData.concat(this.parent.blockData),i=this.processData(t,!0,e);this.parent.notify(l.B,{processedData:i})},e.prototype.timezoneConvert=function(e){var t=this.parent.eventFields;if(e[t.startTimezone]=e[t.startTimezone]||e[t.endTimezone],e[t.endTimezone]=e[t.endTimezone]||e[t.startTimezone],this.parent.timezone){var i=e[t.startTimezone],n=e[t.endTimezone];e[t.startTime]=this.parent.tzModule.convert(e[t.startTime],this.parent.timezone,i),e[t.endTime]=this.parent.tzModule.convert(e[t.endTime],this.parent.timezone,n)}},e.prototype.processTimezoneChange=function(e,t){var i=this.parent.eventFields;e[i.isAllDay]||(t&&this.parent.timezone?(e[i.startTime]=this.parent.tzModule.convert(e[i.startTime],t,this.parent.timezone),e[i.endTime]=this.parent.tzModule.convert(e[i.endTime],t,this.parent.timezone)):!t&&this.parent.timezone?(e[i.startTime]=this.parent.tzModule.add(e[i.startTime],this.parent.timezone),e[i.endTime]=this.parent.tzModule.add(e[i.endTime],this.parent.timezone)):t&&!this.parent.timezone&&(e[i.startTime]=this.parent.tzModule.remove(e[i.startTime],t),e[i.endTime]=this.parent.tzModule.remove(e[i.endTime],t)))},e.prototype.processTimezone=function(e,t){void 0===t&&(t=!1);var i=this.parent.eventFields;if(e[i.startTimezone]||e[i.endTimezone]){var n=e[i.startTimezone]||e[i.endTimezone],r=e[i.endTimezone]||e[i.startTimezone];t?this.parent.timezone?(e[i.startTime]=this.parent.tzModule.convert(e[i.startTime],n,this.parent.timezone),e[i.endTime]=this.parent.tzModule.convert(e[i.endTime],r,this.parent.timezone),e[i.startTime]=this.parent.tzModule.remove(e[i.startTime],this.parent.timezone),e[i.endTime]=this.parent.tzModule.remove(e[i.endTime],this.parent.timezone)):(e[i.startTime]=this.parent.tzModule.remove(e[i.startTime],n),e[i.endTime]=this.parent.tzModule.remove(e[i.endTime],r)):(e[i.startTime]=this.parent.tzModule.add(e[i.startTime],n),e[i.endTime]=this.parent.tzModule.add(e[i.endTime],r),this.parent.timezone&&(e[i.startTime]=this.parent.tzModule.convert(e[i.startTime],n,this.parent.timezone),e[i.endTime]=this.parent.tzModule.convert(e[i.endTime],r,this.parent.timezone)))}else this.parent.timezone&&(t?(e[i.startTime]=this.parent.tzModule.remove(e[i.startTime],this.parent.timezone),e[i.endTime]=this.parent.tzModule.remove(e[i.endTime],this.parent.timezone)):(e[i.startTime]=this.parent.tzModule.add(e[i.startTime],this.parent.timezone),e[i.endTime]=this.parent.tzModule.add(e[i.endTime],this.parent.timezone)));return e},e.prototype.filterBlockEvents=function(e){var t,r=this.parent.eventFields,a=e[r.startTime],o=e[r.endTime];if(this.parent.activeViewOptions.group.resources.length>0){var l=this.getGroupIndexFromEvent(e);t=this.parent.resourceBase.lastResourceLevel[parseInt(l.toString(),10)]}for(var c=i.i(n.extend)([],this.parent.blockProcessed,null,!0),p=0,d=c;p<d.length;p++){var h=d[p];if(h[r.isAllDay]){h[r.endTime].getTime()>s.b(new Date(h[r.endTime].getTime())).getTime()&&(h[r.startTime]=s.b(h[r.startTime]),h[r.endTime]=s.d(s.b(h[r.endTime]),1))}}return this.filterEvents(a,o,c,t)},e.prototype.filterEvents=function(e,t,i,n){void 0===i&&(i=this.parent.eventsProcessed);var a=this.parent.dataModule.getStartEndQuery(e,t),s=new r.DataManager({json:i}).executeLocal((new r.Query).where(a));return n&&(s=this.filterEventsByResource(n,s)),this.sortByTime(s)},e.prototype.filterEventsByRange=function(e,t,i){var n=this,r=[];return r=t&&i?this.filterEvents(t,i,e):t&&!i?e.filter(function(e){return e[n.parent.eventFields.startTime]>=t}):!t&&i?e.filter(function(e){return e[n.parent.eventFields.endTime]<=i}):e,this.sortByTime(r)},e.prototype.filterEventsByResource=function(e,t){void 0===t&&(t=this.parent.eventsProcessed);for(var i={},n=this.parent.resourceBase.resourceCollection,r=0;r<n.length;r++)i[n[parseInt(r.toString(),10)].field]=e.groupOrder[parseInt(r.toString(),10)];var a=Object.keys(i);return t.filter(function(e){return a.every(function(t){return e[""+t]instanceof Array?e[""+t].indexOf(i[""+t])>-1:e[""+t]===i[""+t]})})},e.prototype.sortByTime=function(e){if(!this.parent.eventSettings.sortComparer||"function"!=typeof this.parent.eventSettings.sortComparer&&"string"!=typeof this.parent.eventSettings.sortComparer){var t=this.parent.eventFields;e.sort(function(e,i){var n=e[t.startTime],r=i[t.startTime];return n.getTime()-r.getTime()})}else e=this.customSorting(e);return e},e.prototype.sortByDateTime=function(e){if(!this.parent.eventSettings.sortComparer||"function"!=typeof this.parent.eventSettings.sortComparer&&"string"!=typeof this.parent.eventSettings.sortComparer){var t=this.parent.eventFields;e.sort(function(e,i){var n=e[t.startTime],r=i[t.startTime],a=e[t.endTime],s=i[t.endTime],o=a.getTime()-n.getTime(),l=s.getTime()-r.getTime();return n.getTime()-r.getTime()||l-o})}else e=this.customSorting(e);return e},e.prototype.customSorting=function(e){if("function"==typeof this.parent.eventSettings.sortComparer)return this.parent.eventSettings.sortComparer.call(this.parent,e);if("string"==typeof this.parent.eventSettings.sortComparer){var t=this.parent.eventSettings.sortComparer.split("."),r=void 0;if(i.i(n.isNullOrUndefined)(window)||(r=window[t[t.length-1]]),r)return r(e)}return e},e.prototype.getSmallestMissingNumber=function(e){for(var t=Math.max.apply(Math,e),i=0;i<t;i++)if(-1===e.indexOf(i))return i;return t+1},e.prototype.splitEventByDay=function(e){var t=this.parent.eventFields,r=[],a=e[t.startTime],o=e[t.endTime];if(s.b(new Date(a.getTime()))<s.b(new Date(o.getTime())))for(var l=new Date(a.getTime()),c=s.d(s.b(new Date(a.getTime())),1),p=0===o.getHours()&&0===o.getMinutes()?o:s.d(o,1),d=1,h=s.y(a.getTime(),p.getTime());c<=o&&l.getTime()!==c.getTime();){var u=i.i(n.extend)({},e);u[t.startTime]=l,u[t.endTime]=c,u.data={index:d,count:h},u.Guid=this.generateGuid(),u.isSpanned=!0,r.push(u),l=c,s.b(new Date(l.getTime())).getTime()===s.b(new Date(o.getTime())).getTime()&&c.getTime()!==o.getTime()?(c=new Date(l.getTime()),c=new Date(c.setHours(o.getHours(),o.getMinutes(),o.getSeconds()))):c=s.d(s.b(new Date(l.getTime())),1),d++}else r.push(e);return r},e.prototype.splitEvent=function(e,t){var r=this.parent.eventFields,a=s.b(e[r.startTime]).getTime(),o=s.b(e[r.endTime]).getTime();if(s.s(e[r.endTime])<=0){var l=s.d(s.b(e[r.endTime]),-1).getTime();o=a>l?a:l}var c=a,p=o,d=[];if(a!==o){a<t[0].getTime()&&(a=t[0].getTime()),o>t[t.length-1].getTime()&&(o=t[t.length-1].getTime());for(var h=a,u=0;u<this.slots.length;u++){var g=this.slots[parseInt(u.toString(),10)];if("WorkWeek"===this.parent.currentView||"TimelineWorkWeek"===this.parent.currentView||this.parent.activeViewOptions.group.byDate||this.parent.activeViewOptions.showWeekend){for(var v=[],f=0,m=g;f<m.length;f++){var y=m[f];v.push(new Date(y))}var T=this.getRenderedDates(v);if(!i.i(n.isNullOrUndefined)(T)&&T.length>0){g=[];for(var D=0,w=T;D<w.length;D++){var b=w[D];g.push(b.getTime())}}}if("number"==typeof g){var l=g;g=[],g.push(l)}var C=g[0];if((h=h<=C&&o>=C?C:h)>o||C>o)break;if(!this.parent.activeViewOptions.group.byDate&&this.parent.activeViewOptions.showWeekend&&"WorkWeek"!==this.parent.currentView&&"TimelineWorkWeek"!==this.parent.currentView){var S=g.indexOf(h);if(-1!==S){var O=g.indexOf(o),E=-1!==O;O=E?O:g.length-1;var x=O-S+1,V=g[parseInt(S.toString(),10)]!==c,A=g[parseInt(O.toString(),10)]!==p;if(d.push(this.cloneEventObject(e,g[parseInt(S.toString(),10)],g[parseInt(O.toString(),10)],x,V,A)),E)break}}else if(this.dateInRange(h,g[0],g[g.length-1])){for(var I=[],M=0;M<g.length;M++)this.dateInRange(g[parseInt(M.toString(),10)],c,p)&&I.push(g[parseInt(M.toString(),10)]);if(I.length>0)if(this.parent.activeViewOptions.group.byDate)for(var k=0,R=I;k<R.length;k++){var _=R[k];d.push(this.cloneEventObject(e,_,_,1,_!==c,_!==p))}else{var V=I[0]!==c,A=I[I.length-1]!==p;d.push(this.cloneEventObject(e,I[0],I[I.length-1],I.length,V,A))}}}}else d.push(this.cloneEventObject(e,a,o,1,!1,!1));return d},e.prototype.cloneEventObject=function(e,t,r,a,s,o){var l=this.parent.eventFields,c=i.i(n.extend)({},e,null,!0),p={count:a,isLeft:s,isRight:o};return p[l.startTime]=e[l.startTime],p[l.endTime]=e[l.endTime],c.data=p,c[l.startTime]=new Date(t),c[l.endTime]=new Date(r),c},e.prototype.dateInRange=function(e,t,i){return t<=e&&e<=i},e.prototype.getSelectedEventElements=function(e){if(this.removeSelectedAppointmentClass(),this.parent.selectedElements.length<=0)this.parent.selectedElements.push(e);else{if(this.parent.selectedElements.filter(function(t){return t.getAttribute("data-guid")===e.getAttribute("data-guid")}).length<=0)for(var t='div[data-guid="'+e.getAttribute("data-guid")+'"]',i=[].slice.call(this.parent.element.querySelectorAll(t)),n=0,r=i;n<r.length;n++){var a=r[n];this.parent.selectedElements.push(a)}else{var s=this.parent.selectedElements.filter(function(t){return t.getAttribute("data-guid")!==e.getAttribute("data-guid")});this.parent.selectedElements=s}}return e&&this.parent.selectedElements.length>0&&this.addSelectedAppointments(this.parent.selectedElements,!1),this.parent.selectedElements},e.prototype.getSelectedEvents=function(){var e=this,t=[],i=[];return[].slice.call(this.parent.element.querySelectorAll("."+o.R)).filter(function(n){0===t.filter(function(e){return e.Guid===n.getAttribute("data-guid")}).length&&t.push(e.getEventByGuid(n.getAttribute("data-guid"))),i.push(n)}),{event:t.length>1?t:t[0],element:i.length>1?i:i[0]}},e.prototype.removeSelectedAppointmentClass=function(){var e=this.getSelectedAppointments();i.i(n.removeClass)(e,o.R),"Agenda"!==this.parent.currentView&&"MonthAgenda"!==this.parent.currentView||i.i(n.removeClass)(e,o.S)},e.prototype.addSelectedAppointments=function(e,t){"MonthAgenda"!==this.parent.currentView&&this.parent.removeSelectedClass(),i.i(n.addClass)(e,o.R),e.length>0&&!t&&e[e.length-1].focus()},e.prototype.getSelectedAppointments=function(){return[].slice.call(this.parent.element.querySelectorAll("."+o.R+",."+o.D+":focus"))},e.prototype.focusElement=function(e){if(!this.parent.eventWindow.dialogObject||!this.parent.eventWindow.dialogObject.visible){var t=document.activeElement,r=this.parent.getSelectedCells();if(!(r.length>0&&(t&&(this.parent.element.contains(t)||-1!==r.indexOf(t))||e))){var a=this.getSelectedAppointments();return a.length>0?this.parent.activeEventData&&this.parent.activeEventData.element&&a.indexOf(this.parent.activeEventData.element)>-1?void this.parent.activeEventData.element.focus():void a[a.length-1].focus():void 0}if(this.parent.keyboardInteractionModule){var s=!i.i(n.isNullOrUndefined)(this.parent.activeCellsData)&&this.parent.activeCellsData.element||r[r.length-1];this.parent.keyboardInteractionModule.selectCells(s instanceof Array,s)}}},e.prototype.selectWorkCellByTime=function(e){var t;if("Agenda"===this.parent.currentView||"MonthAgenda"===this.parent.currentView)return t;if(e.length>0){var i=e[e.length-1],n=i[this.parent.eventFields.startTime],r=new Date(+n).setMinutes(0,0,0),a=this.isAllDayAppointment(i);("Month"===this.parent.currentView||a)&&(r=new Date(+n).setHours(0,0,0,0));var s=void 0;s=a&&-1!==["Day","Week","WorkWeek"].indexOf(this.parent.currentView)?this.parent.getAllDayRow():this.parent.getContentTable();var o='[data-date="'+new Date(r).getTime()+'"]';if(this.parent.activeViewOptions.group.resources.length>0&&(o+='[data-group-index="'+this.getGroupIndexFromEvent(i)+'"]'),t=s.querySelector(o))return this.parent.activeCellsData=this.parent.getCellDetails(t),this.parent.keyboardInteractionModule&&this.parent.keyboardInteractionModule.selectCells(!1,t),t}return t},e.prototype.getGroupIndexFromEvent=function(e){for(var t,r,a,s,o=this.parent.resourceBase.resourceCollection.length-1;o>=0;o--){var l=e[this.parent.resourceBase.resourceCollection[parseInt(o.toString(),10)].field];if(!i.i(n.isNullOrUndefined)(l)){r=this.parent.resourceBase.resourceCollection[parseInt(o.toString(),10)],t=o,a=r.name,s=r.field;break}}i.i(n.isNullOrUndefined)(a)&&i.i(n.isNullOrUndefined)(t)&&(a=this.parent.resourceCollection.slice(-1)[0].name,t=this.parent.resourceCollection.length-1,s=this.parent.resourceCollection.slice(-1)[0].field,r=this.parent.resourceCollection.filter(function(e,i){return e.name===a?(t=i,e):null})[0]);var c=e[""+s]instanceof Array?e[""+s][0]:e[""+s];if(t>0){var p=this.parent.resourceCollection[t-1].field;return this.parent.resourceBase.getIndexFromResourceId(c,a,r,e,p)}return this.parent.resourceBase.getIndexFromResourceId(c,a,r)},e.prototype.isAllDayAppointment=function(e){var t=this.parent.eventFields,i=e[t.isAllDay],n=(s.F(e[t.endTime])-s.F(e[t.startTime]))/s.c>=1;return!!(i||"TimeSlot"!==this.parent.eventSettings.spannedEventPlacement&&n)},e.prototype.addEventListener=function(){this.parent.on(l.I,this.appointmentBorderRemove,this)},e.prototype.removeEventListener=function(){this.parent.off(l.I,this.appointmentBorderRemove)},e.prototype.appointmentBorderRemove=function(e){var t=e.event.target;i.i(n.closest)(t,"."+o.D)?"MonthAgenda"!==this.parent.currentView&&this.parent.removeSelectedClass():i.i(n.closest)(t,"."+o.T)||(this.removeSelectedAppointmentClass(),this.parent.selectedElements=[])},e.prototype.wireAppointmentEvents=function(e,t,r){void 0===r&&(r=!1);var a=!i.i(n.isNullOrUndefined)(t)&&t[this.parent.eventFields.isReadonly];n.EventHandler.add(e,"click",this.eventClick,this),this.parent.isAdaptive||this.parent.activeViewOptions.readonly||a||(n.EventHandler.add(e,"touchstart",this.eventTouchClick,this),n.EventHandler.add(e,"dblclick",this.eventDoubleClick,this)),this.parent.activeViewOptions.readonly||a||r||(this.parent.resizeModule&&this.parent.resizeModule.wireResizeEvent(e),this.parent.dragAndDropModule&&this.parent.dragAndDropModule.wireDragEvent(e))},e.prototype.eventTouchClick=function(e){var t=this;setTimeout(function(){return t.isDoubleTapped=!1},250),e.preventDefault(),this.isDoubleTapped?this.eventDoubleClick(e):this.isDoubleTapped||(this.isDoubleTapped=!0,this.eventClick(e))},e.prototype.renderResizeHandler=function(e,t,r){if(this.parent.resizeModule&&this.parent.allowResizing&&!this.parent.activeViewOptions.readonly&&!r)for(var a=0,s=Object.keys(t);a<s.length;a++){var l=s[a],c=i.i(n.createElement)("div",{className:o.U});switch(l){case"isLeft":t.isLeft||(c.appendChild(i.i(n.createElement)("div",{className:"e-left-right-resize"})),i.i(n.addClass)([c],this.parent.enableRtl?o.V:o.W),i.i(n.prepend)([c],e));break;case"isRight":t.isRight||(c.appendChild(i.i(n.createElement)("div",{className:"e-left-right-resize"})),i.i(n.addClass)([c],this.parent.enableRtl?o.W:o.V),i.i(n.append)([c],e));break;case"isTop":t.isTop||(c.appendChild(i.i(n.createElement)("div",{className:"e-top-bottom-resize"})),i.i(n.addClass)([c],o.X),i.i(n.prepend)([c],e));break;case"isBottom":t.isBottom||(c.appendChild(i.i(n.createElement)("div",{className:"e-top-bottom-resize"})),i.i(n.addClass)([c],o.Y),i.i(n.append)([c],e))}}},e.prototype.eventClick=function(e){var t=this,r=e.target;if(!(r.classList.contains(o.Z)||r.classList.contains(o._0)||r.classList.contains(o._1)))if((e.ctrlKey||e.metaKey)&&1===e.which&&this.parent.keyboardInteractionModule){this.parent.quickPopup.quickPopup.hide(),this.parent.selectedElements=[].slice.call(this.parent.element.querySelectorAll("."+o.R));var a=i.i(n.closest)(e.target,"."+o.D);this.getSelectedEventElements(a),this.activeEventData(e,!1);var s={data:this.parent.activeEventData.event,element:this.parent.activeEventData.element,event:e,requestType:"eventSelect"};this.parent.trigger(l.d,s);var c=i.i(n.extend)(this.parent.activeEventData,{cancel:!1,originalEvent:e});this.parent.trigger(l.k,c)}else{this.removeSelectedAppointmentClass(),this.activeEventData(e,!0);var p={data:this.parent.activeEventData.event,element:this.parent.activeEventData.element,event:e,requestType:"eventSelect"};this.parent.trigger(l.d,p);var c=i.i(n.extend)(this.parent.activeEventData,{cancel:!1,originalEvent:e});this.parent.trigger(l.k,c,function(e){if(e.cancel)t.removeSelectedAppointmentClass(),t.parent.selectedElements=[],t.parent.quickPopup&&t.parent.quickPopup.quickPopupHide();else if("Agenda"!==t.parent.currentView&&"MonthAgenda"!==t.parent.currentView||i.i(n.addClass)([t.parent.activeEventData.element],o.S),t.parent.allowInline){var r={data:e.event,element:e.element,type:"Event"};t.parent.notify(l.w,r)}else t.parent.notify(l.k,e)})}},e.prototype.eventDoubleClick=function(e){this.parent.quickPopup&&this.parent.quickPopup.quickPopupHide(!0),"touchstart"===e.type&&this.activeEventData(e,!0),this.removeSelectedAppointmentClass(),this.parent.selectedElements=[],this.parent.activeEventData.element.classList.contains(o._2)||this.parent.activeEventData.element.querySelector("."+o._1)||(!i.i(n.isNullOrUndefined)(this.parent.activeEventData.event)&&i.i(n.isNullOrUndefined)(this.parent.activeEventData.event[this.parent.eventFields.recurrenceID])?this.parent.eventWindow.openEditor(this.parent.activeEventData.event,"Save"):(this.parent.currentAction="EditOccurrence",this.parent.quickPopup.openRecurrenceAlert()))},e.prototype.getEventByGuid=function(e){return this.parent.eventsProcessed.filter(function(t){return t.Guid===e})[0]},e.prototype.getEventById=function(e){var t=this;return this.parent.eventsData.filter(function(i){return i[t.parent.eventFields.id]===e})[0]},e.prototype.generateGuid=function(){return"xyxxxxyx-xxxy-yxxx-xyxx-xxyxxxxyyxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},e.prototype.getEventIDType=function(){return 0!==this.parent.eventsData.length?typeof this.parent.eventsData[0][this.parent.eventFields.id]:0!==this.parent.blockData.length?typeof this.parent.blockData[0][this.parent.eventFields.id]:"string"},e.prototype.getEventMaxID=function(e){var t=this;if(this.parent.eventsData.length<1&&this.parent.blockData.length<1)return 1;var r,a=this.getEventIDType();if("string"===a&&(r=this.generateGuid()),"number"===a){var s=this.parent.eventsData.concat(this.parent.blockData),o=s.map(function(e){return e[t.parent.eventFields.id]}),l=o.reduce(function(e,t){return Math.max(e,t)});l=i.i(n.isNullOrUndefined)(e)?l:l+e,r=l+1}return r},e.prototype.activeEventData=function(e,t){var r=this,a=i.i(n.closest)(e.target,"."+o.D),s=a.getAttribute("data-guid");t&&(this.addSelectedAppointments([].slice.call(this.parent.element.querySelectorAll('div[data-guid="'+s+'"]')),!0),a.focus());var l=this.getEventByGuid(s);l&&l.isSpanned&&(l=this.parent.eventsData.filter(function(e){return e[r.parent.eventFields.id]===l[r.parent.eventFields.id]})[0]),this.parent.activeEventData={event:l,element:a}},e.prototype.generateOccurrence=function(e,t,r,o){var l=e[this.parent.eventFields.startTime],c=e[this.parent.eventFields.endTime],p=e[this.parent.eventFields.recurrenceRule],d=c.getTimezoneOffset()-l.getTimezoneOffset(),h=c.getTime()-l.getTime()-6e4*d;t=new Date((t||this.parent.activeView.startDate()).getTime()-h);var u,g=e[this.parent.eventFields.recurrenceException];"Agenda"!==this.parent.currentView&&o&&(u=s.t(t,this.parent.activeView.endDate())+1);var v=this.parent.timezone||this.parent.tzModule.getLocalTimezoneName(),f=this.parent.activeViewOptions.firstDayOfWeek,m=this.parent.calendarMode,y=i.i(a.b)(l,p,g,f,u,t,m,r,v);"Agenda"===this.parent.currentView&&-1===p.indexOf("COUNT")&&-1===p.indexOf("UNTIL")&&(i.i(n.isNullOrUndefined)(e.generatedDates)?e.generatedDates={start:new Date(y[0]),end:new Date(y[y.length-1])}:(y[0]<e.generatedDates.start.getTime()&&(e.generatedDates.start=new Date(y[0])),y[y.length-1]>e.generatedDates.end.getTime()&&(e.generatedDates.end=new Date(y[y.length-1]))));for(var T=[],D=0,w=y;D<w.length;D++){var b=w[D],C=i.i(n.extend)({},e,null,!0);b=this.getDSTAdjustedTime(b,C),C[this.parent.eventFields.startTime]=new Date(b),C[this.parent.eventFields.endTime]=new Date(new Date(b).setMilliseconds(h)),C[this.parent.eventFields.recurrenceID]=C[this.parent.eventFields.id],delete C[this.parent.eventFields.recurrenceException],delete C[this.parent.eventFields.followingID],C.Guid=this.generateGuid(),T.push(C)}return T},e.prototype.getDSTAdjustedTime=function(e,t){var i=e;if(this.parent.timezone&&(t[this.parent.eventFields.startTimezone]||t[this.parent.eventFields.endTimezone])){var n=this.getDSTDiff(t[this.parent.eventFields.startTime],new Date(e),t[this.parent.eventFields.startTimezone]),r=this.getDSTDiff(t[this.parent.eventFields.startTime],new Date(e),this.parent.timezone);i=new Date(e).getTime()-6e4*(n-r)}return i},e.prototype.getDSTDiff=function(e,t,i){return this.parent.tzModule.offset(new Date(e),i)-this.parent.tzModule.offset(new Date(t),i)},e.prototype.getParentEvent=function(e,t){void 0===t&&(t=!1);var r;do{(e=this.getFollowingEvent(e))&&(r=i.i(n.extend)({},e,null,!0))}while(e&&t);if(t&&r){var a=this.getEventCollections(r),s=a.follow.slice(-1)[0];a.occurrence.length>0&&!r[this.parent.eventFields.recurrenceException]&&(s=a.occurrence.slice(-1)[0]),s&&(r[this.parent.eventFields.recurrenceRule]=s[this.parent.eventFields.recurrenceRule])}return r},e.prototype.getEventCollections=function(e,t){var i=[],n=[],r=e;do{r=this.getFollowingEvent(r,!0),r&&i.push(r),n=n.concat(this.getOccurrenceEvent(r||e))}while(r);var a={};if(t){var s=this.parent.eventFields;a={follow:i.filter(function(e){return e[s.startTime]>=t[s.startTime]}),occurrence:n.filter(function(e){return e[s.startTime]>=t[s.startTime]})}}else a={follow:i,occurrence:n};return a},e.prototype.getFollowingEvent=function(e,t){var i,n=this.parent.eventFields;return i=t?e[n.id]:e[n.recurrenceID]||e[n.followingID],this.parent.eventsData.filter(function(e){return e[t?n.followingID:n.id]===i}).shift()},e.prototype.isFollowingEvent=function(e,t){var i=e[this.parent.eventFields.startTime],n=t[this.parent.eventFields.startTime];return i.getHours()===n.getHours()&&i.getMinutes()===n.getMinutes()&&i.getSeconds()===n.getSeconds()},e.prototype.getOccurrenceEvent=function(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1);var n=t?"Guid":i?this.parent.eventFields.followingID:this.parent.eventFields.recurrenceID,r=t?"Guid":this.parent.eventFields.id;return(t?this.parent.eventsProcessed:this.parent.eventsData).filter(function(t){return t[""+n]===e[""+r]})},e.prototype.getOccurrencesByID=function(e){for(var t=this.parent.eventFields,r=[],a=this.parent.eventsData.filter(function(i){return i[t.id]===e}),s=0,o=a;s<o.length;s++){var l=o[s];i.i(n.isNullOrUndefined)(l[t.recurrenceRule])||(r=r.concat(this.generateOccurrence(l)))}return r},e.prototype.getOccurrencesByRange=function(e,t){for(var r=this.parent.eventFields,a=[],s=0,o=this.parent.eventsData;s<o.length;s++){var l=o[s];i.i(n.isNullOrUndefined)(l[r.recurrenceRule])||(a=a.concat(this.generateOccurrence(l)))}return a.filter(function(a){return a[r.startTime]>=e&&a[r.endTime]<=t&&!i.i(n.isNullOrUndefined)(a[r.recurrenceID])})},e.prototype.getDeletedOccurrences=function(e){var t,r=this.parent.eventFields,s=[];if(t="string"==typeof e||"number"==typeof e?this.parent.eventsData.filter(function(t){return t[r.id]===e})[0]:i.i(n.extend)({},e,null,!0),t[r.recurrenceException])for(var o=t[r.recurrenceException].split(","),l=this,c=0,p=o.length;c<p;c++)!function(c,p){if(0===l.parent.eventsData.filter(function(e){return e[r.recurrenceID]===t[r.id]&&e[r.recurrenceException]===o[parseInt(c.toString(),10)]}).length){var d=i.i(a.c)(o[parseInt(c.toString(),10)]),h=i.i(n.extend)({},e,null,!0);h[r.recurrenceID]=t[r.id],delete h[r.followingID],h[r.recurrenceException]=o[parseInt(c.toString(),10)];var u=new Date(d.getTime()),g=t[r.endTime].getTime()-t[r.startTime].getTime(),v=new Date(u.getTime());v.setMilliseconds(g),h[r.startTime]=new Date(u.getTime()),h[r.endTime]=new Date(v.getTime()),s.push(h)}}(c);return s},e.prototype.applyResourceColor=function(e,t,r,a,s){if(this.parent.resourceBase){var o=this.parent.resourceBase.getResourceColor(t,a);o&&(e.style[r]=i.i(n.isNullOrUndefined)(s)?o:function(e,t){return e=e.replace("#",""),"rgba("+parseInt(e.substring(0,e.length/3),16)+", "+parseInt(e.substring(e.length/3,2*e.length/3),16)+", "+parseInt(e.substring(2*e.length/3,3*e.length/3),16)+", "+t+")"}(o,s))}},e.prototype.createBlockAppointmentElement=function(e,t,r){var a,s=e[this.parent.eventFields.subject]||this.parent.eventSettings.fields.subject.default,l=i.i(n.createElement)("div",{className:o.A,attrs:{"data-id":"Appointment_"+e[this.parent.eventFields.id],"aria-disabled":"true"}});if(i.i(n.isNullOrUndefined)(this.parent.activeViewOptions.eventTemplate)){var c=i.i(n.createElement)("div",{className:o.H});this.parent.sanitize(s,c),a=[c]}else{var p=this.parent.element.id+"_",d=this.parent.activeViewOptions.eventTemplateName,h=p+d+"eventTemplate",u="eventTemplate"+(r&&-1===this.parent.currentView.indexOf("Year")?"_"+t:"");a=this.parent.getAppointmentTemplate()(e,this.parent,u,h,!1)}return i.i(n.append)(a,l),this.setWrapperAttributes(l,t),l},e.prototype.setWrapperAttributes=function(e,t){i.i(n.isNullOrUndefined)(this.cssClass)||i.i(n.addClass)([e],this.cssClass),this.parent.activeViewOptions.group.resources.length>0&&e.setAttribute("data-group-index",t.toString())},e.prototype.getReadonlyAttribute=function(e){return(e[this.parent.eventFields.isReadonly]||this.parent.readonly).toString()},e.prototype.isBlockRange=function(e){for(var t=e instanceof Array?e:[e],r=!1,a=this.parent.eventFields,s=0,o=t;s<o.length;s++){var l=o[s],c=[];i.i(n.isNullOrUndefined)(l[a.recurrenceRule])||!i.i(n.isNullOrUndefined)(l[a.recurrenceID])&&l[a.id]!==l[a.recurrenceID]?c.push(l):c=this.generateOccurrence(l);for(var p=0,d=c;p<d.length;p++){var h=d[p];if(this.filterBlockEvents(h).length>0){r=!0;break}}}return this.parent.uiStateValues.isBlock=r,r},e.prototype.getFilterEventsList=function(e,t){return new r.DataManager(e).executeLocal((new r.Query).where(t))},e.prototype.getSeriesEvents=function(e,t){var a=this.parent.eventFields;t=i.i(n.isNullOrUndefined)(t)?e[a.startTime]:t;var s,o,l,c=[],p=e[a.id],d=e[a.followingID],h="EditSeries"===this.parent.currentAction?"greaterthan":"greaterthanorequal";do{l=new r.Predicate(a.followingID,"equal",p).and(new r.Predicate(a.startTime,h,t)),o=this.getFilterEventsList(this.parent.eventsData,l),s=o.slice(-1)[0],i.i(n.isNullOrUndefined)(s)||s[a.id]===d?d=null:(c.push(s),p=s[a.id],d=s[a.followingID])}while(1===o.length&&!i.i(n.isNullOrUndefined)(s[a.followingID]));return c},e.prototype.getEditedOccurrences=function(e,t){for(var i,n=this.parent.eventFields,a=[],s=0,o=e;s<o.length;s++){var l=o[s],c=new r.Predicate(n.recurrenceID,"equal",l[n.id]).or(new r.Predicate(n.recurrenceID,"equal",l[n.followingID]).and(new r.Predicate(n.recurrenceID,"notequal",void 0)).and(new r.Predicate(n.recurrenceID,"notequal",null)));"EditFollowingEvents"!==this.parent.currentAction&&"DeleteFollowingEvents"!==this.parent.currentAction||(c=c.and(new r.Predicate(n.startTime,"greaterthanorequal",t))),i=this.getFilterEventsList(this.parent.eventsData,c),a=a.concat(i)}return a},e.prototype.getRenderedDates=function(e){var t,i=0,n=e.length;if(e[0]<this.parent.minDate&&e[e.length-1]>this.parent.maxDate){for(var r=0;r<e.length;r++)s.b(e[parseInt(r.toString(),10)]).getTime()===s.b(new Date(this.parent.minDate)).getTime()&&(i=r),s.b(e[parseInt(r.toString(),10)]).getTime()===s.b(new Date(this.parent.maxDate)).getTime()&&(n=r);t=e.filter(function(t){return t>=e[parseInt(i.toString(),10)]&&t<=e[parseInt(n.toString(),10)]})}return t},e.prototype.isValidEvent=function(e,t,i,n){var r=i.getTime()>n.startHour.getTime()&&t.getTime()<n.endHour.getTime(),a=n.startHour.getTime()<=t.getTime()&&e[this.parent.eventFields.startTime].getTime()>=n.startHour.getTime()&&e[this.parent.eventFields.endTime].getTime()<n.endHour.getTime()&&t.getTime()===i.getTime();return r||a},e.prototype.allDayExpandScroll=function(e){var t=0;[].slice.call(this.parent.element.querySelectorAll("."+o._3)).forEach(function(e){[].slice.call(e.children).forEach(function(e){e.style.top=t+"px"}),t+=e.offsetHeight}),t=e.offsetHeight-t,this.parent.element.querySelector("."+o._4).style.height=t/12+"em",this.parent.uiStateValues.expand?i.i(n.addClass)([e],o._5):i.i(n.removeClass)([e],o._5)},e.prototype.updateEventMinimumDuration=function(e,t,i){if(t.getTime()<i.getTime()){if((s.F(i)-s.F(t))/s.g<this.parent.eventSettings.minimumEventDuration){var n=new Date(t);if(n.setMinutes(n.getMinutes()+this.parent.eventSettings.minimumEventDuration),i=n,i.getTime()>e.endHour.getTime()){var r=new Date(e.endHour.getTime());r.setMinutes(r.getMinutes()-this.parent.eventSettings.minimumEventDuration),t=r,i=e.endHour}}}return{startDate:t,endDate:i}},e.prototype.createEventWrapper=function(e,t){void 0===e&&(e=""),void 0===t&&(t=0);for(var r=i.i(n.createElement)("tr"),a=this.parent.activeView.colLevels.slice(-1)[0],s=0,l=a.length;s<l;s++){var c=a[parseInt(s.toString(),10)],p=i.i(n.createElement)("td",{className:"allDay"===e?o._6:"timeIndicator"===e?o._7:o._8,attrs:{"data-date":c.date.getTime().toString()}});if(i.i(n.isNullOrUndefined)(c.groupIndex)||p.setAttribute("data-group-index",c.groupIndex.toString()),""===e){var d=i.i(n.createElement)("div",{id:o.C+"-"+t.toString(),className:o.C});p.appendChild(d)}r.appendChild(p),t+=1}return r},e.prototype.getPageCoordinates=function(e){if(i.i(n.isNullOrUndefined)(e))return e;var t=e.event;return t&&t.changedTouches?t.changedTouches[0]:e.changedTouches?e.changedTouches[0]:t||e},e.prototype.renderSpannedIcon=function(e,t){var r=i.i(n.createElement)("div",{className:o.O+" "+o.N});if(t.isLeft){var a=r.cloneNode();i.i(n.addClass)([a],o.P),i.i(n.prepend)([a],e)}if(t.isRight){var s=r.cloneNode();i.i(n.addClass)([s],o.Q),i.i(n.append)([s],e)}if(t.isTop){var l=r.cloneNode();i.i(n.addClass)([l],o._9),i.i(n.prepend)([l],e)}if(t.isBottom){var c=r.cloneNode();i.i(n.addClass)([c],o._10),i.i(n.append)([c],e)}},e.prototype.unWireEvents=function(){for(var e=[].slice.call(this.parent.element.querySelectorAll("."+o.D)),t=0,i=e;t<i.length;t++){var r=i[t];n.EventHandler.clearEvents(r)}},e.prototype.destroy=function(){this.unWireEvents(),this.parent=null},e}()},function(e,t,i){"use strict";i.d(t,"a",function(){return c});var n=i(0),r=(i.n(n),i(14)),a=i(1),s=i(2),o=i(3),l=this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),c=function(e){function t(t){var i=e.call(this,t)||this;return i.dateRender=[],i.renderedEvents=[],i.renderedAllDayEvents=[],i.overlapEvents=[],i.moreEvents=[],i.overlapList=[],i.allDayEvents=[],i.slotCount=i.parent.activeViewOptions.timeScale.slotCount,i.interval=i.parent.activeViewOptions.timeScale.interval,i.allDayLevel=0,i.startHour=i.parent.activeView.getStartHour(),i.endHour=i.parent.activeView.getEndHour(),i.element=i.parent.activeView.getPanel(),i.fields=i.parent.eventFields,i.animation=new n.Animation({progress:i.animationUiUpdate.bind(i)}),i.addEventListener(),i}return l(t,e),t.prototype.renderAppointments=function(){if(!i.i(n.isNullOrUndefined)(this.parent)){this.parent.dragAndDropModule&&this.parent.dragAndDropModule.setDragArea(),this.isResourceEventTemplate=this.parent.isSpecificResourceEvents();for(var e=[].slice.call(this.parent.element.querySelectorAll("."+o.A+",."+o.D+",."+o._29)),t=!(!this.parent.crudModule||!this.parent.crudModule.crudObj.isCrudAction),r=0,a=e;r<a.length;r++){var l=a[r];if(!t||l.classList.contains(o._30)||l.classList.contains(o._29))i.i(n.remove)(l);else for(var c=parseInt(l.getAttribute("data-group-index"),10),p=0,d=this.parent.crudModule.crudObj.sourceEvent.length;p<d;p++)c!==this.parent.crudModule.crudObj.sourceEvent[parseInt(p.toString(),10)].groupIndex&&c!==this.parent.crudModule.crudObj.targetEvent[parseInt(p.toString(),10)].groupIndex||i.i(n.remove)(l)}if(this.element.querySelector("."+o.n)&&(this.parent.virtualScrollModule&&this.parent.virtualScrollModule.updateFocusedWorkCell(),this.allDayElement=[].slice.call(this.element.querySelectorAll("."+o._4)),this.setAllDayRowHeight(0),0!==this.parent.eventsProcessed.length||0!==this.parent.blockProcessed.length)){var h=this.element.querySelector("."+o._25);n.EventHandler.remove(h,"click",this.rowExpandCollapse),n.EventHandler.add(h,"click",this.rowExpandCollapse,this),this.renderedEvents=[],this.renderedAllDayEvents=[],this.initializeValues(),this.processBlockEvents(),this.renderEvents("normalEvents"),this.allDayEvents.length>0&&(this.allDayEvents=this.allDayEvents.filter(function(e,t,i){return t===i.map(function(e){return e.Guid}).indexOf(e.Guid)}),i.i(n.removeClass)(this.allDayElement,o._31),this.slots.push(this.parent.activeView.renderDates.map(function(e){return+e})),this.renderEvents("allDayEvents")),this.parent.notify(s.D,{}),i.i(n.addClass)(this.allDayElement,o._31),t&&(this.parent.crudModule.crudObj.isCrudAction=!1),this.parent.renderTemplates()}}},t.prototype.initializeValues=function(){if(this.resources=this.parent.activeViewOptions.group.resources.length>0?this.parent.uiStateValues.isGroupAdaptive?[this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex]]:this.parent.resourceBase.lastResourceLevel:[],this.resources.length>0&&this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.virtualScrollModule&&(this.resources=this.parent.resourceBase.renderedResources),this.cellHeight=parseFloat(this.parent.element.querySelector(".e-content-wrap tbody tr").getBoundingClientRect().height.toFixed(2)),this.dateRender[0]=this.parent.activeView.renderDates,this.parent.activeViewOptions.group.resources.length>0)for(var e=0,t=this.resources.length;e<t;e++)this.dateRender[parseInt(e.toString(),10)]=this.resources[parseInt(e.toString(),10)].renderDates},t.prototype.getHeight=function(e,t){var i=(a.F(t)-a.F(e))/a.g*(this.cellHeight*this.slotCount)/this.interval;return i=i<=0?this.cellHeight:i},t.prototype.appendEvent=function(e,t,r,a){var l=this.element.querySelector("."+o.C+'[id="'+o.C+"-"+r+'"]');this.parent.enableRtl?i.i(n.setStyleAttribute)(t,{right:a}):i.i(n.setStyleAttribute)(t,{left:a});var c=t.classList.contains(o.A)?"blockEvent":"event",p={data:i.i(n.extend)({},e,null,!0),element:t,cancel:!1,type:c};this.parent.trigger(s.l,p,function(e){e.cancel||l.appendChild(t)})},t.prototype.processBlockEvents=function(){for(var e=this.getResourceList(),t=this.getStartCount(),i=0,n=e;i<n.length;i++)for(var r=n[i],s=this.dateRender[parseInt(r.toString(),10)],o=0,l=s.length;o<l;o++){for(var c=new Date(s[parseInt(o.toString(),10)].getTime()),p=a.d(s[parseInt(o.toString(),10)],1),d=this.filterEvents(c,p,this.parent.blockProcessed,this.resources[parseInt(r.toString(),10)]),h=0,u=d;h<u.length;h++){var g=u[h];this.parent.resourceBase&&this.setValues(g,r),this.renderBlockEvents(g,o,r,t),this.cssClass=null,this.groupOrder=null}t+=1}},t.prototype.renderBlockEvents=function(e,t,r,s){var l=this.isSpannedEvent(e,t,r),c=l[this.fields.startTime],p=l[this.fields.endTime],d=a.b(new Date(this.dateRender[parseInt(r.toString(),10)][parseInt(t.toString(),10)].getTime())),h=a.w(d,this.startHour,this.endHour);if(c<=p&&this.isValidEvent(e,c,p,h)&&this.isWorkDayAvailable(r,c)){var u=void 0,g=void 0;if(l[this.fields.isAllDay]){var v=this.parent.element.querySelector("."+o.g+" table");g=i.i(n.formatUnit)(v.offsetHeight),u=i.i(n.formatUnit)(0)}else g=i.i(n.formatUnit)(this.getHeight(c,p)),u=i.i(n.formatUnit)(this.getTopValue(c,t,r));var f=this.createBlockAppointmentElement(e,r,this.isResourceEventTemplate);i.i(n.setStyleAttribute)(f,{width:"100%",height:g,top:u});var m=this.getDayIndex(t,r,s);this.appendEvent(e,f,m,"0px")}},t.prototype.renderEvents=function(e){i.i(n.removeClass)(this.allDayElement,o._31);for(var t,r="allDayEvents"===e?this.sortByDateTime(this.allDayEvents):void 0,s=this.getResourceList(),l=this.getStartCount(),c=this,p=0,d=s;p<d.length;p++){var h=d[p];!function(s){t=!0,c.parent.crudModule&&c.parent.crudModule.crudObj.isCrudAction&&"allDayEvents"!==e&&!c.parent.uiStateValues.isGroupAdaptive&&0===c.parent.crudModule.crudObj.sourceEvent.filter(function(e){return e.groupIndex===s}).length&&0===c.parent.crudModule.crudObj.targetEvent.filter(function(e){return e.groupIndex===s}).length&&(t=!1),c.slots=[];var o=c.dateRender[parseInt(s.toString(),10)],p=c.getRenderedDates(o)||o;c.slots.push(o.map(function(e){return+e}));for(var d=0,h=o.length;d<h&&o[parseInt(d.toString(),10)]<=p[p.length-1];d++){c.renderedEvents=[];var u=new Date(o[parseInt(d.toString(),10)].getTime()),g=a.d(o[parseInt(d.toString(),10)],1),v=c.filterEvents(u,g,r,c.resources[parseInt(s.toString(),10)]);if(t)for(var f=0,m=v;f<m.length;f++){var y=m[f];if(c.parent.resourceBase&&c.setValues(y,s),"allDayEvents"===e)c.renderAllDayEvents(y,d,s,l);else if(c.isAllDayAppointment(y))c.allDayEvents.push(i.i(n.extend)({},y,null,!0));else{if(c.parent.eventSettings.enableMaxHeight&&c.getOverlapIndex(y,d,!1,s)>0)continue;c.renderNormalEvents(y,d,s,l)}c.cssClass=null,c.groupOrder=null}else for(var T=0,D=v;T<D.length;T++){var w=D[T];c.isAllDayAppointment(w)&&c.allDayEvents.push(i.i(n.extend)({},w,null,!0))}l+=1}}(h)}},t.prototype.getStartCount=function(){return this.parent.virtualScrollModule&&this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.timeScale.enable?parseInt(this.element.querySelector("."+o.C).getAttribute("id").split("-").slice(-1)[0],10):0},t.prototype.getDayIndex=function(e,t,i){var n=this;if(!this.parent.activeViewOptions.group.byDate)return i;if(this.parent.activeViewOptions.group.byDate&&!this.parent.activeViewOptions.group.hideNonWorkingDays){var r=this.parent.resourceBase.lastResourceLevel[0].renderDates.indexOf(this.dateRender[parseInt(t.toString(),10)][parseInt(e.toString(),10)]);return this.resources.length*r+t}for(var a=0,s=this.parent.activeView.colLevels[0],o=this.dateRender[parseInt(t.toString(),10)][parseInt(e.toString(),10)].getTime(),l=[],c=0;c<s.length&&(l=this.parent.resourceBase.resourceDateTree[parseInt(c.toString(),10)],o!==s[parseInt(c.toString(),10)].date.getTime());c++)a+=s[parseInt(c.toString(),10)].colSpan;var p=l.findIndex(function(e){return e.groupOrder.toString()===n.resources[parseInt(t.toString(),10)].groupOrder.toString()});return p<0?a:a+p},t.prototype.setValues=function(e,t){this.parent.activeViewOptions.group.resources.length>0?(this.cssClass=this.resources[parseInt(t.toString(),10)].cssClass,this.groupOrder=this.resources[parseInt(t.toString(),10)].groupOrder):this.cssClass=this.parent.resourceBase.getCssClass(e)},t.prototype.getResourceList=function(){return Array.apply(null,{length:this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive?this.resources.length:1}).map(function(e,t){return t})},t.prototype.createAppointmentElement=function(e,t,r,a){var s=this.parent.eventFields,l=e[s.subject]||this.parent.eventSettings.fields.subject.default||this.parent.localeObj.getConstant("addTitle"),c=i.i(n.createElement)("div",{className:o.D,attrs:{"data-id":"Appointment_"+e[s.id],"data-guid":e.Guid,role:"button",tabindex:"0","aria-disabled":this.parent.eventBase.getReadonlyAttribute(e),"aria-label":this.parent.getAnnouncementString(e)}});e[this.fields.isReadonly]&&i.i(n.addClass)([c],"e-read-only");var p=i.i(n.createElement)("div",{className:o.G});if(c.appendChild(p),this.parent.activeViewOptions.group.resources.length>0){var d=this.parent.uiStateValues.isGroupAdaptive?this.parent.uiStateValues.groupIndex:a;c.setAttribute("data-group-index",d.toString())}var h,u=r;if(i.i(n.isNullOrUndefined)(this.parent.activeViewOptions.eventTemplate)){var g=i.i(n.createElement)("div",{className:o.H});if(this.parent.sanitize(l,g),t)if(e[s.isAllDay])h=[g];else{h=[];var v=i.i(n.createElement)("div",{className:o.I+(this.parent.isAdaptive?" "+o.J:""),innerHTML:this.parent.getTimeString(e[s.startTime])}),f=i.i(n.createElement)("div",{className:o.I+(this.parent.isAdaptive?" "+o.J:""),innerHTML:this.parent.getTimeString(e[s.endTime])});i.i(n.addClass)([g],"e-text-center"),u.isLeft||h.push(v),h.push(g),u.isRight||h.push(f)}else{var m=this.parent.getTimeString(e[s.startTime])+" - "+this.parent.getTimeString(e[s.endTime]),y=i.i(n.createElement)("div",{className:o.I+(this.parent.isAdaptive?" "+o.J:""),innerHTML:m}),T=i.i(n.createElement)("div",{className:o.K});this.parent.sanitize(e[s.location]||this.parent.eventSettings.fields.location.default||"",T),h=[g,y,T]}}else{var D=this.parent.element.id+"_",w=this.parent.activeViewOptions.eventTemplateName,b=D+w+"eventTemplate",C=this.parent.uiStateValues.isGroupAdaptive?this.parent.uiStateValues.groupIndex:a,S="eventTemplate"+(this.isResourceEventTemplate?"_"+C:"");h=this.parent.getAppointmentTemplate()(e,this.parent,S,b,!1)}if(i.i(n.append)(h,p),!(this.parent.isAdaptive||i.i(n.isNullOrUndefined)(e[s.recurrenceRule])&&i.i(n.isNullOrUndefined)(e[s.recurrenceID]))){var O=e[s.id]===e[s.recurrenceID]?o.L:o.M,E=i.i(n.createElement)("div",{className:o.N+" "+O});t?p.appendChild(E):c.appendChild(E)}return this.parent.eventBase.renderSpannedIcon(t?p:c,u),i.i(n.isNullOrUndefined)(this.cssClass)||i.i(n.addClass)([c],this.cssClass),this.applyResourceColor(c,e,"backgroundColor",this.groupOrder),this.renderResizeHandler(c,u,e[this.fields.isReadonly]),c},t.prototype.createMoreIndicator=function(e,t,r){var a=r+t,s=e[parseInt(a.toString(),10)];if(s.childElementCount<=0){var l=i.i(n.createElement)("div",{className:o._29,id:o._29+"-"+a.toString()}),c=i.i(n.createElement)("div",{className:o.z,attrs:{tabindex:"0","data-index":a.toString(),"data-count":"1"},innerHTML:"+1&nbsp;"+(this.parent.isAdaptive?"":this.parent.localeObj.getConstant("more"))});l.appendChild(c),s.appendChild(l),n.EventHandler.add(c,"click",this.rowExpandCollapse,this)}else{var p=s.querySelector("."+o.z),d=parseInt(p.getAttribute("data-count"),10)+1;p.setAttribute("data-count",d.toString()),p.innerHTML="+"+this.parent.globalize.formatNumber(d)+"&nbsp;"+(this.parent.isAdaptive?"":this.parent.localeObj.getConstant("more"))}},t.prototype.isSpannedEvent=function(e,t,r){var s=a.b(this.dateRender[parseInt(r.toString(),10)][parseInt(t.toString(),10)]),o=this.getRenderedDates(this.dateRender[parseInt(r.toString(),10)])||[s];0===o.filter(function(e){return e.getDay()===t}).length&&(s=a.b(o[0]));var l=this.parent.eventFields,c=a.w(s,this.startHour,this.endHour),p=i.i(n.extend)({},e,null,!0);p.isSpanned={isBottom:!1,isTop:!1},e[l.startTime].getTime()<c.startHour.getTime()&&(p[l.startTime]=c.startHour,p.isSpanned.isTop=!0),e[l.endTime].getTime()>c.endHour.getTime()&&(p[l.endTime]=c.endHour,p.isSpanned.isBottom=!0);var d=this.updateEventMinimumDuration(c,p[l.startTime],p[l.endTime]);return p[l.startTime]=d.startDate,p[l.endTime]=d.endDate,p},t.prototype.isWorkDayAvailable=function(e,t){if(this.parent.activeViewOptions.group.hideNonWorkingDays&&this.resources.length>0){var i=this.resources[parseInt(e.toString(),10)].resourceData[this.resources[parseInt(e.toString(),10)].resource.workDaysField]||this.parent.activeViewOptions.workDays;return i&&i.indexOf(t.getDay())>=0}return!0},t.prototype.renderAllDayEvents=function(e,t,r,l,c){var p=this,d=this.getRenderedDates(this.dateRender[parseInt(r.toString(),10)])||this.dateRender[parseInt(r.toString(),10)];this.parent.activeViewOptions.group.byDate&&(this.slots[0]=[this.dateRender[parseInt(r.toString(),10)][parseInt(t.toString(),10)].getTime()],d=[this.dateRender[parseInt(r.toString(),10)][parseInt(t.toString(),10)]]);var h=this.splitEvent(e,d)[0],u=this.element.querySelector("."+o._4+":first-child"),g=u.offsetTop,v=new Date(h[this.parent.eventFields.startTime].getTime()),f=new Date(h[this.parent.eventFields.endTime].getTime()),m=0,y=1,T=d[0].getTime()<=v.getTime()&&a.d(d.slice(-1)[0],1).getTime()>=v.getTime();if(v<=f&&T&&this.isWorkDayAvailable(r,v)){var D=[];if(this.renderedAllDayEvents[parseInt(r.toString(),10)]&&(D=this.renderedAllDayEvents[parseInt(r.toString(),10)].filter(function(t){return t.Guid===e.Guid}),this.parent.activeViewOptions.group.byDate&&(D=D.filter(function(e){return e[p.parent.eventFields.startTime]>=d[parseInt(t.toString(),10)]&&e[p.parent.eventFields.endTime]<=a.d(new Date(+d[parseInt(t.toString(),10)]),1)}))),0===D.length){var w=h.data.count,b=this.getOverlapIndex(h,t,!0,r);h.Index=b,this.allDayLevel=this.allDayLevel<b?b:this.allDayLevel;var C=h.data.isRight?0:"Day"===this.parent.currentView?4:7;w>=0&&(m=100*w-C),i.i(n.isNullOrUndefined)(this.renderedAllDayEvents[parseInt(r.toString(),10)])&&(this.renderedAllDayEvents[parseInt(r.toString(),10)]=[]),this.renderedAllDayEvents[parseInt(r.toString(),10)].push(i.i(n.extend)({},h,null,!0));var S,O=[].slice.call(this.element.querySelector("."+o._27).children),E=this.getDayIndex(t,r,l),x=this.element.querySelector("."+o._6+":nth-child("+(E+1)+")");S=c?this.parent.inlineModule.createInlineAppointmentElement(e):this.createAppointmentElement(e,!0,h.data,r),i.i(n.addClass)([S],o._30);var V=i.i(n.extend)({},h.data,null,!0);e.data=V;var A={data:e,element:S,cancel:!1};this.parent.trigger(s.l,A,function(t){if(!t.cancel){x.appendChild(S);var r=S.offsetHeight;if(y+=(0===b?g:g+b*r)+1,i.i(n.setStyleAttribute)(S,{width:m+"%",top:i.i(n.formatUnit)(y)}),b>1){p.moreEvents.push(S);for(var a=0,s=w;a<s;a++)p.createMoreIndicator(O,a,E)}u.setAttribute("data-count",p.allDayLevel.toString());var o=4+(!p.parent.uiStateValues.expand&&p.allDayLevel>2?3*r:(p.allDayLevel+1)*r);p.setAllDayRowHeight(o),p.addOrRemoveClass(),p.wireAppointmentEvents(S,e)}})}}},t.prototype.renderNormalEvents=function(e,t,r,s,l){var c=this.isSpannedEvent(e,t,r),p=c[this.fields.startTime],d=c[this.fields.endTime],h="0%",u=0,g=a.b(new Date(this.dateRender[parseInt(r.toString(),10)][parseInt(t.toString(),10)].getTime())),v=a.w(g,this.startHour,this.endHour),f=this.isValidEvent(e,p,d,v);if(!(p.getTime()<this.parent.minDate.getTime()||d.getTime()>this.parent.maxDate.getTime())&&p<=d&&f&&this.isWorkDayAvailable(r,p)){var m=this.getHeight(p,d);p.getTime()>v.startHour.getTime()&&(u=this.getTopValue(p,t,r));var y=this.getOverlapIndex(c,t,!1,r);c.Index=y,this.overlapList.push(c),this.overlapList.length>1?(i.i(n.isNullOrUndefined)(this.overlapEvents[parseInt(y.toString(),10)])&&(this.overlapEvents[parseInt(y.toString(),10)]=[]),this.overlapEvents[parseInt(y.toString(),10)].push(c)):(this.overlapEvents=[],this.overlapEvents.push([c])),h=this.getEventWidth();var T={index:y,left:"0%",width:h,day:s,dayIndex:t,record:c,resource:r},D=this.adjustOverlapElements(T);h=D.appWidth,i.i(n.isNullOrUndefined)(this.renderedEvents[parseInt(r.toString(),10)])&&(this.renderedEvents[parseInt(r.toString(),10)]=[]),this.renderedEvents[parseInt(r.toString(),10)].push(i.i(n.extend)({},c,null,!0));var w=void 0;w=l?this.parent.inlineModule.createInlineAppointmentElement(e):this.createAppointmentElement(e,!1,c.isSpanned,r),i.i(n.setStyleAttribute)(w,{width:this.parent.eventSettings.enableMaxHeight?"100%":D.appWidth,height:m+"px",top:u+"px"});var b=15*w.querySelectorAll("."+o.O).length,C=m-40-b,S=w.querySelector("."+o.H);!this.parent.isAdaptive&&S&&(S.style.maxHeight=i.i(n.formatUnit)(C));var O=this.getDayIndex(t,r,s),E={};E[this.fields.startTime]=e[this.fields.startTime],E[this.fields.endTime]=e[this.fields.endTime],c.data=E,this.appendEvent(c,w,O,D.appLeft),this.wireAppointmentEvents(w,e)}},t.prototype.getEventWidth=function(){var e="Day"===this.parent.currentView?97:94,t=(e-this.overlapEvents.length)/this.overlapEvents.length;return(t<0?0:t)+"%"},t.prototype.getEventLeft=function(e,t){var i=(parseFloat(e)+1)*t;return(i>99?99:i)+"%"},t.prototype.getTopValue=function(e,t,i){var n=a.w(a.b(this.dateRender[parseInt(i.toString(),10)][parseInt(t.toString(),10)]),this.startHour,this.endHour),r=n.startHour,s=60*(e.getHours()-r.getHours())+(e.getMinutes()-r.getMinutes());return this.parent.activeViewOptions.timeScale.enable?s*this.cellHeight*this.slotCount/this.interval:0},t.prototype.getOverlapIndex=function(e,t,r,s){var o=this,l=this.parent.eventFields,c=[],p=-1;if(this.overlapEvents=[],r){if(!i.i(n.isNullOrUndefined)(this.renderedAllDayEvents[parseInt(s.toString(),10)])){var d=a.b(new Date(this.dateRender[parseInt(s.toString(),10)][parseInt(t.toString(),10)].getTime()));c=this.renderedAllDayEvents[parseInt(s.toString(),10)].filter(function(e){return a.b(e[l.startTime]).getTime()<=d.getTime()&&a.b(e[l.endTime]).getTime()>=d.getTime()}),this.parent.activeViewOptions.group.resources.length>0&&(c=this.filterEventsByResource(this.resources[parseInt(s.toString(),10)],c))}}else{var h=i.i(n.isNullOrUndefined)(this.renderedEvents[parseInt(s.toString(),10)])?[]:this.renderedEvents[parseInt(s.toString(),10)],u=[],g=e[l.startTime],v=e[l.endTime];this.overlapList=h.filter(function(e){return e[l.endTime]>g&&e[l.startTime]<=v||e[l.startTime]>=v&&e[l.endTime]<=g||e[l.endTime].getTime()===e[l.startTime].getTime()&&e[l.startTime].getTime()===g.getTime()&&e[l.endTime]<v}),this.parent.activeViewOptions.group.resources.length>0&&(this.overlapList=this.filterEventsByResource(this.resources[parseInt(s.toString(),10)],this.overlapList)),this.overlapList.forEach(function(e){var t=h.filter(function(t){return t[l.endTime]>e[l.startTime]&&t[l.startTime]<=e[l.endTime]});o.parent.activeViewOptions.group.resources.length>0&&(t=o.filterEventsByResource(o.resources[parseInt(s.toString(),10)],t));var i=t.filter(function(e){return-1===o.overlapList.indexOf(e)});i.length>0&&(u=u.concat(i))});for(var f=0;f<u.length-1;f++)for(var m=f+1;m<u.length;m++)u[parseInt(f.toString(),10)][l.id]===u[parseInt(m.toString(),10)][l.id]&&(u.splice(m,1),m--);this.overlapList=this.overlapList.concat(u),c=this.overlapList;for(var y=0,T=c;y<T.length;y++){var D=T[y],w=D,b=w.Index;i.i(n.isNullOrUndefined)(this.overlapEvents[parseInt(b.toString(),10)])?this.overlapEvents[parseInt(b.toString(),10)]=[D]:this.overlapEvents[parseInt(b.toString(),10)].push(D)}}if(r||(c=c.filter(function(t){return t[l.startTime]===e[l.startTime]&&t[l.endTime]>e[l.endTime]||t[l.endTime]>e[l.startTime]&&t[l.startTime]<e[l.endTime]||t[l.endTime]===e[l.startTime]&&t[l.startTime]===e[l.endTime]||t[l.startTime].getTime()===e[l.startTime].getTime()&&t[l.endTime].getTime()===e[l.endTime].getTime()||t[l.startTime].getTime()===e[l.startTime].getTime()&&t[l.endTime].getTime()<e[l.endTime].getTime()||t[l.endTime].getTime()>e[l.endTime].getTime()})),c.length>0){var C=c.map(function(e){return e.Index});p=C.length>0?this.getSmallestMissingNumber(C):0}return-1===p?0:p},t.prototype.adjustOverlapElements=function(e){for(var t={appWidth:e.width,appLeft:e.left},r=0,a=this.overlapEvents.length;r<a;r++)if(!i.i(n.isNullOrUndefined)(this.overlapEvents[parseInt(r.toString(),10)]))for(var s=0,o=this.overlapEvents[parseInt(r.toString(),10)].length;s<o;s++){var l=this.getDayIndex(e.dayIndex,e.resource,e.day),c=this.element.querySelector("#e-appointment-wrapper-"+l);if(c&&c.childElementCount>0){var p=this.overlapEvents[parseInt(r.toString(),10)][parseInt(s.toString(),10)].Guid;if(c.querySelectorAll('div[data-guid="'+p+'"]').length>0&&p!==e.record.Guid){var d=c.querySelector('div[data-guid="'+p+'"]');parseFloat(e.width)<=parseFloat(d.style.width)?(this.parent.enableRtl?d.style.right=this.getEventLeft(e.width,r):d.style.left=this.getEventLeft(e.width,r),d.style.width=parseFloat(e.width)+"%",t.appWidth=d.style.width):t.appWidth=d.style.width}else{var h=e.width;i.i(n.isNullOrUndefined)(this.overlapEvents[r-1])&&(h=this.getEventWidth()),t.appWidth=h,t.appLeft=this.getEventLeft(h,e.index)}}}return t},t.prototype.setAllDayRowHeight=function(e){var t=this.parent.element.querySelector("."+o.d);"auto"!==this.parent.height&&this.parent.enableAllDayScroll||i.i(n.addClass)([t],o._32);var r=this.parent.element.querySelector("."+o._27);if(r.style.height="",this.parent.uiStateValues.expand&&"auto"!==this.parent.height&&this.parent.enableAllDayScroll)r.style.height=e/12+"em",this.parent.eventBase.allDayExpandScroll(t);else{t.scrollTop=0;for(var a=0,s=this.allDayElement;a<s.length;a++){s[a].style.height=e/12+"em"}i.i(n.removeClass)([t],o._5)}this.animation.animate(this.allDayElement[0])},t.prototype.addOrRemoveClass=function(){var e=this;this.moreEvents.filter(function(t){!e.parent.uiStateValues.expand&&e.allDayLevel>2?(i.i(n.addClass)([t],o._33),t.setAttribute("tabindex","-1")):(i.i(n.removeClass)([t],o._33),t.setAttribute("tabindex","0"))});var t=this.element.querySelector("."+o._25);this.parent.uiStateValues.expand?(i.i(n.removeClass)([t],o._26),i.i(n.addClass)([t],o._34)):(i.i(n.removeClass)([t],o._34),i.i(n.addClass)([t],o._26)),this.allDayLevel>2?i.i(n.removeClass)([t],o.J):i.i(n.addClass)([t],o.J),[].slice.call(this.element.querySelectorAll("."+o._29)).forEach(function(t){!e.parent.uiStateValues.expand&&e.allDayLevel>2?i.i(n.removeClass)([t],o.J):i.i(n.addClass)([t],o.J)})},t.prototype.getEventHeight=function(){var e=i.i(n.createElement)("div",{className:o.D,styles:"visibility:hidden"});this.element.querySelector("."+o._6+":first-child").appendChild(e);var t=e.offsetHeight;return i.i(n.remove)(e),t},t.prototype.rowExpandCollapse=function(){var e=this.element.querySelector("."+o._25);this.parent.uiStateValues.expand=e.classList.contains(o._26);var t;this.parent.uiStateValues.expand?(e.setAttribute("title",this.parent.localeObj.getConstant("collapseAllDaySection")),e.setAttribute("aria-label","Collapse section"),t=(this.allDayLevel+1)*this.getEventHeight()+4):(e.setAttribute("title",this.parent.localeObj.getConstant("expandAllDaySection")),e.setAttribute("aria-label","Expand section"),t=3*this.getEventHeight()+4),this.setAllDayRowHeight(t),this.addOrRemoveClass(),this.animation.animate(e)},t.prototype.animationUiUpdate=function(){this.parent.notify(s.D,{})},t.prototype.destroy=function(){!this.parent||this.parent&&this.parent.isDestroyed||(this.removeEventListener(),this.allDayElement=null,this.renderedAllDayEvents=null,this.renderedEvents=null,this.slotCount=null,this.interval=null,this.startHour=null,this.endHour=null,this.element=null,this.fields=null,this.animation=null,e.prototype.destroy.call(this))},t}(r.a)},function(e,t,i){"use strict";i.d(t,"a",function(){return p});var n=i(0),r=(i.n(n),i(8)),a=i(25),s=i(1),o=i(2),l=i(3),c=this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),p=function(e){function t(t){var i=e.call(this,t)||this;return i.viewClass="e-year-view",i.isInverseTableSelect=!1,i.yearEventModule=null,i}return c(t,e),t.prototype.getModuleName=function(){return"year"},t.prototype.renderLayout=function(e){this.parent.resourceBase&&this.parent.resourceBase.generateResourceLevels([{renderDates:this.parent.activeView.renderDates}]),this.setPanel(i.i(n.createElement)("div",{className:l._19}));var t="Horizontal"===this.parent.activeViewOptions.orientation?"e-horizontal":"e-vertical";i.i(n.addClass)([this.element],[this.viewClass,t,e]),this.renderPanel(e),this.parent.activeViewOptions.allowVirtualScrolling&&i.i(n.addClass)([this.element],[l._21]);var r=this.createTableLayout(l._23);this.element.appendChild(r),this.element.querySelector("table").setAttribute("role","presentation");var a=r.querySelector("tbody");this.rowCount=this.getRowColumnCount("row"),this.columnCount=this.getRowColumnCount("column"),this.renderHeader(a),this.renderContent(a),"Year"!==this.parent.currentView&&this.parent.uiStateValues.isGroupAdaptive&&(this.generateColumnLevels(),this.renderResourceMobileLayout()),n.EventHandler.add(this.element.querySelector("."+l.g),"scroll",this.onContentScroll,this),this.parent.notify(o.D,{})},t.prototype.renderHeader=function(e){},t.prototype.renderContent=function(e){var t=i.i(n.createElement)("tr");e.appendChild(t);var r=i.i(n.createElement)("td");t.appendChild(r),this.element.querySelector("tbody").appendChild(t);var a=i.i(n.createElement)("div",{className:l.g});r.appendChild(a);var s=this.createTableLayout("e-calendar-table");a.appendChild(s);var o=i.i(n.createElement)("tr");s.querySelector("tbody").appendChild(o);var c=i.i(n.createElement)("td");o.appendChild(c);var p=i.i(n.createElement)("div",{className:"e-calendar-wrapper"});c.appendChild(p);for(var d=this.getMonths(),h=0,u=d;h<u.length;h++){var g=u[h],v=new Date(this.parent.selectedDate.getFullYear(),g,1),f=i.i(n.createElement)("div",{className:"e-month-calendar e-calendar",attrs:{"data-role":"calendar"}});f.appendChild(this.renderCalendarHeader(v)),f.appendChild(this.renderCalendarContent(v)),p.appendChild(f)}this.renderDates.splice(0,1)},t.prototype.renderCalendarHeader=function(e){var t=i.i(n.createElement)("div",{className:"e-header e-month"}),r=i.i(n.createElement)("div",{className:"e-day e-title"});if(this.parent.activeViewOptions.monthHeaderTemplate){var a={date:e,type:"monthHeader"};this.renderTemplates(this.parent.getMonthHeaderTemplate(),a,"monthHeaderTemplate",this.parent.activeViewOptions.monthHeaderTemplateName,r)}else r.innerHTML=this.getMonthName(e);return t.appendChild(r),this.parent.trigger(o.j,{elementType:"headerCells",element:r,date:e}),t},t.prototype.renderCalendarContent=function(e){var t=this.getMonthDates(e),r=i.i(n.createElement)("div",{className:"e-content e-month"}),a=this.createTableLayout("e-calendar-table "+l.h);r.appendChild(a),this.setAriaAttributes(a);var c=i.i(n.createElement)("thead",{className:"e-week-header"}),p=i.i(n.createElement)("tr"),d=s.l(s.n(e),this.parent.firstDayOfWeek);this.parent.activeViewOptions.showWeekNumber&&p.appendChild(i.i(n.createElement)("th"));for(var h=0;h<s.e;h++){if(this.parent.activeViewOptions.dayHeaderTemplate){var u=i.i(n.createElement)("th"),g={date:d,type:"dayHeader"};this.renderTemplates(this.parent.getDayHeaderTemplate(),g,"dayHeaderTemplate",this.parent.activeViewOptions.dayHeaderTemplateName,u),p.appendChild(u)}else p.appendChild(i.i(n.createElement)("th",{innerHTML:this.parent.getDayNames("narrow")[d.getDay()]}));d=new Date(d.getTime()+s.c)}c.appendChild(p),i.i(n.prepend)([c],a);for(var v=a.querySelector("tbody");t.length>0;){var f=t.splice(0,s.e),m=i.i(n.createElement)("tr");if(this.parent.activeViewOptions.showWeekNumber){var y=this.parent.getWeekNumberContent(f),T=i.i(n.createElement)("td",{className:"e-week-number",attrs:{title:this.parent.localeObj.getConstant("week")+" "+y},innerHTML:y});m.appendChild(T),this.parent.trigger(o.j,{elementType:"weekNumberCells",element:T})}for(var D=0,w=f;D<w.length;D++){var b=w[D],T=i.i(n.createElement)("td",{className:"e-cell "+l.n,attrs:{"data-date":b.getTime().toString()}});if(this.parent.activeViewOptions.cellHeaderTemplate){var g={date:b,type:"monthCells"};this.renderTemplates(this.parent.getCellHeaderTemplate(),g,"cellHeaderTemplate",this.parent.activeViewOptions.cellHeaderTemplateName,T)}else{var C=i.i(n.createElement)("span",{className:"e-day",innerHTML:this.parent.globalize.formatDate(b,{skeleton:"d",calendar:this.parent.getCalendarMode()}),attrs:{title:this.parent.globalize.formatDate(b,{type:"date",skeleton:"full"})}});T.appendChild(C)}if(this.parent.activeViewOptions.cellTemplate){var g={date:b,type:"monthCells"};this.renderTemplates(this.parent.getCellTemplate(),g,"cellTemplate",this.parent.activeViewOptions.cellTemplateName,T)}var S=[];e.getMonth()!==b.getMonth()&&S.push(l.t),this.isCurrentDate(b)&&e.getMonth()===b.getMonth()&&(S=S.concat(["e-today","e-selected"])),S.length>0&&i.i(n.addClass)([T],S),m.appendChild(T),e.getMonth()===b.getMonth()&&this.renderDates.push(new Date(b)),this.parent.isMinMaxDate(b)?(n.EventHandler.add(T,"click",this.onCellClick,this),this.parent.isAdaptive||n.EventHandler.add(T,"dblclick",this.parent.workCellAction.cellDblClick,this.parent.workCellAction)):i.i(n.addClass)([T],l.r),this.parent.trigger(o.j,{elementType:"workCells",element:T,date:b})}v.appendChild(m)}return r},t.prototype.createTableColGroup=function(e){for(var t=i.i(n.createElement)("colgroup"),r=0;r<e;r++)t.appendChild(i.i(n.createElement)("col"));return t},t.prototype.getMonthName=function(e){var t=this.parent.globalize.formatDate(e,{format:this.parent.activeViewOptions.dateFormat||"MMMM y",calendar:this.parent.getCalendarMode()});return s.a(t,"multiple")},t.prototype.generateColumnLevels=function(){var e=[],t=this.getDateSlots([this.parent.selectedDate],this.parent.activeViewOptions.workDays);if(this.parent.activeViewOptions.group.resources.length>0){if(e=this.parent.resourceBase.generateResourceLevels(t),this.parent.uiStateValues.isGroupAdaptive){var i=this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex];e=[this.getDateSlots([this.parent.selectedDate],i.workDays)]}}else e.push(t);return e.pop(),this.colLevels=e,e},t.prototype.getDateSlots=function(e,t,i,n){return void 0===i&&(i=this.parent.workHours.start),void 0===n&&(n=this.parent.workHours.end),[{date:e[0],type:"dateHeader",className:[l.e],colSpan:1,workDays:t,startHour:new Date(+this.parent.globalize.parseDate(i,{skeleton:"Hm"})),endHour:new Date(+this.parent.globalize.parseDate(n,{skeleton:"Hm"}))}]},t.prototype.getMonthDates=function(e){for(var t=s.l(s.n(e),this.parent.firstDayOfWeek),i=s.d(new Date(+t),6*s.e),n=[],r=t;r.getTime()<i.getTime();r=s.d(r,1))n.push(s.b(new Date(r)));return n},t.prototype.getRowColumnCount=function(e){for(var t=this.getMonths(),i=this.parent.selectedDate.getFullYear(),n=[],r=0,a=t;r<a.length;r++){var s=a[r];n.push(new Date(i,s,1).getDay()+new Date(i,s+1,0).getDate())}var o=Math.max.apply(Math,n);return"row"===e?"Horizontal"===this.parent.activeViewOptions.orientation?t.length:o:"Horizontal"===this.parent.activeViewOptions.orientation?o:t.length},t.prototype.isCurrentDate=function(e){return s.b(new Date).getTime()===s.b(new Date(e.getTime())).getTime()},t.prototype.getMonths=function(){var e=this;return Array.apply(null,{length:this.parent.activeViewOptions.monthsCount}).map(function(t,i){return e.parent.firstMonthOfYear+i})},t.prototype.renderTemplates=function(e,t,r,a,s){var o=this.parent.element.id+"_"+a+r,l=[].slice.call(e(t,this.parent,r,o,!1));i.i(n.append)(l,s)},t.prototype.onCellClick=function(e){var t=i.i(n.closest)(e.target,"."+l.n),r=this.parent.getDateFromElement(t);this.parent.activeCellsData=this.parent.getCellDetails(t);var a=r.getTime()<this.getStartDate().getTime();if(a||r.getTime()>this.getEndDate().getTime()){this.parent.changeDate(this.parent.activeView.getNextPreviousDate(a?"previous":"next"),e);var c=this.parent.activeCellsData.startTime.getTime(),p=c>=this.getStartDate().getTime()&&c<=this.getEndDate().getTime(),d=p?c:(a?this.getEndDate():this.getStartDate()).getTime(),h=this.parent.element.querySelector(":not(."+l.t+')[data-date="'+d+'"]');this.parent.selectCell(h),this.parent.activeCellsData=this.parent.getCellDetails(h)}else{var u=s.d(new Date(r.getTime()),1),g=this.parent.eventBase.filterEvents(r,u),v={date:r,event:g,element:e.target};t.classList.contains(l.t)&&(t=this.parent.element.querySelector(":not(."+l.t+')[data-date="'+t.getAttribute("data-date")+'"]')),this.parent.activeCellsData=this.parent.getCellDetails(t);var f=i.i(n.extend)(this.parent.activeCellsData,{cancel:!1,event:e,name:"cellClick"});this.parent.trigger(o.a,f),this.parent.quickPopup.moreEventClick(v,u)}},t.prototype.onContentScroll=function(e){var t=e.target,i=this.getDatesHeaderElement();this.parent.notify(o.F,e),i&&(i.firstElementChild.scrollLeft=t.scrollLeft);var n="."+l.f+",."+l.x,r=this.element.querySelector(n);r&&(r.scrollTop=t.scrollTop),this.parent.isAdaptive||(this.parent.uiStateValues.top=e.target.scrollTop),this.parent.uiStateValues.left=e.target.scrollLeft,this.setPersistence()},t.prototype.onScrollUiUpdate=function(e){var t=this.parent.element.offsetHeight-this.getHeaderBarHeight(),r=this.element.querySelector("."+l.c);r&&(t-=r.offsetHeight);var a=this.element.querySelector("."+l.g);if(a&&(a.style.height=i.i(n.formatUnit)(t)),!this.parent.isAdaptive&&r){var o=s.A();a.offsetWidth-a.clientWidth>0?(r.firstElementChild.style[e.cssProperties.border]=o>0?"1px":"0px",r.style[e.cssProperties.padding]=o>0?o-1+"px":"0px"):(r.firstElementChild.style[e.cssProperties.border]="",r.style[e.cssProperties.padding]="")}this.setColWidth(this.getContentAreaElement());var c="."+l.f+",."+l.x,p=this.element.querySelector(c);if(p){var d=a.scrollWidth>a.clientWidth;p.style.height=i.i(n.formatUnit)(t-(d?17:0))}e.isPreventScrollUpdate||(this.parent.uiStateValues.isInitial?(this.parent.uiStateValues.isInitial=!1,this.parent.uiStateValues.top=this.parent.uiStateValues.left=0):(p&&(p.scrollTop=this.parent.uiStateValues.top),a.scrollTop=this.parent.uiStateValues.top,a.scrollLeft=this.parent.uiStateValues.left)),this.retainScrollPosition()},t.prototype.getStartDate=function(){return new Date(this.parent.selectedDate.getFullYear(),this.parent.firstMonthOfYear%12,1)},t.prototype.getEndDate=function(){return s.d(s.u(this.getStartDate(),this.parent.monthsCount),-1)},t.prototype.startDate=function(){return"Year"===this.parent.currentView?s.l(this.getStartDate(),this.parent.firstDayOfWeek):this.getStartDate()},t.prototype.endDate=function(){return"Year"===this.parent.currentView?s.d(s.m(this.getEndDate(),this.parent.firstDayOfWeek),1):s.d(this.getEndDate(),1)},t.prototype.getEndDateFromStartDate=function(e){var t=new Date(e.getTime());return this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive&&(t=s.o(t)),s.d(new Date(t.getTime()),1)},t.prototype.getNextPreviousDate=function(e){return s.v(this.parent.selectedDate,"next"===e?1:-1)},t.prototype.getDateRangeText=function(){var e=this.getStartDate(),t=this.getEndDate();return e.getFullYear()!==t.getFullYear()?this.parent.globalize.formatDate(e,{skeleton:"yMMM"})+" - "+this.parent.globalize.formatDate(t,{skeleton:"yMMM"}):this.parent.globalize.formatDate(this.parent.selectedDate,{skeleton:"y"})},t.prototype.addEventListener=function(){this.parent.on(o.G,this.onScrollUiUpdate,this),this.parent.on(o.B,this.onDataReady,this)},t.prototype.removeEventListener=function(){this.parent&&(this.parent.off(o.G,this.onScrollUiUpdate),this.parent.off(o.B,this.onDataReady))},t.prototype.onDataReady=function(e){this.yearEventModule=new a.a(this.parent),this.yearEventModule.renderAppointments(),this.parent.notify(o.C,e)},t.prototype.scrollToDate=function(e){var t=+new Date(s.b(e)),r=this.element.querySelector("."+l.n+":not(."+l.t+')[data-date="'+t+'"]');r&&(r=i.i(n.closest)(r,".e-month-calendar"),this.getContentAreaElement().scrollTop=r.offsetTop)},t.prototype.destroy=function(){if(!(!this.parent||this.parent&&this.parent.isDestroyed)&&this.element){var t=this.element.querySelector("."+l.g);t&&n.EventHandler.remove(t,"scroll",this.onContentScroll),this.yearEventModule&&(this.yearEventModule.destroy(),this.yearEventModule=null),this.parent.resourceBase&&this.parent.resourceBase.destroy(),e.prototype.destroy.call(this)}},t}(r.a)},function(e,t,i){"use strict";i.d(t,"a",function(){return n}),i.d(t,"b",function(){return r});var n=function(){function e(){this.timezoneData=[],this.timezoneData=this.getTimezoneData()}return e.prototype.offset=function(e,t){var i=e.getTimezoneOffset();try{var n=new Date(e.toLocaleString("en-US",{timeZone:t}));return isNaN(n.getTime())?0:(e.getTime()-n.getTime())/6e4+i}catch(e){return 0}},e.prototype.convert=function(e,t,i){"string"==typeof t&&(t=this.offset(e,t)),"string"==typeof i&&(i=this.offset(e,i));var n=e.getTimezoneOffset();e=new Date(e.getTime()+6e4*(t-i));var r=e.getTimezoneOffset();return new Date(e.getTime()+6e4*(r-n))},e.prototype.add=function(e,t){return this.convert(e,e.getTimezoneOffset(),t)},e.prototype.remove=function(e,t){return this.convert(e,t,e.getTimezoneOffset())},e.prototype.removeLocalOffset=function(e){return new Date(e.getTime()-6e4*e.getTimezoneOffset())},e.prototype.getLocalTimezoneName=function(){return window.Intl?Intl.DateTimeFormat().resolvedOptions().timeZone||"UTC":"UTC"},e.prototype.getTimezoneData=function(){return r},e}(),r=[{Value:"Pacific/Niue",Text:"(UTC-11:00) Niue"},{Value:"Pacific/Pago_Pago",Text:"(UTC-11:00) Pago Pago"},{Value:"Pacific/Honolulu",Text:"(UTC-10:00) Hawaii Time"},{Value:"Pacific/Rarotonga",Text:"(UTC-10:00) Rarotonga"},{Value:"Pacific/Tahiti",Text:"(UTC-10:00) Tahiti"},{Value:"Pacific/Marquesas",Text:"(UTC-09:30) Marquesas"},{Value:"America/Anchorage",Text:"(UTC-09:00) Alaska Time"},{Value:"Pacific/Gambier",Text:"(UTC-09:00) Gambier"},{Value:"America/Los_Angeles",Text:"(UTC-08:00) Pacific Time"},{Value:"America/Tijuana",Text:"(UTC-08:00) Pacific Time - Tijuana"},{Value:"America/Vancouver",Text:"(UTC-08:00) Pacific Time - Vancouver"},{Value:"America/Whitehorse",Text:"(UTC-08:00) Pacific Time - Whitehorse"},{Value:"Pacific/Pitcairn",Text:"(UTC-08:00) Pitcairn"},{Value:"America/Denver",Text:"(UTC-07:00) Mountain Time"},{Value:"America/Phoenix",Text:"(UTC-07:00) Mountain Time - Arizona"},{Value:"America/Mazatlan",Text:"(UTC-07:00) Mountain Time - Chihuahua, Mazatlan"},{Value:"America/Dawson_Creek",Text:"(UTC-07:00) Mountain Time - Dawson Creek"},{Value:"America/Edmonton",Text:"(UTC-07:00) Mountain Time - Edmonton"},{Value:"America/Hermosillo",Text:"(UTC-07:00) Mountain Time - Hermosillo"},{Value:"America/Yellowknife",Text:"(UTC-07:00) Mountain Time - Yellowknife"},{Value:"America/Belize",Text:"(UTC-06:00) Belize"},{Value:"America/Chicago",Text:"(UTC-06:00) Central Time"},{Value:"America/Mexico_City",Text:"(UTC-06:00) Central Time - Mexico City"},{Value:"America/Regina",Text:"(UTC-06:00) Central Time - Regina"},{Value:"America/Tegucigalpa",Text:"(UTC-06:00) Central Time - Tegucigalpa"},{Value:"America/Winnipeg",Text:"(UTC-06:00) Central Time - Winnipeg"},{Value:"America/Costa_Rica",Text:"(UTC-06:00) Costa Rica"},{Value:"America/El_Salvador",Text:"(UTC-06:00) El Salvador"},{Value:"Pacific/Galapagos",Text:"(UTC-06:00) Galapagos"},{Value:"America/Guatemala",Text:"(UTC-06:00) Guatemala"},{Value:"America/Managua",Text:"(UTC-06:00) Managua"},{Value:"America/Cancun",Text:"(UTC-05:00) America Cancun"},{Value:"America/Bogota",Text:"(UTC-05:00) Bogota"},{Value:"Pacific/Easter",Text:"(UTC-05:00) Easter Island"},{Value:"America/New_York",Text:"(UTC-05:00) Eastern Time"},{Value:"America/Iqaluit",Text:"(UTC-05:00) Eastern Time - Iqaluit"},{Value:"America/Toronto",Text:"(UTC-05:00) Eastern Time - Toronto"},{Value:"America/Guayaquil",Text:"(UTC-05:00) Guayaquil"},{Value:"America/Havana",Text:"(UTC-05:00) Havana"},{Value:"America/Jamaica",Text:"(UTC-05:00) Jamaica"},{Value:"America/Lima",Text:"(UTC-05:00) Lima"},{Value:"America/Nassau",Text:"(UTC-05:00) Nassau"},{Value:"America/Panama",Text:"(UTC-05:00) Panama"},{Value:"America/Port-au-Prince",Text:"(UTC-05:00) Port-au-Prince"},{Value:"America/Rio_Branco",Text:"(UTC-05:00) Rio Branco"},{Value:"America/Halifax",Text:"(UTC-04:00) Atlantic Time - Halifax"},{Value:"America/Barbados",Text:"(UTC-04:00) Barbados"},{Value:"Atlantic/Bermuda",Text:"(UTC-04:00) Bermuda"},{Value:"America/Boa_Vista",Text:"(UTC-04:00) Boa Vista"},{Value:"America/Caracas",Text:"(UTC-04:00) Caracas"},{Value:"America/Curacao",Text:"(UTC-04:00) Curacao"},{Value:"America/Grand_Turk",Text:"(UTC-04:00) Grand Turk"},{Value:"America/Guyana",Text:"(UTC-04:00) Guyana"},{Value:"America/La_Paz",Text:"(UTC-04:00) La Paz"},{Value:"America/Manaus",Text:"(UTC-04:00) Manaus"},{Value:"America/Martinique",Text:"(UTC-04:00) Martinique"},{Value:"America/Port_of_Spain",Text:"(UTC-04:00) Port of Spain"},{Value:"America/Porto_Velho",Text:"(UTC-04:00) Porto Velho"},{Value:"America/Puerto_Rico",Text:"(UTC-04:00) Puerto Rico"},{Value:"America/Santo_Domingo",Text:"(UTC-04:00) Santo Domingo"},{Value:"America/Thule",Text:"(UTC-04:00) Thule"},{Value:"America/St_Johns",Text:"(UTC-03:30) Newfoundland Time - St. Johns"},{Value:"America/Araguaina",Text:"(UTC-03:00) Araguaina"},{Value:"America/Asuncion",Text:"(UTC-03:00) Asuncion"},{Value:"America/Belem",Text:"(UTC-03:00) Belem"},{Value:"America/Argentina/Buenos_Aires",Text:"(UTC-03:00) Buenos Aires"},{Value:"America/Campo_Grande",Text:"(UTC-03:00) Campo Grande"},{Value:"America/Cayenne",Text:"(UTC-03:00) Cayenne"},{Value:"America/Cuiaba",Text:"(UTC-03:00) Cuiaba"},{Value:"America/Fortaleza",Text:"(UTC-03:00) Fortaleza"},{Value:"America/Godthab",Text:"(UTC-03:00) Godthab"},{Value:"America/Maceio",Text:"(UTC-03:00) Maceio"},{Value:"America/Miquelon",Text:"(UTC-03:00) Miquelon"},{Value:"America/Montevideo",Text:"(UTC-03:00) Montevideo"},{Value:"Antarctica/Palmer",Text:"(UTC-03:00) Palmer"},{Value:"America/Paramaribo",Text:"(UTC-03:00) Paramaribo"},{Value:"America/Punta_Arenas",Text:"(UTC-03:00) Punta Arenas"},{Value:"America/Recife",Text:"(UTC-03:00) Recife"},{Value:"Antarctica/Rothera",Text:"(UTC-03:00) Rothera"},{Value:"America/Bahia",Text:"(UTC-03:00) Salvador"},{Value:"America/Santiago",Text:"(UTC-03:00) Santiago"},{Value:"Atlantic/Stanley",Text:"(UTC-03:00) Stanley"},{Value:"America/Noronha",Text:"(UTC-02:00) Noronha"},{Value:"America/Sao_Paulo",Text:"(UTC-02:00) Sao Paulo"},{Value:"Atlantic/South_Georgia",Text:"(UTC-02:00) South Georgia"},{Value:"Atlantic/Azores",Text:"(UTC-01:00) Azores"},{Value:"Atlantic/Cape_Verde",Text:"(UTC-01:00) Cape Verde"},{Value:"America/Scoresbysund",Text:"(UTC-01:00) Scoresbysund"},{Value:"Africa/Abidjan",Text:"(UTC+00:00) Abidjan"},{Value:"Africa/Accra",Text:"(UTC+00:00) Accra"},{Value:"Africa/Bissau",Text:"(UTC+00:00) Bissau"},{Value:"Atlantic/Canary",Text:"(UTC+00:00) Canary Islands"},{Value:"Africa/Casablanca",Text:"(UTC+00:00) Casablanca"},{Value:"America/Danmarkshavn",Text:"(UTC+00:00) Danmarkshavn"},{Value:"Europe/Dublin",Text:"(UTC+00:00) Dublin"},{Value:"Africa/El_Aaiun",Text:"(UTC+00:00) El Aaiun"},{Value:"Atlantic/Faroe",Text:"(UTC+00:00) Faeroe"},{Value:"Etc/UTC",Text:"(UTC+00:00) UTC (no daylight saving)"},{Value:"Europe/Lisbon",Text:"(UTC+00:00) Lisbon"},{Value:"Europe/London",Text:"(UTC+00:00) London"},{Value:"Africa/Monrovia",Text:"(UTC+00:00) Monrovia"},{Value:"Atlantic/Reykjavik",Text:"(UTC+00:00) Reykjavik"},{Value:"UTC",Text:"UTC"},{Value:"Africa/Algiers",Text:"(UTC+01:00) Algiers"},{Value:"Europe/Amsterdam",Text:"(UTC+01:00) Amsterdam"},{Value:"Europe/Andorra",Text:"(UTC+01:00) Andorra"},{Value:"Europe/Berlin",Text:"(UTC+01:00) Berlin"},{Value:"Europe/Brussels",Text:"(UTC+01:00) Brussels"},{Value:"Europe/Budapest",Text:"(UTC+01:00) Budapest"},{Value:"Europe/Belgrade",Text:"(UTC+01:00) Central European Time - Belgrade"},{Value:"Europe/Prague",Text:"(UTC+01:00) Central European Time - Prague"},{Value:"Africa/Ceuta",Text:"(UTC+01:00) Ceuta"},{Value:"Europe/Copenhagen",Text:"(UTC+01:00) Copenhagen"},{Value:"Europe/Gibraltar",Text:"(UTC+01:00) Gibraltar"},{Value:"Africa/Lagos",Text:"(UTC+01:00) Lagos"},{Value:"Europe/Luxembourg",Text:"(UTC+01:00) Luxembourg"},{Value:"Europe/Madrid",Text:"(UTC+01:00) Madrid"},{Value:"Europe/Malta",Text:"(UTC+01:00) Malta"},{Value:"Europe/Monaco",Text:"(UTC+01:00) Monaco"},{Value:"Africa/Ndjamena",Text:"(UTC+01:00) Ndjamena"},{Value:"Europe/Oslo",Text:"(UTC+01:00) Oslo"},{Value:"Europe/Paris",Text:"(UTC+01:00) Paris"},{Value:"Europe/Rome",Text:"(UTC+01:00) Rome"},{Value:"Europe/Stockholm",Text:"(UTC+01:00) Stockholm"},{Value:"Europe/Tirane",Text:"(UTC+01:00) Tirane"},{Value:"Africa/Tunis",Text:"(UTC+01:00) Tunis"},{Value:"Europe/Vienna",Text:"(UTC+01:00) Vienna"},{Value:"Europe/Warsaw",Text:"(UTC+01:00) Warsaw"},{Value:"Europe/Zurich",Text:"(UTC+01:00) Zurich"},{Value:"Asia/Amman",Text:"(UTC+02:00) Amman"},{Value:"Europe/Athens",Text:"(UTC+02:00) Athens"},{Value:"Asia/Beirut",Text:"(UTC+02:00) Beirut"},{Value:"Europe/Bucharest",Text:"(UTC+02:00) Bucharest"},{Value:"Africa/Cairo",Text:"(UTC+02:00) Cairo"},{Value:"Europe/Chisinau",Text:"(UTC+02:00) Chisinau"},{Value:"Asia/Damascus",Text:"(UTC+02:00) Damascus"},{Value:"Asia/Gaza",Text:"(UTC+02:00) Gaza"},{Value:"Europe/Helsinki",Text:"(UTC+02:00) Helsinki"},{Value:"Asia/Jerusalem",Text:"(UTC+02:00) Jerusalem"},{Value:"Africa/Johannesburg",Text:"(UTC+02:00) Johannesburg"},{Value:"Africa/Khartoum",Text:"(UTC+02:00) Khartoum"},{Value:"Europe/Kiev",Text:"(UTC+02:00) Kiev"},{Value:"Africa/Maputo",Text:"(UTC+02:00) Maputo"},{Value:"Europe/Kaliningrad",Text:"(UTC+02:00) Moscow-01 - Kaliningrad"},{Value:"Asia/Nicosia",Text:"(UTC+02:00) Nicosia"},{Value:"Europe/Riga",Text:"(UTC+02:00) Riga"},{Value:"Europe/Sofia",Text:"(UTC+02:00) Sofia"},{Value:"Europe/Tallinn",Text:"(UTC+02:00) Tallinn"},{Value:"Africa/Tripoli",Text:"(UTC+02:00) Tripoli"},{Value:"Europe/Vilnius",Text:"(UTC+02:00) Vilnius"},{Value:"Africa/Windhoek",Text:"(UTC+02:00) Windhoek"},{Value:"Asia/Baghdad",Text:"(UTC+03:00) Baghdad"},{Value:"Europe/Istanbul",Text:"(UTC+03:00) Istanbul"},{Value:"Europe/Minsk",Text:"(UTC+03:00) Minsk"},{Value:"Europe/Moscow",Text:"(UTC+03:00) Moscow+00 - Moscow"},{Value:"Africa/Nairobi",Text:"(UTC+03:00) Nairobi"},{Value:"Asia/Qatar",Text:"(UTC+03:00) Qatar"},{Value:"Asia/Riyadh",Text:"(UTC+03:00) Riyadh"},{Value:"Antarctica/Syowa",Text:"(UTC+03:00) Syowa"},{Value:"Asia/Tehran",Text:"(UTC+03:30) Tehran"},{Value:"Asia/Baku",Text:"(UTC+04:00) Baku"},{Value:"Asia/Dubai",Text:"(UTC+04:00) Dubai"},{Value:"Indian/Mahe",Text:"(UTC+04:00) Mahe"},{Value:"Indian/Mauritius",Text:"(UTC+04:00) Mauritius"},{Value:"Europe/Samara",Text:"(UTC+04:00) Moscow+01 - Samara"},{Value:"Indian/Reunion",Text:"(UTC+04:00) Reunion"},{Value:"Asia/Tbilisi",Text:"(UTC+04:00) Tbilisi"},{Value:"Asia/Yerevan",Text:"(UTC+04:00) Yerevan"},{Value:"Asia/Kabul",Text:"(UTC+04:30) Kabul"},{Value:"Asia/Aqtau",Text:"(UTC+05:00) Aqtau"},{Value:"Asia/Aqtobe",Text:"(UTC+05:00) Aqtobe"},{Value:"Asia/Ashgabat",Text:"(UTC+05:00) Ashgabat"},{Value:"Asia/Dushanbe",Text:"(UTC+05:00) Dushanbe"},{Value:"Asia/Karachi",Text:"(UTC+05:00) Karachi"},{Value:"Indian/Kerguelen",Text:"(UTC+05:00) Kerguelen"},{Value:"Indian/Maldives",Text:"(UTC+05:00) Maldives"},{Value:"Antarctica/Mawson",Text:"(UTC+05:00) Mawson"},{Value:"Asia/Yekaterinburg",Text:"(UTC+05:00) Moscow+02 - Yekaterinburg"},{Value:"Asia/Tashkent",Text:"(UTC+05:00) Tashkent"},{Value:"Asia/Colombo",Text:"(UTC+05:30) Colombo"},{Value:"Asia/Kolkata",Text:"(UTC+05:30) India Standard Time"},{Value:"Asia/Katmandu",Text:"(UTC+05:45) Katmandu"},{Value:"Asia/Almaty",Text:"(UTC+06:00) Almaty"},{Value:"Asia/Bishkek",Text:"(UTC+06:00) Bishkek"},{Value:"Indian/Chagos",Text:"(UTC+06:00) Chagos"},{Value:"Asia/Dhaka",Text:"(UTC+06:00) Dhaka"},{Value:"Asia/Omsk",Text:"(UTC+06:00) Moscow+03 - Omsk"},{Value:"Asia/Thimphu",Text:"(UTC+06:00) Thimphu"},{Value:"Antarctica/Vostok",Text:"(UTC+06:00) Vostok"},{Value:"Indian/Cocos",Text:"(UTC+06:30) Cocos"},{Value:"Asia/Yangon",Text:"(UTC+06:30) Rangoon"},{Value:"Asia/Bangkok",Text:"(UTC+07:00) Bangkok"},{Value:"Indian/Christmas",Text:"(UTC+07:00) Christmas"},{Value:"Antarctica/Davis",Text:"(UTC+07:00) Davis"},{Value:"Asia/Saigon",Text:"(UTC+07:00) Hanoi"},{Value:"Asia/Hovd",Text:"(UTC+07:00) Hovd"},{Value:"Asia/Jakarta",Text:"(UTC+07:00) Jakarta"},{Value:"Asia/Krasnoyarsk",Text:"(UTC+07:00) Moscow+04 - Krasnoyarsk"},{Value:"Asia/Brunei",Text:"(UTC+08:00) Brunei"},{Value:"Asia/Shanghai",Text:"(UTC+08:00) China Time - Beijing"},{Value:"Asia/Choibalsan",Text:"(UTC+08:00) Choibalsan"},{Value:"Asia/Hong_Kong",Text:"(UTC+08:00) Hong Kong"},{Value:"Asia/Kuala_Lumpur",Text:"(UTC+08:00) Kuala Lumpur"},{Value:"Asia/Macau",Text:"(UTC+08:00) Macau"},{Value:"Asia/Makassar",Text:"(UTC+08:00) Makassar"},{Value:"Asia/Manila",Text:"(UTC+08:00) Manila"},{Value:"Asia/Irkutsk",Text:"(UTC+08:00) Moscow+05 - Irkutsk"},{Value:"Asia/Singapore",Text:"(UTC+08:00) Singapore"},{Value:"Asia/Taipei",Text:"(UTC+08:00) Taipei"},{Value:"Asia/Ulaanbaatar",Text:"(UTC+08:00) Ulaanbaatar"},{Value:"Australia/Perth",Text:"(UTC+08:00) Western Time - Perth"},{Value:"Asia/Pyongyang",Text:"(UTC+08:30) Pyongyang"},{Value:"Asia/Dili",Text:"(UTC+09:00) Dili"},{Value:"Asia/Jayapura",Text:"(UTC+09:00) Jayapura"},{Value:"Asia/Yakutsk",Text:"(UTC+09:00) Moscow+06 - Yakutsk"},{Value:"Pacific/Palau",Text:"(UTC+09:00) Palau"},{Value:"Asia/Seoul",Text:"(UTC+09:00) Seoul"},{Value:"Asia/Tokyo",Text:"(UTC+09:00) Tokyo"},{Value:"Australia/Darwin",Text:"(UTC+09:30) Central Time - Darwin"},{Value:"Antarctica/DumontDUrville",Text:'(UTC+10:00) Dumont D"Urville'},{Value:"Australia/Brisbane",Text:"(UTC+10:00) Eastern Time - Brisbane"},{Value:"Pacific/Guam",Text:"(UTC+10:00) Guam"},{Value:"Asia/Vladivostok",Text:"(UTC+10:00) Moscow+07 - Vladivostok"},{Value:"Pacific/Port_Moresby",Text:"(UTC+10:00) Port Moresby"},{Value:"Pacific / Chuuk",Text:"(UTC+10:00) Truk"},{Value:"Australia/Adelaide",Text:"(UTC+10:30) Central Time - Adelaide"},{Value:"Antarctica/Casey",Text:"(UTC+11:00) Casey"},{Value:"Australia/Hobart",Text:"(UTC+11:00) Eastern Time - Hobart"},{Value:"Australia/Sydney",Text:"(UTC+11:00) Eastern Time - Melbourne, Sydney"},{Value:"Pacific/Efate",Text:"(UTC+11:00) Efate"},{Value:"Pacific/Guadalcanal",Text:"(UTC+11:00) Guadalcanal"},{Value:"Pacific/Kosrae",Text:"(UTC+11:00) Kosrae"},{Value:"Asia/Magadan",Text:"(UTC+11:00) Moscow+08 - Magadan"},{Value:"Pacific / Norfolk",Text:"(UTC+11:00) Norfolk"},{Value:"Pacific/Noumea",Text:"(UTC+11:00) Noumea"},{Value:"Pacific/Pohnpei",Text:"(UTC+11:00) Ponape"},{Value:"Pacific/Funafuti",Text:"(UTC+12:00) Funafuti"},{Value:"Pacific/Kwajalein",Text:"(UTC+12:00) Kwajalein"},{Value:"Pacific/Majuro",Text:"(UTC+12:00) Majuro"},{Value:"Asia/Kamchatka",Text:"(UTC+12:00) Moscow+09 - Petropavlovsk - Kamchatskiy"},{Value:"Pacific / Nauru",Text:"(UTC+12:00) Nauru"},{Value:"Pacific/Tarawa",Text:"(UTC+12:00) Tarawa"},{Value:"Pacific/Wake",Text:"(UTC+12:00) Wake"},{Value:"Pacific/Wallis",Text:"(UTC+12:00) Wallis"},{Value:"Pacific/Auckland",Text:"(UTC+13:00) Auckland"},{Value:"Pacific/Enderbury",Text:"(UTC+13:00) Enderbury"},{Value:"Pacific/Fakaofo",Text:"(UTC+13:00) Fakaofo"},{Value:"Pacific/Fiji",Text:"(UTC+13:00) Fiji"},{Value:"Pacific/Tongatapu",Text:"(UTC+13:00) Tongatapu"},{Value:"Pacific/Apia",Text:"(UTC+14:00) Apia"},{Value:"Pacific/Kiritimati",Text:"(UTC+14:00) Kiritimati"}]},function(e,t){e.exports=r},function(e,t){e.exports=a},function(e,t,i){"use strict";i.d(t,"a",function(){return V});var n=i(0),r=(i.n(n),i(38)),a=(i.n(r),i(12)),s=(i.n(a),i(19)),o=(i.n(s),i(18)),l=(i.n(o),i(4)),c=i(1),p=this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),d=this&&this.__decorate||function(e,t,i,n){var r,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(a<3?r(s):a>3?r(t,i,s):r(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},h="e-input-wrapper",u="e-repeat-element",g="e-form-left",v="e-recurrence-count",f="e-hide-recurrence-element",m="e-primary",y={none:"",daily:"days",weekly:"weeks",monthly:"months",yearly:"years"},T={sun:"SU",mon:"MO",tue:"TU",wed:"WE",thu:"TH",fri:"FR",sat:"SA"},D=["e-days","e-non-week","e-end-on","e-interval","e-year-expander","e-month-expander"],w=["e-non-week"],b=["e-days","e-year-expander"],C=["e-days"],S=["e-days","e-non-week","e-year-expander","e-month-expander"],O=["e-end-on-date","e-end-on-count"],E=["e-end-on-date"],x=["e-end-on-count"],V=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.defaultLocale={none:"None",daily:"Daily",weekly:"Weekly",monthly:"Monthly",month:"Month",yearly:"Yearly",never:"Never",until:"Until",count:"Count",first:"First",second:"Second",third:"Third",fourth:"Fourth",last:"Last",repeat:"Repeat",repeatEvery:"Repeat every",on:"Repeat On",end:"End",onDay:"Day",days:"Day(s)",weeks:"Week(s)",months:"Month(s)",years:"Year(s)",every:"every",summaryTimes:"time(s)",summaryOn:"on",summaryUntil:"until",summaryRepeat:"Repeats",summaryDay:"day(s)",summaryWeek:"week(s)",summaryMonth:"month(s)",summaryYear:"year(s)",monthWeek:"Month Week",monthPosition:"Month Position",monthExpander:"Month Expander",yearExpander:"Year Expander",repeatInterval:"Repeat Interval"},n.renderStatus=!1,n.dayButtons=[],n.monthButtons=[],n}return p(t,e),t.prototype.startState=function(e,t,i){this.showFormElement(),this.updateForm(e),this.freshOnEndForm(),this.updateEndOnForm(t),this.selectMonthDay(i),this.updateUntilDate(i),this.onMonthDay.setProperties({checked:!0})},t.prototype.preRender=function(){this.localeObj=new n.L10n(this.getModuleName(),this.defaultLocale,this.locale),this.calendarUtil=i.i(l.e)(this.calendarMode)},t.prototype.applyCustomClass=function(e){e&&i.i(n.addClass)([this.element],e.split(" "))},t.prototype.initialize=function(){i.i(n.addClass)([this.element],"e-"+this.getModuleName()),this.renderComponent(),i.i(n.isNullOrUndefined)(this.value)||""===this.value?(i.i(n.isNullOrUndefined)(this.repeatType.value)||(this.startState(this.repeatType.value.toString().toUpperCase(),"never",this.startDate),this.updateForm(this.repeatType.value.toString())),this.selectedType>0&&this.setProperties({value:this.getRecurrenceRule()},!1)):this.setRecurrenceRule(this.value),this.applyCustomClass(this.cssClass)},t.prototype.triggerChangeEvent=function(){var e=this;if(this.renderStatus){var t=this.getRecurrenceRule();this.trigger("change",{value:t},function(t){return e.setProperties({value:t.value},!1)})}},t.prototype.resetDayButton=function(){[].slice.call(this.element.querySelectorAll(".e-days button")).forEach(function(e){return i.i(n.removeClass)([e],["e-active",m])})},t.prototype.daySelection=function(e){this.resetDayButton();var t=[0,1,2,3,4,5,6];this.rotateArray(t,this.firstDayOfWeek);var r=this.element.querySelector('.e-days button[data-index="'+t.indexOf(e)+'"]');r&&i.i(n.addClass)([r],["e-active",m])},t.prototype.rtlClass=function(e){e?i.i(n.addClass)([this.element],"e-rtl"):i.i(n.removeClass)([this.element],"e-rtl")},t.prototype.updateUntilDate=function(e){var t=new Date(e.getTime());t.setDate(t.getDate()+60),this.untilDateObj.setProperties({value:t})},t.prototype.selectMonthDay=function(e){var t=["sun","mon","tue","wed","thu","fri","sat"];this.monthDate.setProperties({value:this.calendarUtil.getDate(e)}),this.monthWeekDays.setProperties({value:T[t[e.getDay()]]}),this.monthValue.setProperties({value:""+this.calendarUtil.getMonth(e)}),this.monthWeekPos.setProperties({value:this.getDayPosition(e)}),this.daySelection(e.getDay())},t.prototype.updateForm=function(e){var t=this;this.repeatType.setProperties({value:e});var r=this.element.querySelector(".e-end-on");switch("daily"===e?i.i(n.classList)(r,[g],["e-form-right"]):i.i(n.classList)(r,["e-form-right"],[g]),e){case"none":D.forEach(function(e){return i.i(n.addClass)([t.element.querySelector("."+e)],f)});break;case"weekly":w.forEach(function(e){return i.i(n.addClass)([t.element.querySelector("."+e)],f)});break;case"monthly":b.forEach(function(e){return i.i(n.addClass)([t.element.querySelector("."+e)],f)});break;case"yearly":C.forEach(function(e){return i.i(n.addClass)([t.element.querySelector("."+e)],f)});break;case"daily":S.forEach(function(e){return i.i(n.addClass)([t.element.querySelector("."+e)],f)})}},t.prototype.updateEndOnForm=function(e){var t=this;switch(this.endType.setProperties({value:e}),e){case"never":O.forEach(function(e){return i.i(n.addClass)([t.element.querySelector("."+e)],f)});break;case"until":x.forEach(function(e){return i.i(n.addClass)([t.element.querySelector("."+e)],f)});break;case"count":E.forEach(function(e){return i.i(n.addClass)([t.element.querySelector("."+e)],f)})}},t.prototype.freshOnEndForm=function(){var e=this;O.forEach(function(t){var r=e.element.querySelector("."+t);r&&i.i(n.removeClass)([r],f)})},t.prototype.showFormElement=function(){var e=this;D.forEach(function(t){var r=e.element.querySelector("."+t);r&&i.i(n.removeClass)([r],f)})},t.prototype.renderDropdowns=function(){var e=this,t=this;this.repeatType=new r.DropDownList({dataSource:this.getRepeatData(),floatLabelType:"Always",enableRtl:this.enableRtl,index:this.selectedType,fields:{text:"text",value:"value"},placeholder:this.localeObj.getConstant("repeat"),htmlAttributes:{title:this.localeObj.getConstant("repeat"),role:"option"},change:function(i){t.setProperties({selectedType:e.frequencies.indexOf(i.value)},!1),t.element.querySelector(".e-repeat-content").innerHTML=t.localeObj.getConstant(y[i.value]),t.showFormElement(),t.updateForm(i.value),t.resetFormValues(),t.triggerChangeEvent()}}),this.repeatType.appendTo(this.element.querySelector("."+u)),this.endType=new r.DropDownList({dataSource:this.getEndData(),popupWidth:this.getPopupWidth(),enableRtl:this.enableRtl,index:1,fields:{text:"text",value:"value"},htmlAttributes:{role:"option"},change:function(e){t.freshOnEndForm(),t.updateEndOnForm(e.value),t.resetFormValues(),t.triggerChangeEvent()}}),this.endType.appendTo(this.element.querySelector(".e-end-on-element"));var i=function(i){return new r.DropDownList({dataSource:i,popupWidth:e.getPopupWidth(),enableRtl:e.enableRtl,fields:{text:"text",value:"value"},htmlAttributes:{role:"option"},index:1,change:function(e){t.onWeekDay.setProperties({checked:!0}),t.resetFormValues(),t.triggerChangeEvent()}})};this.monthWeekPos=i(this.getMonthPosData()),this.monthWeekPos.appendTo(this.element.querySelector(".e-month-pos")),this.monthWeekDays=i(this.getDayData("wide")),this.monthWeekDays.appendTo(this.element.querySelector(".e-month-week")),this.monthValue=new r.DropDownList({dataSource:this.getMonthData(),fields:{text:"text",value:"value"},htmlAttributes:{role:"option"},enableRtl:this.enableRtl,index:7,change:function(e){t.resetFormValues(),t.triggerChangeEvent()}}),this.monthValue.appendTo(this.element.querySelector(".e-year-expander-element"))},t.prototype.setDefaultValue=function(){for(var e=[].slice.call(this.element.querySelectorAll(".e-control .e-numerictextbox")),t=0,i=e;t<i.length;t++){var n=i[t],r=n.ej2_instances[0];r.element.classList.contains("e-repeat-interval")?(r.value=1,r.dataBind()):r.element.classList.contains(v)&&(r.value=10,r.dataBind())}},t.prototype.resetFormValues=function(){for(var e=[].slice.call(this.element.querySelectorAll('.e-control [type="text"]')),t=0,i=e;t<i.length;t++){var n=i[t],r=void 0;if(n.classList.contains("e-datepicker"))r=n.ej2_instances[0],r.value?(r.value=r.value,r.dataBind()):this.updateUntilDate(this.startDate);else if(n.classList.contains("e-dropdownlist"))r=n.ej2_instances[0],r.index=r.index||0,r.dataBind();else if(n.classList.contains("e-numerictextbox")){r=n.ej2_instances[0];var a=void 0;a=r.element.classList.contains("e-repeat-interval")?1:r.element.classList.contains(v)?10:this.startDate.getDate(),r.value=r.value||a,r.dataBind()}}},t.prototype.getPopupWidth=function(){return n.Browser.isDevice?"100%":"auto"},t.prototype.renderDatePickers=function(){var e=this;this.untilDateObj=new s.DatePicker({firstDayOfWeek:this.firstDayOfWeek,enableRtl:this.enableRtl,locale:this.locale,min:this.minDate,max:this.maxDate,format:i.i(n.isNullOrUndefined)(this.dateFormat)?this.getFormat("dateFormats"):this.dateFormat,change:function(t){t.value&&e.triggerChangeEvent()}}),this.untilDateObj.appendTo(this.element.querySelector(".e-until-date"))},t.prototype.getFormat=function(e){return"en"===this.locale||"en-US"===this.locale?i.i(n.getValue)(e+".short",i.i(n.getDefaultDateObject)(this.getCalendarMode())):i.i(n.getValue)("main."+this.locale+".dates.calendars."+this.getCalendarMode()+"."+e+".short",n.cldrData)},t.prototype.dayButtonRender=function(){for(var e=this,t=[].slice.call(this.element.querySelectorAll(".e-days button")),r=this,a=0,s=t;a<s.length;a++){var l=s[a],c=new o.Button({isToggle:!0,enableRtl:this.enableRtl},l);this.dayButtons.push(c),n.EventHandler.add(l,"click",function(t){var a=[].slice.call(e.element.querySelectorAll(".e-days button."+m)),s=t.target;s.classList.contains(m)?a.length>1&&(i.i(n.removeClass)([s],m),r.triggerChangeEvent()):(i.i(n.addClass)([s],m),r.triggerChangeEvent())})}},t.prototype.radioButtonRender=function(){var e=this;this.onMonthDay=new o.RadioButton({label:this.localeObj.getConstant("onDay"),enableRtl:this.enableRtl,name:"monthType",value:"day",change:function(){e.resetFormValues(),e.triggerChangeEvent()}}),this.onMonthDay.appendTo(this.element.querySelector(".e-month-expander-element")),this.monthButtons.push(this.onMonthDay),this.onWeekDay=new o.RadioButton({label:this.localeObj.getConstant("monthExpander"),cssClass:"e-month-type",name:"monthType",enableRtl:this.enableRtl,value:"daypos",change:function(){e.resetFormValues(),e.triggerChangeEvent()}}),this.onWeekDay.appendTo(this.element.querySelector(".e-month-expander-wrapper")),this.monthButtons.push(this.onWeekDay)},t.prototype.numericTextboxRender=function(){var e=this;this.recurrenceCount=new a.NumericTextBox({value:10,format:"#",enableRtl:this.enableRtl,min:1,max:999,change:function(){e.triggerChangeEvent()}}),this.recurrenceCount.appendTo(this.element.querySelector("."+v)),this.monthDate=new a.NumericTextBox({value:1,format:"#",enableRtl:this.enableRtl,min:1,max:31,change:function(){e.onMonthDay.setProperties({checked:!0}),e.triggerChangeEvent()}}),this.monthDate.appendTo(this.element.querySelector(".e-month-day")),this.repeatInterval=new a.NumericTextBox({value:1,format:"#",min:1,max:999,enableRtl:this.enableRtl,floatLabelType:"Always",placeholder:this.localeObj.getConstant("repeatEvery"),change:function(){e.triggerChangeEvent()}}),this.repeatInterval.appendTo(this.element.querySelector(".e-repeat-interval"))},t.prototype.renderComponent=function(){this.setTemplate(),this.renderDropdowns(),this.renderDatePickers(),this.dayButtonRender(),this.radioButtonRender(),this.numericTextboxRender()},t.prototype.rotateArray=function(e,t){for(var i,n=0;n<t;n++)i=e.shift(),e.push(i)},t.prototype.getEndData=function(){var e=["never","until","count"],t=this,i=[];return e.forEach(function(e){i.push({text:t.localeObj.getConstant(e),value:e})}),i},t.prototype.getDayPosition=function(e){var t=new Date(e.getTime()),i=new Date(e.getTime()),n=e.getDay(),r=[];for(t=this.calendarUtil.getMonthStartDate(t),i=this.calendarUtil.getMonthEndDate(i);t<i;)t.getDay()===n&&r.push(t.getTime()),t.setDate(t.getDate()+1);return r.indexOf(e.getTime())===r.length-1?-1:r.indexOf(e.getTime())+1},t.prototype.getRepeatData=function(){var e=[],t=this;return this.frequencies.forEach(function(i){var n="none"===i?"never":i;e.push({text:t.localeObj.getConstant(n),value:i})}),e},t.prototype.getMonthPosData=function(){var e=["first","second","third","fourth","last"],t={first:1,second:2,third:3,fourth:4,last:-1},i=this,n=[];return e.forEach(function(e){n.push({text:i.localeObj.getConstant(e),value:t[""+e]})}),n},t.prototype.getDayData=function(e){var t,r=["sun","mon","tue","wed","thu","fri","sat"],a=[];if(this.rotateArray(r,this.firstDayOfWeek),"en"===this.locale||"en-US"===this.locale){var s="days.stand-alone.";t=i.i(n.getValue)(s+e,i.i(n.getDefaultDateObject)(this.getCalendarMode()))}else{var s="main."+this.locale+".dates.calendars."+this.getCalendarMode()+".days.stand-alone."+e;t=i.i(n.getValue)(s,n.cldrData)}for(var o=0,l=r;o<l.length;o++){var p=l[o],d=i.i(n.getValue)(p,t);a.push({text:"narrow"===e?d:i.i(c.a)(d,"single"),value:T[""+p]})}return a},t.prototype.getMonthData=function(){var e,t=[];if("en"===this.locale||"en-US"===this.locale){var r="months.stand-alone.wide";e=i.i(n.getValue)(r,i.i(n.getDefaultDateObject)(this.getCalendarMode()))}else{var r="main."+this.locale+".dates.calendars."+this.getCalendarMode()+".months.stand-alone.wide";e=i.i(n.getValue)(r,n.cldrData)}for(var a=0,s=Object.keys(e);a<s.length;a++){var o=s[a];t.push({text:i.i(c.a)(i.i(n.getValue)(o,e),"single"),value:o})}return t},t.prototype.setTemplate=function(){var e=this.getDayData("narrow"),t=this.getDayData("wide");this.element.innerHTML='<div class="e-editor"><div class="e-input-wrapper e-form-left"><input type="text" tabindex="0" class="'+u+'"label="'+u.substr(2)+'" /></div><div class="'+h+' e-interval e-form-right"><table  class="e-recurrence-table e-repeat-content-wrapper"><tr><td><input type="text" tabindex="0" id="'+this.element.id+'_e-repeat-interval" class="e-repeat-interval"title="'+this.localeObj.getConstant("repeatEvery")+'" /></td><td><span class="e-repeat-content"></span></td></tr></table></div><div class="e-input-wrapper-side e-days '+g+'"><div class=e-week-expander-label>'+this.localeObj.getConstant("on")+'</div><button type="button" class="e-round" data-index="0" title="'+t[0].text+'">'+e[0].text+'</button><button type="button" class="e-round" data-index="1" title="'+t[1].text+'">'+e[1].text+'</button><button type="button" class="e-round" data-index="2" title="'+t[2].text+'">'+e[2].text+'</button><button type="button" class="e-round" data-index="3" title="'+t[3].text+'">'+e[3].text+'</button><button type="button" class="e-round" data-index="4" title="'+t[4].text+'">'+e[4].text+'</button><button type="button" class="e-round" data-index="5" title="'+t[5].text+'">'+e[5].text+'</button><button type="button" class="e-round" data-index="6" title="'+t[6].text+'">'+e[6].text+'</button></div><div class="e-input-wrapper-side e-non-week '+g+'"><div class=e-month-expander-label>'+this.localeObj.getConstant("on")+'</div><div class="e-year-expander"><input class="e-year-expander-element" type="text" tabindex="0" title="'+this.localeObj.getConstant("yearExpander")+'"/></div><div class="e-month-expander"><table class="e-recurrence-table e-month-expand-wrapper"><tr><td><div class="'+h+' e-month-expander-checkbox-wrapper"><input class="e-month-expander-element"title="'+this.localeObj.getConstant("monthExpander")+'" type="radio"></div></td><td colspan="2"><div class="'+h+' e-monthday-element"><input type="text" tabindex="0" id="'+this.element.id+'_e-month-day" class="e-month-day"title="'+this.localeObj.getConstant("on")+'" /></div></td></tr><tr><td><div class="'+h+' e-month-expander-checkbox-wrapper" style="min-width: 30px;margin-bottom:18px;"><input class="e-month-expander-wrapper"title="'+this.localeObj.getConstant("monthExpander")+'" type="radio"></div></td><td><div class="'+h+' e-week-position" ><input type="text" tabindex="0" class="e-month-pos"title="'+this.localeObj.getConstant("monthPosition")+'" /></div></td><td><div class="'+h+' e-day-position"><input type="text" tabindex="0" class="e-month-week"title="'+this.localeObj.getConstant("monthWeek")+'" /></div></td></tr></table></div></div><div class="e-input-wrapper-side e-end-on e-form-right"><div class=e-end-on-label>'+this.localeObj.getConstant("end")+'</div><div class="'+h+' e-end-on-left"><input type="text" tabindex="0" class="e-end-on-element"title="'+this.localeObj.getConstant("end")+'" /></div><div class="'+h+' e-end-on-date" ><input type="text" tabindex="0" class="e-until-date"title="'+this.localeObj.getConstant("until")+'" /></div><div class="'+h+' e-end-on-count"><input type="text" tabindex="0" id="'+this.element.id+"_"+v+'" class="'+v+'"title="'+this.localeObj.getConstant("count")+'" /></div></div></div></div>'},t.prototype.getSelectedDaysData=function(){var e="BYDAY=",t=[].slice.call(this.element.querySelectorAll(".e-days button."+m)),i=["SU","MO","TU","WE","TH","FR","SA"];this.rotateArray(i,this.firstDayOfWeek);for(var n=0;n<t.length;n++)e+=i[parseInt(t[parseInt(n.toString(),10)].getAttribute("data-index"),10)]+(n===t.length-1?"":",");return e+";"},t.prototype.getSelectedMonthData=function(){return this.onWeekDay.checked?"BYDAY="+this.monthWeekDays.value+";BYSETPOS="+this.monthWeekPos.value+";":"BYMONTHDAY="+this.monthDate.value+";"},t.prototype.getIntervalData=function(){return"INTERVAL="+this.repeatInterval.value+";"},t.prototype.getEndOnCount=function(){return"COUNT="+this.recurrenceCount.value+";"},t.prototype.getYearMonthRuleData=function(){return"BYMONTH="+this.monthValue.value+";"},t.prototype.updateWeekButton=function(e){var t=["SU","MO","TU","WE","TH","FR","SA"];this.rotateArray(t,this.firstDayOfWeek);for(var i=0,n=this.dayButtons;i<n.length;i++){var r=n[i],a=parseInt(r.element.getAttribute("data-index"),10);-1!==e.indexOf(t[parseInt(a.toString(),10)])?r.setProperties({isPrimary:!0}):r.setProperties({isPrimary:!1})}},t.prototype.updateMonthUI=function(){if(this.ruleObject.monthDay.length)this.monthDate.setProperties({value:this.ruleObject.monthDay[0]}),this.onMonthDay.setProperties({checked:!0});else{this.onWeekDay.setProperties({checked:!0}),this.monthWeekPos.setProperties({value:this.ruleObject.setPosition});for(var e=0,t=Object.keys(T);e<t.length;e++){var i=t[e];if(T[""+i]===this.ruleObject.day[0]){this.monthWeekDays.setProperties({value:this.ruleObject.day[0]});break}}}},t.prototype.updateUI=function(e,t){switch(this.repeatInterval.setProperties({value:this.ruleObject.interval}),t){case"until":this.untilDateObj.setProperties({value:this.ruleObject.until});break;case"count":this.recurrenceCount.setProperties({value:this.ruleObject.count})}switch(e){case"weekly":this.updateWeekButton(this.ruleObject.day);break;case"yearly":this.monthValue.setProperties({index:this.ruleObject.month[0]-1}),this.updateMonthUI();break;case"monthly":this.updateMonthUI()}},t.prototype.getUntilData=function(){return this.untilDateObj.value?"UNTIL="+i.i(l.f)(this.untilDateObj.value)+";":""},t.prototype.destroyComponents=function(){this.recurrenceCount.isDestroyed||(this.recurrenceCount.destroy(),this.recurrenceCount=null),this.monthDate.isDestroyed||(this.monthDate.destroy(),this.monthDate=null),this.repeatInterval.isDestroyed||(this.repeatInterval.destroy(),this.repeatInterval=null),this.untilDateObj.isDestroyed||(this.untilDateObj.destroy(),this.untilDateObj=null),this.repeatType.isDestroyed||(this.repeatType.destroy(),this.repeatType=null),this.endType.isDestroyed||(this.endType.destroy(),this.endType=null),this.monthWeekPos.isDestroyed||(this.monthWeekPos.destroy(),this.monthWeekPos=null),this.monthWeekDays.isDestroyed||(this.monthWeekDays.destroy(),this.monthWeekDays=null),this.monthValue.isDestroyed||(this.monthValue.destroy(),this.monthValue=null),this.onMonthDay.isDestroyed||(this.onMonthDay.destroy(),this.onMonthDay=null),this.onWeekDay.isDestroyed||(this.onWeekDay.destroy(),this.onWeekDay=null),this.dayButtons.forEach(function(e){e.isDestroyed||e.destroy()}),this.dayButtons=[],this.monthButtons.forEach(function(e){e.isDestroyed||e.destroy()}),this.monthButtons=[]},t.prototype.resetFields=function(){this.startState("none","never",this.startDate),this.setDefaultValue()},t.prototype.updateRuleUntilDate=function(e){if(this.untilDateObj.value&&e){var t=this.untilDateObj.value,i=new Date(t.getFullYear(),t.getMonth(),t.getDate(),e.getHours(),e.getMinutes(),e.getMilliseconds());this.untilDateObj.setProperties({value:i})}},t.prototype.getCalendarMode=function(){return this.calendarMode.toLowerCase()},t.prototype.getRuleSummary=function(e){return void 0===e&&(e=this.getRecurrenceRule()),i.i(l.a)(e,this.localeObj,this.locale,this.calendarMode)},t.prototype.getRecurrenceDates=function(e,t,r,a,s){return s=i.i(n.isNullOrUndefined)(s)?this.startDate:s,i.i(l.b)(e,t,r,this.firstDayOfWeek,a,s,this.calendarMode)},t.prototype.getRecurrenceRule=function(){var e="FREQ=";switch(this.repeatType.value){case"daily":e+="DAILY;";break;case"weekly":e+="WEEKLY;"+this.getSelectedDaysData();break;case"monthly":e+="MONTHLY;"+this.getSelectedMonthData();break;case"yearly":e+="YEARLY;"+this.getSelectedMonthData()+this.getYearMonthRuleData();break;case"none":return""}switch(e+=this.getIntervalData(),this.endType.value){case"until":e+=this.getUntilData();break;case"count":e+=this.getEndOnCount()}return e},t.prototype.setRecurrenceRule=function(e,t){if(void 0===t&&(t=this.startDate),!e)return void this.repeatType.setProperties({value:"none"});this.renderStatus=!1,this.ruleObject=i.i(l.d)(e);var n=this.ruleObject.count?"count":this.ruleObject.until?"until":"never";switch(this.ruleObject.freq){case"DAILY":this.startState("daily",n,t),this.updateUI("daily",n);break;case"WEEKLY":this.startState("weekly",n,t),this.updateUI("weekly",n);break;case"MONTHLY":this.startState("monthly",n,t),this.updateUI("monthly",n);break;case"YEARLY":this.startState("yearly",n,t),this.updateUI("yearly",n)}this.renderStatus=!0,this.triggerChangeEvent()},t.prototype.detachInputs=function(){for(var e=[].slice.call(this.element.querySelectorAll("input")),t=0,r=e;t<r.length;t++){var a=r[t];i.i(n.detach)(a)}},t.prototype.destroy=function(){if(!this.isDestroyed){this.destroyComponents(),e.prototype.destroy.call(this);var t=["e-"+this.getModuleName()];for(this.cssClass&&(t=t.concat(this.cssClass.split(" "))),i.i(n.removeClass)([this.element],t),this.detachInputs();this.element.firstElementChild;)this.element.removeChild(this.element.firstElementChild)}},t.prototype.getModuleName=function(){return"recurrenceeditor"},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.render=function(){this.initialize(),this.rtlClass(this.enableRtl),this.renderStatus=!0,this.renderComplete()},t.prototype.onPropertyChanged=function(e,t){for(var r=0,a=Object.keys(e);r<a.length;r++){switch(a[r]){case"startDate":this.selectMonthDay(e.startDate),this.updateUntilDate(e.startDate),this.endType.setProperties({index:0});break;case"enableRtl":this.rtlClass(e.enableRtl);break;case"cssClass":t.cssClass&&i.i(n.removeClass)([this.element],t.cssClass.split(" ")),e.cssClass&&i.i(n.addClass)([this.element],e.cssClass.split(" "));break;case"selectedType":this.repeatType.setProperties({index:this.selectedType});break;case"minDate":this.untilDateObj.setProperties({minDate:this.minDate});break;case"maxDate":this.untilDateObj.setProperties({maxDate:this.maxDate});break;case"value":this.getRecurrenceRule()!==this.value&&this.setRecurrenceRule(this.value);break;case"calendarMode":this.calendarMode=e.calendarMode,this.calendarUtil=i.i(l.e)(e.calendarMode);break;case"locale":case"frequencies":case"firstDayOfWeek":this.refresh();break;case"dateFormat":this.untilDateObj.setProperties({format:e.dateFormat})}}},d([i.i(n.Property)(["none","daily","weekly","monthly","yearly"])],t.prototype,"frequencies",void 0),d([i.i(n.Property)(0)],t.prototype,"firstDayOfWeek",void 0),d([i.i(n.Property)(new Date)],t.prototype,"startDate",void 0),d([i.i(n.Property)()],t.prototype,"dateFormat",void 0),d([i.i(n.Property)("Gregorian")],t.prototype,"calendarMode",void 0),d([i.i(n.Property)()],t.prototype,"cssClass",void 0),d([i.i(n.Property)()],t.prototype,"value",void 0),d([i.i(n.Property)(new Date(1900,0,1))],t.prototype,"minDate",void 0),d([i.i(n.Property)(new Date(2099,11,31))],t.prototype,"maxDate",void 0),d([i.i(n.Property)(0)],t.prototype,"selectedType",void 0),d([i.i(n.Event)()],t.prototype,"change",void 0),t=d([n.NotifyPropertyChanges],t)}(n.Component)},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(0),r=(i.n(n),i(3)),a=i(1),s=function(){function e(e){this.daysVariation=0,this.parent=e,this.actionObj={X:0,Y:0,groupIndex:0,cellWidth:0,cellHeight:0,slotInterval:0,interval:0,actionIndex:0,cloneElement:[],originalElement:[],action:null,isAllDay:null,excludeSelectors:null,index:0,navigationInterval:null,scrollInterval:null},this.scrollArgs={element:null,width:0,height:0},this.resizeEdges={left:!1,right:!1,top:!1,bottom:!1},this.scrollEdges={left:!1,right:!1,top:!1,bottom:!1}}return e.prototype.getChangedData=function(e){var t=this,r=i.i(n.extend)({},this.actionObj.event,null,!0);if(r[this.parent.eventFields.startTime]=this.actionObj.start,r[this.parent.eventFields.endTime]=this.actionObj.end,i.i(n.isNullOrUndefined)(this.actionObj.isAllDay)||(r[this.parent.eventFields.isAllDay]=this.actionObj.isAllDay),this.parent.activeViewOptions.group.resources.length>0){var a=this.getOriginalElement(this.actionObj.element);if(a){var s=a.map(function(e){return parseInt(e.getAttribute("data-group-index"),10)});if(-1===s.indexOf(this.actionObj.groupIndex)||!i.i(n.isNullOrUndefined)(e)&&e.length>0){var o=parseInt(this.actionObj.clone.getAttribute("data-group-index"),10);s=s.filter(function(e){return e!==o}),s.push(this.actionObj.groupIndex),e&&e.length>0?e.forEach(function(e){t.parent.resourceBase.getResourceData(e,t.actionObj.groupIndex,s)}):this.parent.resourceBase.getResourceData(r,this.actionObj.groupIndex,s)}}}return r},e.prototype.saveChangedData=function(e,t){void 0===t&&(t=!1),this.parent.activeEventData.event=this.actionObj.event,this.parent.currentAction="Save";var i,n=[e.data];t&&(n=e.selectedData);for(var r=0,a=n;r<a.length;r++){var s=a[r],o=!(this.parent.activeViewOptions.group.resources.length>0)||parseInt(this.actionObj.element.getAttribute("data-group-index"),10)===this.actionObj.groupIndex;if(+s[this.parent.eventFields.startTime]==+this.actionObj.event[this.parent.eventFields.startTime]&&+s[this.parent.eventFields.endTime]==+this.actionObj.event[this.parent.eventFields.endTime]&&o)return void(this.parent.crudModule.crudObj.isCrudAction=!1);if(s[this.parent.eventFields.recurrenceRule]){var l=s[this.parent.eventFields.recurrenceID]||s[this.parent.eventFields.id];if(s[this.parent.eventFields.id]===s[this.parent.eventFields.recurrenceID]&&(s[this.parent.eventFields.id]=this.parent.eventBase.getEventMaxID(),i="EditOccurrence"),this.parent.enableRecurrenceValidation&&this.parent.eventWindow.editOccurrenceValidation(l,s,this.actionObj.event))return}else i=null;(s[this.parent.eventFields.startTimezone]||s[this.parent.eventFields.endTimezone])&&this.parent.eventBase.timezoneConvert(s),this.parent.crudModule.saveEvent(s,i)}},e.prototype.calculateIntervalTime=function(e){var t=new Date(+e);return t.setMinutes(Math.floor(t.getMinutes()/this.actionObj.interval)*this.actionObj.interval),t},e.prototype.getContentAreaDimension=function(){var e=this.parent.element.querySelector("."+r.g),t=[].slice.call(e.querySelector("tr").children);this.parent.activeView.isTimelineView()||!(this.parent.activeViewOptions.group.resources.length>0)||this.parent.isAdaptive||this.parent.enableAdaptiveUI||this.parent.virtualScrollModule||(t=this.getResourceElements(t));var i=t[0].getBoundingClientRect(),n=t.slice(-1)[0].getBoundingClientRect();return{bottom:e.scrollHeight-5,left:this.parent.enableRtl?n.left:i.left,right:this.parent.enableRtl?i.right:n.right,top:0,leftOffset:this.parent.enableRtl?n.right:i.right,rightOffset:this.parent.enableRtl?i.left:n.left}},e.prototype.getIndex=function(e){var t=[].slice.call(this.parent.getContentTable().querySelector("tr").children),i={minIndex:0,maxIndex:t.length-1};if("resize"===this.actionObj.action&&this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive&&!this.parent.activeView.isTimelineView()){var n=this.getResourceElements(t);i.minIndex=n[0].cellIndex,i.maxIndex=n.slice(-1)[0].cellIndex}return e<i.minIndex&&(e=i.minIndex),e>i.maxIndex&&(e=i.maxIndex),e},e.prototype.updateTimePosition=function(e,t){for(var a=0,s=0,o=this.actionObj.cloneElement;s<o.length;s++){var l=o[s],c=l.querySelector("."+r.I);if(c){var p=this.actionObj.start,d=this.actionObj.end;t&&t.length>0&&(p=t[parseInt(a.toString(),10)][this.parent.eventFields.startTime],d=t[parseInt(a.toString(),10)][this.parent.eventFields.endTime]),c.innerHTML=this.parent.getTimeString(p)+" - "+this.parent.getTimeString(d)}a++}if(this.parent.activeViewOptions.timeScale.enable&&this.parent.isAdaptive&&"Month"!==this.parent.currentView&&"TimelineMonth"!==this.parent.currentView){var h=this.parent.element.querySelector("."+r._76);if(!h){h=i.i(n.createElement)("div",{className:r._76});var u=this.parent.activeView.isTimelineView()?r.d:r._28;this.parent.element.querySelector("."+u).appendChild(h)}h.innerHTML=this.parent.getTimeString(e);var g=0;if(this.parent.activeView.isTimelineView())if(this.parent.enableRtl){var v=parseInt(this.actionObj.clone.style.right,10);g="drag"===this.actionObj.action||this.resizeEdges.left?v+this.actionObj.clone.offsetWidth:v,h.style.right=i.i(n.formatUnit)(g)}else{var f=parseInt(this.actionObj.clone.style.left,10);g="drag"===this.actionObj.action||this.resizeEdges.left?f:f+this.actionObj.clone.offsetWidth,h.style.left=i.i(n.formatUnit)(g)}else g="drag"===this.actionObj.action||this.resizeEdges.top?this.actionObj.clone.offsetTop:this.actionObj.clone.offsetTop+this.actionObj.clone.offsetHeight,h.style.top=i.i(n.formatUnit)(g)}},e.prototype.getResourceElements=function(e){var t=this;return e.filter(function(e){return parseInt(e.getAttribute("data-group-index"),10)===t.actionObj.groupIndex})},e.prototype.getOriginalElement=function(e){var t,a=e.getAttribute("data-guid");if(e.offsetParent&&e.offsetParent.classList.contains(r._72)||this.parent.activeView.isTimelineView()||"resize"!==this.actionObj.action&&this.parent.virtualScrollModule)t=[].slice.call(this.parent.element.querySelectorAll('[data-guid="'+a+'"]'));else{var s=i.i(n.closest)(e,"tr");s&&(t=[].slice.call(s.querySelectorAll('[data-guid="'+a+'"]')))}return t},e.prototype.createCloneElement=function(e){var t=i.i(n.createElement)("div",{innerHTML:e.outerHTML}),a=t.children[0],s=[r._75];s.push("drag"===this.actionObj.action?r.Z:r._0),"Month"!==this.parent.currentView&&"TimelineMonth"!==this.parent.currentView||s.push(r._77),i.i(n.addClass)([a],s),i.i(n.addClass)([e],r._73),i.i(n.isNullOrUndefined)(e.parentElement)||e.parentElement.appendChild(a),a.style.width=i.i(n.formatUnit)(a.offsetWidth-2);var o=document.querySelector(this.parent.eventDragArea);return this.parent.eventDragArea&&"drag"===this.actionObj.action&&o&&o.appendChild(a),i.i(n.setStyleAttribute)(a,{border:"0px"}),a},e.prototype.removeCloneElementClasses=function(){var e=this.actionObj.originalElement;"Month"!==this.parent.currentView&&"TimelineYear"!==this.parent.currentView&&"Day"!==this.parent.currentView&&"Week"!==this.parent.currentView&&"WorkWeek"!==this.parent.currentView||(e=[].slice.call(this.parent.element.querySelectorAll("."+r._73))),i.i(n.removeClass)(e,r._73)},e.prototype.removeCloneElement=function(){this.actionObj.originalElement=[];for(var e=[].slice.call(this.parent.element.querySelectorAll(".e-dynamic-clone")),t=0,a=e;t<a.length;t++){var s=a[t];i.i(n.remove)(s)}for(var o=0,l=this.actionObj.cloneElement;o<l.length;o++){var c=l[o];i.i(n.isNullOrUndefined)(c.parentNode)||i.i(n.remove)(c)}this.actionObj.cloneElement=[];var p=this.parent.element.querySelector("."+r._76);p&&i.i(n.remove)(p)},e.prototype.getCursorElement=function(e){var t=this.parent.eventBase.getPageCoordinates(e);return document.elementFromPoint(t.clientX,t.clientY)},e.prototype.autoScroll=function(){var e=this.parent.element.querySelector("."+r.g),t=e.offsetHeight<=e.scrollHeight,i=e.offsetWidth<=e.scrollWidth,n=t&&e.scrollTop>=0&&e.scrollTop+e.offsetHeight<=e.scrollHeight,a=i&&e.scrollLeft>=0&&e.scrollLeft+e.offsetWidth<=e.scrollWidth;if("resize"===this.actionObj.action&&this.scrollEdges.right&&e.scrollLeft+e.offsetWidth>e.scrollWidth){var s=[].slice.call(this.parent.getContentTable().querySelector("tr").children).length-1;a=Math.ceil((this.actionObj.clone.offsetLeft+this.actionObj.clone.offsetWidth)/this.actionObj.cellWidth)===s}n&&(this.scrollEdges.top||this.scrollEdges.bottom)&&(e.scrollTop+=this.scrollEdges.top?-this.actionObj.scroll.scrollBy:this.actionObj.scroll.scrollBy,"resize"===this.actionObj.action&&e.scrollHeight!==e.offsetHeight+e.scrollTop&&e.scrollTop>0&&(this.actionObj.Y+=this.scrollEdges.top?this.actionObj.scroll.scrollBy:-this.actionObj.scroll.scrollBy)),a&&(this.scrollEdges.left||this.scrollEdges.right)&&(e.scrollLeft+=this.scrollEdges.left?-this.actionObj.scroll.scrollBy:this.actionObj.scroll.scrollBy,"resize"===this.actionObj.action&&e.scrollWidth!==e.offsetWidth+e.scrollLeft&&e.scrollLeft>0&&(this.actionObj.X+=this.scrollEdges.left?this.actionObj.scroll.scrollBy:-this.actionObj.scroll.scrollBy))},e.prototype.autoScrollValidation=function(){if(!this.actionObj.scroll.enable)return!1;var e=this.parent.boundaryValidation(this.actionObj.pageY,this.actionObj.pageX);return this.scrollEdges=e,e.bottom||e.top||e.left||e.right},e.prototype.actionClass=function(e){"addClass"===e?i.i(n.addClass)([this.parent.element],r._73):i.i(n.removeClass)([this.parent.element],r._73)},e.prototype.updateScrollPosition=function(e){var t=this;this.scrollEventArgs=e,this.actionObj.scroll.enable&&i.i(n.isNullOrUndefined)(this.actionObj.scrollInterval)&&(this.actionObj.scrollInterval=window.setInterval(function(){if(t.autoScrollValidation()&&!t.actionObj.clone.classList.contains(r._30)){if(t.parent.activeView.isTimelineView()&&t.parent.activeViewOptions.group.resources.length>0&&t.actionObj.groupIndex<0)return;t.autoScroll(),"drag"===t.actionObj.action?t.parent.dragAndDropModule.updateDraggingDateTime(t.scrollEventArgs):t.parent.resizeModule.updateResizingDirection(t.scrollEventArgs)}},this.actionObj.scroll.timeDelay))},e.prototype.updateOriginalElement=function(e){var t='[data-id="'+e.getAttribute("data-id")+'"]';this.parent.activeViewOptions.group.resources.length>0&&(t=t.concat('[data-group-index = "'+e.getAttribute("data-group-index")+'"]'));var a=[].slice.call(this.parent.element.querySelectorAll(t));i.i(n.addClass)(a,r._73);var s=[].slice.call(this.parent.element.querySelectorAll("."+r._75));i.i(n.removeClass)(s,r._73)},e.prototype.getUpdatedEvent=function(e,t,i){var n=JSON.parse(JSON.stringify(i));return n[this.parent.eventFields.startTime]=e,n[this.parent.eventFields.endTime]=t,n},e.prototype.dynamicYearlyEventsRendering=function(e,t){void 0===t&&(t=!1);var s=this.actionObj.cellWidth-7;if(t&&(this.resizeEdges.left||this.resizeEdges.right)&&(s=this.actionObj.cellWidth*e.count),!t&&"Horizontal"===this.parent.activeViewOptions.orientation&&0===this.parent.activeViewOptions.group.resources.length){var o=this.yearEvent.isSpannedEvent(e,e[this.parent.eventFields.startTime]);o[this.parent.eventFields.startTime].getTime()===o[this.parent.eventFields.endTime].getTime()&&(o.isSpanned.count=1),s=o.isSpanned.count*this.actionObj.cellWidth}if(!t&&"Vertical"===this.parent.activeViewOptions.orientation&&0!==this.parent.activeViewOptions.group.resources.length){var o=this.yearEvent.isSpannedEvent(e,e[this.parent.eventFields.startTime]);s=o.isSpanned.count*this.actionObj.cellWidth}var l=this.createAppointmentElement(this.actionObj.groupIndex,e[this.parent.eventFields.subject]);l.setAttribute("drag","true"),i.i(n.addClass)([l],r._75),i.i(n.setStyleAttribute)(l,{width:s+"px",border:"0px","pointer-events":"none",position:"absolute",overflow:"hidden",padding:"3px"}),""!==this.actionObj.clone.style.backgroundColor&&i.i(n.setStyleAttribute)(l,{backgroundColor:this.actionObj.clone.style.backgroundColor});var c=a.b(e[this.parent.eventFields.startTime]).getTime(),p="."+r.n+'[data-date="'+c+'"]';this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive&&(p="."+r.n+'[data-date="'+c+'"][data-group-index="'+this.actionObj.groupIndex+'"]');var d=this.parent.element.querySelector(p);if(!i.i(n.isNullOrUndefined)(d)){if(t){var h=d.querySelector("."+r.o),u=this.actionObj.cellHeight*e.count-(h?h.offsetHeight:0)-7;(this.resizeEdges.right||this.resizeEdges.left)&&(u=parseInt(this.actionObj.clone.style.height,10)),i.i(n.setStyleAttribute)(l,{height:u+"px"})}this.renderDynamicElement(d,l,!0),this.actionObj.cloneElement.push(l)}},e.prototype.renderDynamicElement=function(e,t,a){if(void 0===a&&(a=!1),e.querySelector("."+r.C))e.querySelector("."+r.C).appendChild(t);else{var s=i.i(n.createElement)("div",{className:r.C});s.appendChild(t),e.appendChild(s)}},e.prototype.createAppointmentElement=function(e,t){var a=i.i(n.createElement)("div",{className:r.D,innerHTML:t});return this.parent.activeViewOptions.group.resources.length>0&&a.setAttribute("data-group-index",e.toString()),a},e.prototype.dynamicEventsRendering=function(e){var t,s=this,o=this.parent.activeView.renderDates,l=[].slice.call(this.parent.element.querySelectorAll("."+r.n)),c=this.parent.activeViewOptions.workDays;if(this.parent.activeViewOptions.group.resources.length>0){var p=this.parent.virtualScrollModule&&this.parent.virtualScrollModule.isHorizontalScroll?this.parent.resourceBase.renderedResources:this.parent.resourceBase.lastResourceLevel,d=p.filter(function(e){return e.groupIndex===s.actionObj.groupIndex});o=d[0].renderDates;var h="."+r.n+'[data-group-index="'+this.actionObj.groupIndex+'"]';l=[].slice.call(this.parent.element.querySelectorAll(h)),c=d[0].workDays,t=d[0].groupOrder}if(this.monthEvent.dateRender=o,this.monthEvent.getSlotDates(c),this.resizeEdges.left||this.resizeEdges.right)for(var u=[].slice.call(this.parent.element.querySelectorAll("."+r._75)),g=0,v=u;g<v.length;g++){var f=v[g];i.i(n.remove)(f)}for(var m=this.monthEvent.splitEvent(e,o),y=0,T=m;y<T.length;y++){var D=T[y],w=this.parent.getIndexOfDate(o,a.b(D[this.monthEvent.fields.startTime])),b=D.data.count,C=b*this.actionObj.cellWidth-7,S=this.monthEvent.createAppointmentElement(D,this.actionObj.groupIndex,!0);S.setAttribute("drag","true"),i.i(n.addClass)([S],r._75),this.monthEvent.applyResourceColor(S,D,"backgroundColor",t),i.i(n.setStyleAttribute)(S,{width:C+"px",border:"0px","pointer-events":"none"});var O=l[parseInt(w.toString(),10)];O&&i.i(n.isNullOrUndefined)(this.parent.eventDragArea)&&(this.monthEvent.renderElement(O,S,!0),this.actionObj.cloneElement.push(S))}},e.prototype.destroy=function(){!this.parent||this.parent&&this.parent.isDestroyed||(this.actionObj={},this.scrollArgs={},this.resizeEdges={left:!1,right:!1,top:!1,bottom:!1},this.scrollEdges={left:!1,right:!1,top:!1,bottom:!1})},e}()},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(11),r=(i.n(n),function(){function e(e,t,i){this.parent=e,this.initDataManager(t,i)}return e.prototype.initDataManager=function(e,t){this.dataManager=e instanceof n.DataManager?e:new n.DataManager(e),this.query=t instanceof n.Query?t:new n.Query},e.prototype.generateQuery=function(e,t){var i=this.query.clone();if(this.parent&&this.parent.eventSettings.includeFiltersInQuery&&e&&t){var r=this.getStartEndQuery(e,t),a=new n.Predicate(this.parent.eventFields.recurrenceRule,"notequal",null).and(new n.Predicate(this.parent.eventFields.recurrenceRule,"notequal",""));return i.where(r.or(a))}return e&&i.addParams("StartDate",e.toISOString()),t&&i.addParams("EndDate",t.toISOString()),i},e.prototype.getStartEndQuery=function(e,t){var i=this.parent.eventFields;return new n.Predicate(i.startTime,"greaterthanorequal",e).and(new n.Predicate(i.endTime,"greaterthanorequal",e)).and(new n.Predicate(i.startTime,"lessthan",t)).or(new n.Predicate(i.startTime,"lessthanorequal",e).and(new n.Predicate(i.endTime,"greaterthan",e)))},e.prototype.getData=function(e){return this.dataManager.executeQuery(e)},e.prototype.destroy=function(){this.dataManager=null,this.query=null},e}())},function(e,t,i){"use strict";i.d(t,"a",function(){return R});var n=i(0),r=(i.n(n),i(6)),a=(i.n(r),i(30)),s=i(48),o=i(49),l=i(46),c=i(22),p=i(14),d=i(53),h=i(69),u=i(26),g=i(68),v=i(70),f=i(67),m=i(66),y=i(64),T=i(63),D=i(44),w=i(51),b=i(59),C=i(62),S=i(65),O=i(13),E=i(52),x=i(17),V=i(2),A=i(3),I=i(1),M=this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),k=this&&this.__decorate||function(e,t,i,n){var r,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(a<3?r(s):a>3?r(t,i,s):r(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},R=function(e){function t(t,i){return e.call(this,t,i)||this}return M(t,e),t.prototype.render=function(){var e=[],t=[];if(e.push(A._74),this.enableRtl?e.push(A._78):t.push(A._78),this.isAdaptive?e.push(A._79):t.push(A._79),this.allowMultiDrag?e.push(A._80):t.push(A._80),this.cssClass)for(var a=this.cssClass.split(" "),o=0,c=a;o<c.length;o++){var h=c[o];e.push(h)}i.i(n.classList)(this.element,e,t),this.validateDate(),i.i(r.createSpinner)({target:this.element}),this.scrollModule=new s.a(this),this.scrollModule.setWidth(),this.scrollModule.setHeight(),this.renderModule=new v.a(this),this.eventBase=new p.a(this),this.workCellAction=new w.a(this),this.allowKeyboardInteraction&&(this.keyboardInteractionModule=new l.a(this)),this.inlineModule=new d.a(this),this.initializeDataModule(),this.renderTableContainer(),this.activeViewOptions=this.getActiveViewOptions(),this.initializeResources(),this.wireEvents()},t.prototype.renderTableContainer=function(){this.element.querySelector("."+A._53)||this.element.appendChild(this.createElement("div",{className:A._53}))},t.prototype.renderTemplates=function(e){this.isReact?this.renderReactTemplates(e):e&&e()},t.prototype.resetTemplates=function(e){(this.isAngular||this.isReact)&&this.clearTemplate(e)},t.prototype.sanitize=function(e,t){this.enableHtmlSanitizer?t.innerText=n.SanitizeHtmlHelper.sanitize(e):t.innerHTML=e},t.prototype.initializeResources=function(e){void 0===e&&(e=!1),this.resources.length>0?(this.resourceBase=new E.a(this),this.resourceBase.bindResourcesData(e)):(this.resourceBase=null,this.resourceCollection=[],this.renderElements(e))},t.prototype.renderElements=function(e){if(e)return this.initializeView(this.currentView),void this.eventWindow.refresh();this.destroyHeaderModule(),this.showHeaderBar&&(this.headerModule=new a.a(this)),this.renderTableContainer(),(n.Browser.isDevice||n.Browser.isTouch)&&(this.scheduleTouchModule=new o.a(this)),this.initializeView(this.currentView),this.destroyPopups(),this.isPrinting||this.initializePopups()},t.prototype.validateDate=function(e){void 0===e&&(e=this.selectedDate);var t=e instanceof Date?new Date(e.getTime()):new Date(e),i=this.minDate instanceof Date?new Date(this.minDate.getTime()):new Date(this.minDate),n=this.maxDate instanceof Date?new Date(this.maxDate.getTime()):new Date(this.maxDate);if(!(i<=n))throw Error("minDate should be equal or less than maxDate");t<i&&(t=i),t>n&&(t=n),this.setProperties({selectedDate:new Date(""+t),minDate:new Date(""+i),maxDate:new Date(""+n)},!0),this.eventWindow&&this.eventWindow.updateMinMaxDateToEditor()},t.prototype.getViewIndex=function(e){for(var t=0;t<this.viewCollections.length;t++){if(this.viewCollections[parseInt(t.toString(),10)].option===e)return t}return-1},t.prototype.setViewOptions=function(e){void 0===e&&(e=!1),this.viewOptions={},this.viewCollections=[];var t,r,a=this.viewIndex,s=0;this.viewIndex=-1;for(var o=0,l=this.views;o<l.length;o++){var c=l[o],p="string"!=typeof c;"string"==typeof c?(t=c,this.currentView===t&&(r=t,this.viewIndex=s)):(t=c.option,c.isSelected&&(r=t,this.viewIndex=s));var d=i.i(n.extend)({option:t},p?c:{}),h=t.charAt(0).toLowerCase()+t.slice(1);d.cellHeaderTemplateName=d.cellHeaderTemplate?d.option:"",d.dateHeaderTemplateName=d.dateHeaderTemplate?d.option:"",d.dateRangeTemplateName=d.dateRangeTemplate?d.option:"",d.cellTemplateName=d.cellTemplate?d.option:"",d.dayHeaderTemplateName=d.dayHeaderTemplate?d.option:"",d.monthHeaderTemplateName=d.monthHeaderTemplate?d.option:"",d.resourceHeaderTemplateName=d.resourceHeaderTemplate?d.option:"",d.headerIndentTemplateName=d.headerIndentTemplate?d.option:"",d.eventTemplateName=d.eventTemplate?d.option:"",i.i(n.isNullOrUndefined)(d.firstDayOfWeek)||0!==d.firstDayOfWeek||delete d.firstDayOfWeek,i.i(n.isNullOrUndefined)(d.interval)||1!==d.interval||delete d.interval,this.viewCollections.push(d),i.i(n.isNullOrUndefined)(this.viewOptions[""+h])?this.viewOptions[""+h]=[d]:this.viewOptions[""+h].push(d),s++}if(!e&&r&&this.setProperties({currentView:r},!0),-1===this.viewIndex){var u=this.getViewIndex(this.currentView);this.viewIndex="string"==typeof this.views[0]||i.i(n.isNullOrUndefined)(a)||-1===a?-1===u?0:u:a}},t.prototype.getActiveViewOptions=function(){var e={enable:this.timeScale.enable,interval:this.timeScale.interval,slotCount:this.timeScale.slotCount,majorSlotTemplate:this.timeScale.majorSlotTemplate,minorSlotTemplate:this.timeScale.minorSlotTemplate},t=this.viewCollections[this.viewIndex].option.indexOf("Year")>-1,r={byDate:!t&&this.group.byDate,byGroupID:this.group.byGroupID,allowGroupEdit:this.group.allowGroupEdit,resources:this.group.resources,headerTooltipTemplate:this.group.headerTooltipTemplate,enableCompactView:this.group.enableCompactView,hideNonWorkingDays:["Day","Week","WorkWeek","Month"].indexOf(this.currentView)>-1&&this.group.hideNonWorkingDays},a=this.viewCollections[this.viewIndex].workDays?[]:this.workDays,s={dateFormat:this.dateFormat,endHour:this.endHour,isSelected:!1,option:null,readonly:this.readonly,startHour:this.startHour,allowVirtualScrolling:!1,cellHeaderTemplate:this.cellHeaderTemplate,dayHeaderTemplate:this.dayHeaderTemplate,monthHeaderTemplate:this.monthHeaderTemplate,cellTemplate:this.cellTemplate,eventTemplate:this.eventSettings.template,dateHeaderTemplate:this.dateHeaderTemplate,dateRangeTemplate:this.dateRangeTemplate,resourceHeaderTemplate:this.resourceHeaderTemplate,headerIndentTemplate:this.headerIndentTemplate,firstMonthOfYear:this.firstMonthOfYear,firstDayOfWeek:this.firstDayOfWeek,workDays:a,monthsCount:this.monthsCount,showWeekend:this.showWeekend,showWeekNumber:this.showWeekNumber,displayName:null,interval:1,timeScale:e,timeFormat:this.internalTimeFormat,group:r,headerRows:this.headerRows,orientation:"Horizontal",numberOfWeeks:0,displayDate:null},o=this.viewCollections[this.viewIndex],l=i.i(n.extend)(s,o,void 0,!0);return 0!==this.firstDayOfWeek&&o.firstDayOfWeek&&this.firstDayOfWeek!==o.firstDayOfWeek&&(l.firstDayOfWeek=this.firstDayOfWeek),l.displayDate&&(l.displayDate=l.displayDate instanceof Date?new Date(l.displayDate.getTime()):new Date(l.displayDate)),l},t.prototype.initializeDataModule=function(){this.eventFields={id:this.eventSettings.fields.id,isBlock:this.eventSettings.fields.isBlock,subject:this.eventSettings.fields.subject.name,startTime:this.eventSettings.fields.startTime.name,endTime:this.eventSettings.fields.endTime.name,startTimezone:this.eventSettings.fields.startTimezone.name,endTimezone:this.eventSettings.fields.endTimezone.name,location:this.eventSettings.fields.location.name,description:this.eventSettings.fields.description.name,isAllDay:this.eventSettings.fields.isAllDay.name,recurrenceID:this.eventSettings.fields.recurrenceID.name,recurrenceRule:this.eventSettings.fields.recurrenceRule.name,recurrenceException:this.eventSettings.fields.recurrenceException.name,isReadonly:this.eventSettings.fields.isReadonly,followingID:this.eventSettings.fields.followingID},this.setEditorTitles(),this.dataModule=new c.a(this,this.eventSettings.dataSource,this.eventSettings.query),this.crudModule=new D.a(this)},t.prototype.setEditorTitles=function(){this.editorTitles={subject:this.eventSettings.fields.subject.title||this.localeObj.getConstant("title"),startTime:this.eventSettings.fields.startTime.title||this.localeObj.getConstant("start"),endTime:this.eventSettings.fields.endTime.title||this.localeObj.getConstant("end"),isAllDay:this.eventSettings.fields.isAllDay.title||this.localeObj.getConstant("allDay"),startTimezone:this.eventSettings.fields.startTimezone.title||this.localeObj.getConstant("startTimezone"),endTimezone:this.eventSettings.fields.endTimezone.title||this.localeObj.getConstant("endTimezone"),location:this.eventSettings.fields.location.title||this.localeObj.getConstant("location"),description:this.eventSettings.fields.description.title||this.localeObj.getConstant("description"),recurrenceRule:this.eventSettings.fields.recurrenceRule.title||this.localeObj.getConstant("repeat")}},t.prototype.initializeView=function(e){this.showSpinner(),this.activeViewOptions=this.getActiveViewOptions(),this.resourceBase&&this.resourceBase.setResourceCollection(),this.initializeTemplates(),this.renderModule.render(e)},t.prototype.initializeTemplates=function(){this.cellHeaderTemplateFn=this.templateParser(this.activeViewOptions.cellHeaderTemplate),this.dayHeaderTemplateFn=this.templateParser(this.activeViewOptions.dayHeaderTemplate),this.monthHeaderTemplateFn=this.templateParser(this.activeViewOptions.monthHeaderTemplate),this.cellTemplateFn=this.templateParser(this.activeViewOptions.cellTemplate),this.dateHeaderTemplateFn=this.templateParser(this.activeViewOptions.dateHeaderTemplate),this.dateRangeTemplateFn=this.templateParser(this.activeViewOptions.dateRangeTemplate),this.majorSlotTemplateFn=this.templateParser(this.activeViewOptions.timeScale.majorSlotTemplate),this.minorSlotTemplateFn=this.templateParser(this.activeViewOptions.timeScale.minorSlotTemplate),this.appointmentTemplateFn=this.templateParser(this.activeViewOptions.eventTemplate),this.resourceHeaderTemplateFn=this.templateParser(this.activeViewOptions.resourceHeaderTemplate),this.headerIndentTemplateFn=this.templateParser(this.activeViewOptions.headerIndentTemplate),this.headerTooltipTemplateFn=this.templateParser(this.activeViewOptions.group.headerTooltipTemplate),this.eventTooltipTemplateFn=this.templateParser(this.eventSettings.tooltipTemplate),this.editorTemplateFn=this.templateParser(this.editorTemplate),this.quickInfoTemplatesHeaderFn=this.templateParser(this.quickInfoTemplates.header),this.quickInfoTemplatesContentFn=this.templateParser(this.quickInfoTemplates.content),this.quickInfoTemplatesFooterFn=this.templateParser(this.quickInfoTemplates.footer)},t.prototype.initializePopups=function(){this.eventWindow=new g.a(this),this.quickPopup=new h.a(this)},t.prototype.getDayNames=function(e){var t,r=[],a="";"en"===this.locale||"en-US"===this.locale?(a="days.stand-alone.",t=i.i(n.getValue)(a+e,i.i(n.getDefaultDateObject)(this.getCalendarMode()))):(a="main."+this.locale+".dates.calendars."+this.getCalendarMode()+".days.format."+e,t=i.i(n.getValue)(a,n.cldrData));for(var s=0,o=Object.keys(t);s<o.length;s++){var l=o[s];r.push(i.i(n.getValue)(l,t))}return r},t.prototype.setCldrTimeFormat=function(){if(!i.i(n.isNullOrUndefined)(this.timeFormat))return void(this.internalTimeFormat=this.timeFormat);"en"===this.locale||"en-US"===this.locale?this.internalTimeFormat=i.i(n.getValue)("timeFormats.short",i.i(n.getDefaultDateObject)(this.getCalendarMode())):this.internalTimeFormat=i.i(n.getValue)("main."+this.locale+".dates.calendars."+this.getCalendarMode()+".timeFormats.short",n.cldrData)},t.prototype.getCalendarMode=function(){return this.calendarMode.toLowerCase()},t.prototype.getTimeString=function(e){return this.globalize.formatDate(e,{format:this.activeViewOptions.timeFormat,type:"time",calendar:this.getCalendarMode()}).toLocaleUpperCase()},t.prototype.getDateTime=function(e){return e instanceof Date?new Date(e.getTime()):new Date(e)},t.prototype.setCalendarMode=function(){"Islamic"===this.calendarMode?this.calendarUtil=new O.b:this.calendarUtil=new O.a},t.prototype.changeView=function(e,t,r,a){var s=this;if(i.i(n.isNullOrUndefined)(a)&&(a=this.getViewIndex(e)),!(!r&&a===this.viewIndex&&this.currentView===e||a<0)){var o=this.activeViewOptions?this.activeViewOptions.option:this.currentView,l={requestType:"viewNavigate",cancel:!1,event:t};this.trigger(V.f,l,function(i){if(i.cancel)s.currentView=o;else{var n={action:"view",cancel:!1,currentDate:s.selectedDate,previousView:o,currentView:e,viewIndex:a};s.trigger(V.i,n,function(i){if(i.cancel)s.currentView=o;else{var n=["Day","Week","WorkWeek"].indexOf(e)>-1&&["Day","Week","WorkWeek"].indexOf(o)<0;s.uiStateValues.isInitial=n||e.indexOf("Timeline")>-1||e.indexOf("Year")>-1,s.uiStateValues.top=e.indexOf("Timeline")>-1&&o.indexOf("Timeline")<0?0:s.uiStateValues.top,s.viewIndex=i.viewIndex,s.setProperties({currentView:e},!0),s.headerModule&&(s.headerModule.updateActiveView(),s.headerModule.setCalendarDate(s.selectedDate),s.headerModule.setCalendarView()),s.initializeView(s.currentView),s.animateLayout(),l={requestType:"viewNavigate",cancel:!1,event:t},s.trigger(V.g,l)}})}})}},t.prototype.changeDate=function(e,t){var i=this,n={requestType:"dateNavigate",cancel:!1,event:t};this.trigger(V.f,n,function(r){if(!r.cancel){var a={action:"date",cancel:!1,previousDate:i.selectedDate,currentDate:e};i.trigger(V.i,a,function(e){e.cancel||(i.uiStateValues.isInitial=i.activeView.isTimelineView()&&"TimelineYear"!==i.currentView,i.validateDate(e.currentDate),i.headerModule&&i.headerModule.setCalendarDate(e.currentDate),"MonthAgenda"===i.currentView&&i.monthAgendaModule&&(i.monthAgendaModule.monthAgendaDate=new Date(""+i.selectedDate)),i.initializeView(i.currentView),i.animateLayout(),n={requestType:"dateNavigate",cancel:!1,event:t},i.trigger(V.g,n))})}})},t.prototype.isMinMaxDate=function(e){return void 0===e&&(e=this.selectedDate),e.getTime()>=this.minDate.getTime()&&e.getTime()<=this.maxDate.getTime()},t.prototype.isSelectedDate=function(e){return e.setHours(0,0,0,0)===new Date(""+this.selectedDate).setHours(0,0,0,0)},t.prototype.getCurrentTime=function(e){return void 0===e&&(e=new Date),this.timezone?this.tzModule.convert(e,this.tzModule.getLocalTimezoneName(),this.timezone):e},t.prototype.getNavigateView=function(){return this.activeView.isTimelineView()?"TimelineMonth"===this.currentView||"TimelineYear"===this.currentView?"TimelineDay":"Agenda":"Day"},t.prototype.animateLayout=function(){this.activeView.element&&new n.Animation({duration:600,name:"FadeIn",timingFunction:"easeIn"}).animate(this.activeView.element)},t.prototype.requiredModules=function(){var e=[];this.setViewOptions(!0);for(var t=0,i=Object.keys(this.viewOptions);t<i.length;t++){var n=i[t];n="timelineDay"===n||"timelineWeek"===n||"timelineWorkWeek"===n?"timelineViews":n,e.push({member:n,args:[this]})}return this.allowDragAndDrop&&e.push({member:"dragAndDrop",args:[this]}),this.allowResizing&&e.push({member:"resize",args:[this]}),e.push({member:"excelExport",args:[this]}),e.push({member:"iCalendarExport",args:[this]}),e.push({member:"iCalendarImport",args:[this]}),e.push({member:"print",args:[this]}),e},t.prototype.preRender=function(){this.isAdaptive=n.Browser.isDevice||I.H(),this.globalize=new n.Internationalization(this.locale),this.tzModule=new x.a,(this&&i.i(n.isNullOrUndefined)(this.uiStateValues)||!this.enablePersistence)&&(this.uiStateValues={expand:!1,isInitial:!0,left:0,top:0,isGroupAdaptive:!1,isIgnoreOccurrence:!1,groupIndex:0,action:!1,isBlock:!1,isCustomMonth:!0,isPreventTimezone:!1}),this.currentTimezoneDate=this.getCurrentTime(),this.activeCellsData={startTime:new Date(this.currentTimezoneDate),endTime:new Date(this.currentTimezoneDate),isAllDay:!1},this.activeEventData={event:void 0,element:void 0},this.getDefaultLocale(),this.localeObj=new n.L10n(this.getModuleName(),this.defaultLocale,this.locale),this.setCldrTimeFormat(),this.setCalendarMode(),this.eventsData=[],this.eventsProcessed=[],this.blockData=[],this.blockProcessed=[],this.resourceCollection=[],this.currentAction=null,this.selectedElements=[],this.setViewOptions()},t.prototype.getDefaultLocale=function(){this.defaultLocale={day:"Day",week:"Week",workWeek:"Work Week",month:"Month",year:"Year",agenda:"Agenda",weekAgenda:"Week Agenda",workWeekAgenda:"Work Week Agenda",monthAgenda:"Month Agenda",today:"Today",noEvents:"No events",emptyContainer:"There are no events scheduled on this day.",allDay:"All day",start:"Start",end:"End",more:"more",close:"Close",cancel:"Cancel",noTitle:"(No Title)",delete:"Delete",deleteEvent:"Delete Event",deleteMultipleEvent:"Delete Multiple Events",selectedItems:"Items selected",deleteSeries:"Entire Series",edit:"Edit",editSeries:"Entire Series",editEvent:"Edit Event",createEvent:"Create",subject:"Subject",addTitle:"Add title",moreDetails:"More Details",save:"Save",editContent:"How would you like to change the appointment in the series?",deleteContent:"Are you sure you want to delete this event?",deleteMultipleContent:"Are you sure you want to delete the selected events?",newEvent:"New Event",title:"Title",location:"Location",description:"Description",timezone:"Timezone",startTimezone:"Start Timezone",endTimezone:"End Timezone",repeat:"Repeat",saveButton:"Save",cancelButton:"Cancel",deleteButton:"Delete",recurrence:"Recurrence",wrongPattern:"The recurrence pattern is not valid.",seriesChangeAlert:"Do you want to cancel the changes made to specific instances of this series and match it to the whole series again?",createError:"The duration of the event must be shorter than how frequently it occurs. Shorten the duration, or change the recurrence pattern in the recurrence event editor.",sameDayAlert:"Two occurrences of the same event cannot occur on the same day.",occurenceAlert:"Cannot reschedule an occurrence of the recurring appointment if it skips over a later occurrence of the same appointment.",editRecurrence:"Edit Recurrence",repeats:"Repeats",alert:"Alert",startEndError:"The selected end date occurs before the start date.",invalidDateError:"The entered date value is invalid.",blockAlert:"Events cannot be scheduled within the blocked time range.",ok:"Ok",yes:"Yes",no:"No",occurrence:"Occurrence",series:"Series",previous:"Previous",next:"Next",timelineDay:"Timeline Day",timelineWeek:"Timeline Week",timelineWorkWeek:"Timeline Work Week",timelineMonth:"Timeline Month",timelineYear:"Timeline Year",editFollowingEvent:"Following Events",deleteTitle:"Delete Event",editTitle:"Edit Event",beginFrom:"Begin From",endAt:"Ends At",expandAllDaySection:"Expand-all-day-section",collapseAllDaySection:"Collapse-all-day-section",searchTimezone:"Search Timezone",noRecords:"No records found"}},t.prototype.wireEvents=function(){n.EventHandler.add(window,"resize",this.onScheduleResize,this),n.EventHandler.add(window,"orientationchange",this.onScheduleResize,this),n.EventHandler.add(document,n.Browser.touchStartEvent,this.onDocumentClick,this)},t.prototype.removeSelectedClass=function(){for(var e=this.getSelectedCells(),t=0,r=e;t<r.length;t++){var a=r[t];"Year"!==this.currentView&&a.setAttribute("aria-selected","false"),a.removeAttribute("tabindex")}i.i(n.removeClass)(e,A._37),this.keyboardInteractionModule&&this.keyboardInteractionModule.selectedCells.length>0&&(this.keyboardInteractionModule.selectedCells=[])},t.prototype.addSelectedClass=function(e,t,r){if("Year"!==this.currentView)for(var a=0,s=e;a<s.length;a++){var o=s[a];o.setAttribute("aria-selected","true")}i.i(n.addClass)(e,A._37),t&&(t.setAttribute("tabindex","0"),t.focus({preventScroll:r||!1}))},t.prototype.selectCell=function(e){this.removeSelectedClass(),this.addSelectedClass([e],e)},t.prototype.getAllDayRow=function(){return this.element.querySelector("."+A._27)},t.prototype.getContentTable=function(){return this.activeView.element.querySelector("."+A.h+" tbody")},t.prototype.getTableRows=function(){return[].slice.call(this.element.querySelectorAll("."+A.h+" tbody tr:not(."+A._67+")"))},t.prototype.getWorkCellElements=function(){return[].slice.call(this.element.querySelectorAll("."+A.n))},t.prototype.getIndexOfDate=function(e,t){return e.map(Number).indexOf(+t)},t.prototype.isAllDayCell=function(e){return!(!(["Month","TimelineMonth","TimelineYear","MonthAgenda"].indexOf(this.currentView)>-1||e.classList.contains(A._4)||e.classList.contains(A.e))&&this.activeViewOptions.timeScale.enable)||!!(this.activeView.isTimelineView()&&this.activeViewOptions.headerRows.length>0&&"Hour"!==this.activeViewOptions.headerRows.slice(-1)[0].option)},t.prototype.getDateFromElement=function(e){var t;if(i.i(n.isNullOrUndefined)(e)||(t=e.getAttribute("data-date")),!i.i(n.isNullOrUndefined)(t)){var r=parseInt(t,10);return new Date(r)}},t.prototype.getTargetElement=function(e,t,i){var n,r=document.elementFromPoint(t,i);return r&&(n=r.closest(e)),n?[n]:null},t.prototype.getCellHeaderTemplate=function(){return this.cellHeaderTemplateFn},t.prototype.getDayHeaderTemplate=function(){return this.dayHeaderTemplateFn},t.prototype.getMonthHeaderTemplate=function(){return this.monthHeaderTemplateFn},t.prototype.getCellTemplate=function(){return this.cellTemplateFn},t.prototype.getDateHeaderTemplate=function(){return this.dateHeaderTemplateFn},t.prototype.getDateRangeTemplate=function(){return this.dateRangeTemplateFn},t.prototype.getMajorSlotTemplate=function(){return this.majorSlotTemplateFn},t.prototype.getMinorSlotTemplate=function(){return this.minorSlotTemplateFn},t.prototype.getAppointmentTemplate=function(){return this.appointmentTemplateFn},t.prototype.getEventTooltipTemplate=function(){return this.eventTooltipTemplateFn},t.prototype.getHeaderTooltipTemplate=function(){return this.headerTooltipTemplateFn},t.prototype.getEditorTemplate=function(){return this.editorTemplateFn},t.prototype.getQuickInfoTemplatesHeader=function(){return this.quickInfoTemplatesHeaderFn},t.prototype.getQuickInfoTemplatesContent=function(){return this.quickInfoTemplatesContentFn},t.prototype.getQuickInfoTemplatesFooter=function(){return this.quickInfoTemplatesFooterFn},t.prototype.getResourceHeaderTemplate=function(){return this.resourceHeaderTemplateFn},t.prototype.getHeaderIndentTemplate=function(){return this.headerIndentTemplateFn},t.prototype.getCssProperties=function(){return{border:this.enableRtl?"borderLeftWidth":"borderRightWidth",padding:this.enableRtl?"paddingLeft":"paddingRight",rtlBorder:this.enableRtl?"borderRightWidth":"borderLeftWidth",rtlPadding:this.enableRtl?"paddingRight":"paddingLeft"}},t.prototype.removeNewEventElement=function(){var e=this.element.querySelector("."+A._81);i.i(n.isNullOrUndefined)(e)||i.i(n.remove)(e)},t.prototype.getStartEndTime=function(e){if(!i.i(n.isNullOrUndefined)(e)&&""!==e){var t=I.b(new Date(this.currentTimezoneDate)||this.getCurrentTime()),r=e.split(":");return 2===r.length&&t.setHours(parseInt(r[0],10),parseInt(r[1],10),0),t}return null},t.prototype.onDocumentClick=function(e){this.notify(V.I,{event:e})},t.prototype.onScheduleResize=function(){i.i(n.isNullOrUndefined)(this.activeView)||(this.isAdaptive||I.G())&&document.activeElement&&document.activeElement.classList.contains(A.H)||(this.activeViewOptions.timeScale.enable&&this.activeView&&this.activeView.highlightCurrentTime(),this.quickPopup&&this.quickPopup.onClosePopup(),"Month"===this.currentView||"Agenda"!==this.currentView&&"MonthAgenda"!==this.currentView&&!this.activeViewOptions.timeScale.enable||this.activeView.isTimelineView()?(this.activeView.resetColWidth(),this.notify(V.G,{cssProperties:this.getCssProperties(),isPreventScrollUpdate:!0}),this.refreshEvents(!1)):this.notify(V.D,{}))},t.prototype.templateParser=function(e){if(e)try{return document.querySelectorAll(e).length?i.i(n.compile)(document.querySelector(e).innerHTML.trim()):i.i(n.compile)(e)}catch(t){return i.i(n.compile)(e)}},t.prototype.getSelectedCells=function(){return[].slice.call(this.element.querySelectorAll("."+A._37))},t.prototype.getAnnouncementString=function(e,t){var i;if(this.quickPopup&&this.activeViewOptions.group.resources.length>0){i=this.quickPopup.getResourceText({event:e},"event")+'"s event - '}var n=t||e[this.eventFields.subject]||this.eventSettings.fields.subject.default,r=this.globalize.formatDate(e[this.eventFields.startTime],{type:"dateTime",skeleton:"full",calendar:this.getCalendarMode()}),a=this.globalize.formatDate(e[this.eventFields.endTime],{type:"dateTime",skeleton:"full",calendar:this.getCalendarMode()}),s=n+" "+this.localeObj.getConstant("beginFrom")+" "+r+" "+this.localeObj.getConstant("endAt")+" "+a;return i&&(s=i+" "+s),s},t.prototype.boundaryValidation=function(e,t){var i={left:!1,right:!1,top:!1,bottom:!1},n=this.element.querySelector("."+A.g).getBoundingClientRect();return e<n.top+30+window.pageYOffset&&e>n.top+window.pageYOffset&&(i.top=!0),e>n.bottom-30+window.pageYOffset&&e<n.bottom+window.pageYOffset&&(i.bottom=!0),t<n.left+30+window.pageXOffset&&t>n.left+window.pageXOffset&&(i.left=!0),t>n.right-30+window.pageXOffset&&t<n.right+window.pageXOffset&&(i.right=!0),i},t.prototype.getWeekNumberContent=function(e){var t;if("FirstDay"===this.weekRule){var i=I.m(e.slice(-1)[0],this.firstDayOfWeek);t=this.globalize.formatNumber(I.p(i))}else if("FirstFourDayWeek"===this.weekRule){var n=I.l(e.slice(-1)[0],this.firstDayOfWeek),r=I.m(e.slice(-1)[0],this.firstDayOfWeek),a=I.q(n,r);t=this.globalize.formatNumber(I.p(a))}else if("FirstFullWeek"===this.weekRule){var n=I.l(e.slice(-1)[0],this.firstDayOfWeek);t=this.globalize.formatNumber(I.p(n))}return t},t.prototype.renderHeaderIndentTemplate=function(e,t){if(this.activeViewOptions.headerIndentTemplate){var r=this.element.id+"_",a=this.activeViewOptions.headerIndentTemplateName,s=r+a+"headerIndentTemplate",o=[].slice.call(this.getHeaderIndentTemplate()(e,this,"headerIndentTemplate",s,!1));i.i(n.append)(o,t)}},t.prototype.isSpecificResourceEvents=function(){return this.activeViewOptions.group.resources.length>0&&!this.activeViewOptions.group.allowGroupEdit&&!this.rowAutoHeight&&!this.virtualScrollModule&&this.activeViewOptions.group.byGroupID},t.prototype.unWireEvents=function(){n.EventHandler.remove(window,"resize",this.onScheduleResize),n.EventHandler.remove(window,"orientationchange",this.onScheduleResize),n.EventHandler.remove(document,n.Browser.touchStartEvent,this.onDocumentClick)},t.prototype.getModuleName=function(){return"schedule"},t.prototype.getPersistData=function(){return this.addOnPersist(["currentView","selectedDate","scrollTop","scrollLeft"])},t.prototype.onPropertyChanged=function(e,t){if(!this.isReact||!i.i(n.isNullOrUndefined)(this.activeView)){for(var r={isRefresh:!1,isResource:!1,isDate:!1,isView:!1,isLayout:!1,isDataManager:!1},s=0,o=Object.keys(e);s<o.length;s++){var l=o[s];switch(l){case"views":this.setViewOptions(),this.headerModule&&this.headerModule.updateItems(),r.isView=!0;break;case"currentView":r.isView=!0;break;case"minDate":case"maxDate":case"selectedDate":r.isDate=!0;break;case"dateFormat":this.activeViewOptions=this.getActiveViewOptions(),this.headerModule&&this.headerModule.updateDateRange();break;case"showHeaderBar":this.destroyHeaderModule(),e.showHeaderBar&&(this.headerModule=new a.a(this),this.headerModule.updateDateRange()),this.notify(V.G,{cssProperties:this.getCssProperties()}),this.activeView.isTimelineView()&&this.refreshEvents(!1);break;case"workDays":JSON.stringify(t.workDays)!==JSON.stringify(e.workDays)&&(r.isLayout=!0);break;case"showWeekend":case"startHour":case"endHour":case"workHours":case"readonly":case"headerRows":case"showWeekNumber":case"rowAutoHeight":r.isLayout=!0;break;case"locale":case"calendarMode":this.globalize=new n.Internationalization(this.locale),this.localeObj=new n.L10n(this.getModuleName(),this.defaultLocale,this.locale),this.setCldrTimeFormat(),this.setCalendarMode(),r.isRefresh=!0;break;case"firstDayOfWeek":this.activeViewOptions.firstDayOfWeek=e.firstDayOfWeek,this.eventWindow&&this.eventWindow.refreshRecurrenceEditor(),r.isLayout=!0;break;case"showTimeIndicator":this.activeViewOptions.timeScale.enable&&this.activeView&&this.activeView.highlightCurrentTime();break;case"cellHeaderTemplate":this.activeViewOptions.cellHeaderTemplate=e.cellHeaderTemplate,this.cellHeaderTemplateFn=this.templateParser(this.activeViewOptions.cellHeaderTemplate),r.isLayout=!0;break;case"cellTemplate":this.activeViewOptions.cellTemplate=e.cellTemplate,this.cellTemplateFn=this.templateParser(this.activeViewOptions.cellTemplate),r.isLayout=!0;break;case"dateHeaderTemplate":this.activeViewOptions.dateHeaderTemplate=e.dateHeaderTemplate,this.dateHeaderTemplateFn=this.templateParser(this.activeViewOptions.dateHeaderTemplate),r.isLayout=!0;break;case"dateRangeTemplate":this.activeViewOptions.dateRangeTemplate=e.dateRangeTemplate,this.dateRangeTemplateFn=this.templateParser(this.activeViewOptions.dateRangeTemplate),this.headerModule&&this.headerModule.updateDateRange();break;case"dayHeaderTemplate":this.activeViewOptions.dayHeaderTemplate=e.dayHeaderTemplate,this.dayHeaderTemplateFn=this.templateParser(this.activeViewOptions.dayHeaderTemplate),r.isLayout=!0;break;case"monthHeaderTemplate":this.activeViewOptions.monthHeaderTemplate=e.monthHeaderTemplate,this.monthHeaderTemplateFn=this.templateParser(this.activeViewOptions.monthHeaderTemplate),r.isLayout=!0;break;case"resourceHeaderTemplate":this.activeViewOptions.resourceHeaderTemplate=e.resourceHeaderTemplate,this.resourceHeaderTemplateFn=this.templateParser(this.activeViewOptions.resourceHeaderTemplate),r.isLayout=!0;break;case"timezone":this.eventBase.timezonePropertyChange(t.timezone),this.headerModule.setCalendarTimezone();break;case"enableRtl":this.setRtlClass(),r.isRefresh=!0;break;default:this.extendedPropertyChange(l,e,t,r)}}this.propertyChangeAction(r)}},t.prototype.propertyChangeAction=function(e){e.isRefresh?this.refresh():e.isResource?this.initializeResources(!0):e.isView?this.changeView(this.currentView,null,!0):e.isDate?this.changeDate(this.selectedDate):e.isLayout?(this.activeCellsData=null,this.initializeView(this.currentView)):e.isDataManager&&this.crudModule&&(this.dragAndDropModule&&(this.dragAndDropModule.actionObj.action="",i.i(n.removeClass)([this.element],A._73)),this.crudModule.refreshDataManager())},t.prototype.allDayRowScrollUpdate=function(){var e=this.element.querySelector("."+A.d),t=this.element.querySelector("."+A._27);if("auto"!==this.height&&this.enableAllDayScroll)e.classList.contains(A._32)&&i.i(n.removeClass)([e],A._32),this.eventBase.allDayExpandScroll(e);else if(i.i(n.addClass)([e],A._32),e.classList.contains(A._5)&&i.i(n.removeClass)([e],A._5),this.uiStateValues.expand){var r=[].slice.call(this.element.querySelectorAll("."+A._4));r[0].style.height=t.style.height?t.style.height:r[1].style.height}this.uiStateValues.expand||(t.style.height="")},t.prototype.extendedPropertyChange=function(e,t,r,s){switch(e){case"width":case"height":case"enableAllDayScroll":["Day","Week","WorkWeek"].indexOf(this.currentView)>-1&&this.allDayRowScrollUpdate(),this.notify(V.H,{module:"scroll",properties:{width:t.width,height:t.height}});break;case"cssClass":r.cssClass&&i.i(n.removeClass)([this.element],r.cssClass.split(" ")),t.cssClass&&i.i(n.addClass)([this.element],t.cssClass.split(" "));break;case"hideEmptyAgendaDays":case"agendaDaysCount":this.activeViewOptions=this.getActiveViewOptions(),s.isView=!0;break;case"eventSettings":this.onEventSettingsPropertyChanged(t.eventSettings,r.eventSettings,s);break;case"allowKeyboardInteraction":this.keyboardInteractionModule&&(this.keyboardInteractionModule.destroy(),this.keyboardInteractionModule=null),t.allowKeyboardInteraction&&(this.keyboardInteractionModule=new l.a(this));break;case"timezoneDataSource":this.eventWindow&&this.eventWindow.refresh();break;case"editorTemplate":i.i(n.isNullOrUndefined)(this.editorTemplate)||(this.editorTemplateFn=this.templateParser(this.editorTemplate)),this.eventWindow&&this.eventWindow.setDialogContent();break;case"quickInfoTemplates":this.quickInfoTemplates.header&&(this.quickInfoTemplatesHeaderFn=this.templateParser(this.quickInfoTemplates.header)),this.quickInfoTemplates.content&&(this.quickInfoTemplatesContentFn=this.templateParser(this.quickInfoTemplates.content)),this.quickInfoTemplates.footer&&(this.quickInfoTemplatesFooterFn=this.templateParser(this.quickInfoTemplates.footer));break;case"group":this.onGroupSettingsPropertyChanged(t.group,r.group,s);break;case"resources":s.isResource=!0;break;case"timeScale":this.activeViewOptions.timeScale.interval=t.timeScale.interval||this.activeViewOptions.timeScale.interval,this.activeViewOptions.timeScale.slotCount=t.timeScale.slotCount||this.activeViewOptions.timeScale.slotCount,this.eventWindow&&this.eventWindow.refreshDateTimePicker(),s.isLayout=!0;break;case"allowDragAndDrop":case"allowResizing":case"eventDragArea":this.refreshEvents(!1);break;case"weekRule":s.isLayout=!0;break;case"firstMonthOfYear":this.activeViewOptions.firstMonthOfYear=t.firstMonthOfYear,this.viewIndex=this.activeView.viewIndex,s.isLayout=!0;break;case"monthsCount":this.activeViewOptions.monthsCount=t.monthsCount,this.viewIndex=this.activeView.viewIndex,s.isLayout=!0;break;case"timeFormat":this.internalTimeFormat=t.timeFormat||this.activeViewOptions.timeFormat,this.eventWindow&&this.eventWindow.refreshDateTimePicker(),s.isLayout=!0;break;case"enableAdaptiveUI":this.showHeaderBar&&this.headerModule&&(this.destroyHeaderModule(),this.headerModule=new a.a(this),this.headerModule.updateDateRange()),s.isLayout=!0;break;case"headerIndentTemplate":this.activeViewOptions.headerIndentTemplate=t.headerIndentTemplate,this.headerIndentTemplateFn=this.templateParser(this.activeViewOptions.headerIndentTemplate),s.isLayout=!0}},t.prototype.setRtlClass=function(){this.enableRtl?i.i(n.addClass)([this.element],"e-rtl"):i.i(n.removeClass)([this.element],"e-rtl")},t.prototype.onGroupSettingsPropertyChanged=function(e,t,i){for(var n=0,r=Object.keys(e);n<r.length;n++){"headerTooltipTemplate"===r[n]?this.headerTooltipTemplateFn=this.templateParser(e.headerTooltipTemplate):(i.isLayout=!0,this.eventWindow&&this.eventWindow.refresh())}},t.prototype.onEventSettingsPropertyChanged=function(e,t,i){for(var n=0,r=Object.keys(e);n<r.length;n++){switch(r[n]){case"dataSource":case"query":case"fields":case"includeFiltersInQuery":this.initializeDataModule(),i.isDataManager=!0;break;case"template":this.activeViewOptions.eventTemplate=e.template,this.appointmentTemplateFn=this.templateParser(this.activeViewOptions.eventTemplate),i.isDataManager=!0;break;case"enableTooltip":this.eventTooltip&&(this.eventTooltip.destroy(),this.eventTooltip=null),e.enableTooltip&&(this.eventTooltip=new u.a(this));break;case"tooltipTemplate":this.eventTooltipTemplateFn=this.templateParser(this.eventSettings.tooltipTemplate);break;case"resourceColorField":this.resourceBase&&this.resourceBase.setResourceCollection(),i.isDataManager=!0;break;case"editFollowingEvents":this.quickPopup&&this.quickPopup.refreshQuickDialog();break;case"allowAdding":case"allowEditing":case"allowDeleting":this.showHeaderBar&&this.headerModule&&this.headerModule.updateAddIcon(),this.eventWindow&&this.eventWindow.refresh();break;case"spannedEventPlacement":case"minimumEventDuration":case"enableMaxHeight":case"enableIndicator":this.refreshEvents(!1);break;case"ignoreWhitespace":i.isLayout=!0}}},t.prototype.destroyHeaderModule=function(){this.headerModule&&(this.headerModule.destroy(),this.headerModule=null)},t.prototype.destroyPopups=function(){this.quickPopup&&(this.quickPopup.destroy(),this.quickPopup=null),this.eventWindow&&(this.eventWindow.destroy(),this.eventWindow=null)},t.prototype.showSpinner=function(){i.i(r.showSpinner)(this.element)},t.prototype.hideSpinner=function(){i.i(r.hideSpinner)(this.element)},t.prototype.setWorkHours=function(e,t,r,a){var s=[];s=this.getWorkHourCells(e,t,r,a),i.i(n.addClass)(s,A._16)},t.prototype.resetWorkHours=function(e,t,r,a){if(void 0===e&&(e=this.activeView.renderDates),e&&t&&r){var s=this.getWorkHourCells(e,t,r,a);i.i(n.removeClass)(s,A._16)}else{var o=[].slice.call(this.element.querySelectorAll("."+A._16));i.i(n.removeClass)(o,A._16)}},t.prototype.getWorkHourCells=function(e,t,r,a){if(["Agenda","MonthAgenda","Month","TimelineMonth"].indexOf(this.currentView)>-1)return[];var s=this.getStartEndTime(t),o=this.getStartEndTime(r),l=this.getContentTable();if(i.i(n.isNullOrUndefined)(s)||i.i(n.isNullOrUndefined)(o)||!l)return[];s.setMilliseconds(0),o.setMilliseconds(0);var c=this.activeView.getStartHour();s<c&&(s=c);var p=this.activeView.getEndHour();o>p&&(o=p);for(var d=this.activeViewOptions.timeScale.interval*I.g,h=d/this.activeViewOptions.timeScale.slotCount,u=Math.round((s.getTime()-c.getTime())/h),g=Math.ceil((o.getTime()-c.getTime())/h),v=u,f=g,m=[],y=0,T=e;y<T.length;y++){var D=T[y];D=this.getDateTime(D),I.b(D);var w=this.activeView.renderDates;i.i(n.isNullOrUndefined)(a)||!this.resourceBase||this.activeView.isTimelineView()||(w=this.resourceBase.lastResourceLevel[parseInt(a.toString(),10)].renderDates);var b=this.getIndexOfDate(w,D);if(b>=0){if(this.activeView.isTimelineView()){var C=Math.round((p.getTime()-c.getTime())/h);u=v+b*C,g=f+b*C}for(var S=u;S<g;S++)if(this.activeView.isTimelineView()){var O=i.i(n.isNullOrUndefined)(a)?0:a;m.push(l.rows[parseInt(O.toString(),10)].cells[parseInt(S.toString(),10)])}else if(i.i(n.isNullOrUndefined)(a))m.push(l.rows[parseInt(S.toString(),10)].cells[parseInt(b.toString(),10)]);else{var E="."+A.n+'[data-group-index="'+a+'"]',x=[].slice.call(l.rows[parseInt(S.toString(),10)].querySelectorAll(E));m.push(x[parseInt(b.toString(),10)])}}}return m},t.prototype.getCellDetails=function(e){var t=e instanceof Array?e:[e],r=i.i(n.getElement)(t[0]),a=i.i(n.getElement)(t.slice(-1)[0]),s=this.getDateFromElement(r),o=this.getDateFromElement(a);if(!i.i(n.isNullOrUndefined)(s)&&!i.i(n.isNullOrUndefined)(o)){var l=this.activeView.isTimelineView()&&!i.i(n.isNullOrUndefined)(a.getAttribute("colSpan"))&&this.headerRows.length>0,c=l?parseInt(a.getAttribute("colSpan"),10):1;o=!this.activeViewOptions.timeScale.enable||l||a.classList.contains(A._4)||a.classList.contains(A.e)?I.d(new Date(o.getTime()),c):this.activeView.getEndDateFromStartDate(o);var p={startTime:s,endTime:o,isAllDay:this.isAllDayCell(r),element:e},d=r.getAttribute("data-group-index");return i.i(n.isNullOrUndefined)(d)||(p.groupIndex=parseInt(d,10)),p}},t.prototype.getSelectedElements=function(){return this.keyboardInteractionModule&&this.keyboardInteractionModule.selectedCells.length>0?this.keyboardInteractionModule.selectedCells:this.getSelectedCells()},t.prototype.getResourceCollections=function(){return this.resourceCollection},t.prototype.setResourceCollections=function(e){this.setProperties({resources:e},!1)},t.prototype.changeCurrentView=function(e,t){var i=this.getViewIndex(e),n=e.charAt(0).toLowerCase()+e.slice(1),r=this.viewOptions[""+n];r&&(i=this.viewCollections.indexOf(r[t||0])),-1!==i&&i!==this.viewIndex&&this.changeView(e,null,null,i)},t.prototype.getCurrentViewIndex=function(){return this.viewIndex},t.prototype.getResourcesByIndex=function(e){if(this.resourceBase&&this.resourceBase.lastResourceLevel){if(e<0||e>=this.resourceBase.lastResourceLevel.length)return;var t=this.resourceBase.lastResourceLevel[parseInt(e.toString(),10)],i={};return this.resourceBase.setResourceValues(i,e),{resource:t.resource,resourceData:t.resourceData,groupData:i}}},t.prototype.expandResource=function(e,t){this.activeView.isTimelineView()&&this.resourceBase&&this.resourceCollection.length>1&&this.resourceBase.resourceExpand(e,t,!1)},t.prototype.collapseResource=function(e,t){this.activeView.isTimelineView()&&this.resourceBase&&this.resourceCollection.length>1&&this.resourceBase.resourceExpand(e,t,!0)},t.prototype.scrollTo=function(e,t){this.activeView.scrollToDate&&i.i(n.isNullOrUndefined)(e)&&t?this.activeView.scrollToDate(t):this.activeView.scrollToHour&&this.activeView.scrollToHour(e,t)},t.prototype.scrollToResource=function(e,t){this.resourceBase&&this.resourceBase.lastResourceLevel&&this.resourceBase.resourceScroll(e,t)},t.prototype.exportToICalendar=function(e,t){if(!this.iCalendarExportModule)throw Error("Inject ICalendarExport module");this.iCalendarExportModule.initializeCalendarExport(e,t)},t.prototype.importICalendar=function(e){if(!this.iCalendarImportModule)throw Error("Inject ICalendarImport module");this.iCalendarImportModule.initializeCalendarImport(e)},t.prototype.addEvent=function(e){this.crudModule.addEvent(e)},t.prototype.generateEventOccurrences=function(e,t){return this.eventBase?this.eventBase.generateOccurrence(e,t):[]},t.prototype.exportToExcel=function(e){if(!this.excelExportModule)throw Error("Inject ExcelExport module");this.excelExportModule.initializeExcelExport(e)},t.prototype.print=function(e){if(!this.printModule)throw Error("Inject Print module");this.printModule.print(e)},t.prototype.saveEvent=function(e,t){this.crudModule.saveEvent(e,t)},t.prototype.deleteEvent=function(e,t){this.crudModule.deleteEvent(e,t)},t.prototype.getEvents=function(e,t,i){var n=[];return n=i?this.eventBase.getProcessedEvents():this.eventsData,e&&(e=this.getDateTime(e)),t&&(t=this.getDateTime(t)),n=this.eventBase.filterEventsByRange(n,e,t)},t.prototype.getBlockEvents=function(e,t,i){var n=[];return n=i?this.eventBase.getProcessedEvents(this.blockData):this.blockData,e&&(e=this.getDateTime(e)),t&&(t=this.getDateTime(t)),n=this.eventBase.filterEventsByRange(n,e,t)},t.prototype.getOccurrencesByID=function(e){return this.eventBase.getOccurrencesByID(e)},t.prototype.getOccurrencesByRange=function(e,t){return e=this.getDateTime(e),t=this.getDateTime(t),this.eventBase.getOccurrencesByRange(e,t)},t.prototype.getCurrentViewDates=function(){return this.activeView?this.activeView.renderDates:[]},t.prototype.setRecurrenceEditor=function(e){this.eventWindow.setRecurrenceEditor(e)},t.prototype.getEventMaxID=function(){return this.eventBase.getEventMaxID()},t.prototype.getDeletedOccurrences=function(e){return this.eventBase.getDeletedOccurrences(e)},t.prototype.getCurrentViewEvents=function(){return this.eventsProcessed},t.prototype.refreshEvents=function(e){void 0===e&&(e=!0),e?(this.dragAndDropModule&&(this.dragAndDropModule.actionObj.action="",i.i(n.removeClass)([this.element],A._73)),this.crudModule.refreshDataManager()):(this.uiStateValues&&(this.uiStateValues.isPreventTimezone=!0),this.crudModule&&this.crudModule.refreshProcessedData(),this.uiStateValues&&(this.uiStateValues.isPreventTimezone=!1))},t.prototype.refreshTemplates=function(e){switch(e?this.resetTemplates([e]):this.resetTemplates(),e){case"eventTemplate":this.appointmentTemplateFn=this.templateParser(this.activeViewOptions.eventTemplate),this.refreshEvents(!1);break;case"dateHeaderTemplate":this.dateHeaderTemplateFn=this.templateParser(this.activeViewOptions.dateHeaderTemplate),this.activeView.refreshHeader();break;case"dateRangeTemplate":this.dateRangeTemplateFn=this.templateParser(this.activeViewOptions.dateRangeTemplate),this.headerModule&&this.headerModule.refresh();break;case"resourceHeaderTemplate":this.resourceHeaderTemplateFn=this.templateParser(this.activeViewOptions.resourceHeaderTemplate),this.activeView.isTimelineView()?this.activeView.refreshResourceHeader():this.activeView.refreshHeader();break;case"quickInfoTemplates":this.quickPopup&&(this.quickPopup.destroy(),this.quickPopup=null),this.quickPopup=new h.a(this),this.quickInfoTemplatesHeaderFn=this.templateParser(this.quickInfoTemplates.header),this.quickInfoTemplatesContentFn=this.templateParser(this.quickInfoTemplates.content),this.quickInfoTemplatesFooterFn=this.templateParser(this.quickInfoTemplates.footer);break;case"editorTemplate":this.eventWindow&&(this.eventWindow.destroy(),this.eventWindow=null),this.eventWindow=new g.a(this),this.editorTemplateFn=this.templateParser(this.editorTemplate);break;case"tooltipTemplate":case"headerTooltipTemplate":this.eventTooltip&&(this.eventTooltip.destroy(),this.eventTooltip=null),this.eventTooltip=new u.a(this),this.eventTooltipTemplateFn=this.templateParser(this.eventSettings.tooltipTemplate),this.headerTooltipTemplateFn=this.templateParser(this.activeViewOptions.group.headerTooltipTemplate);break;default:this.initializeView(this.currentView)}},t.prototype.refreshLayout=function(){this.onScheduleResize(),this.headerModule&&this.headerModule.refresh(),this.eventWindow&&this.eventWindow.refresh()},t.prototype.getEventDetails=function(e){e=i.i(n.getElement)(e);var t=e.getAttribute("data-guid");return t?this.eventBase.getEventByGuid(t):{}},t.prototype.isSlotAvailable=function(e,t,r){var a,s,o=this,l=this.activeEventData.event;if(e instanceof Date||"string"==typeof e?(a=e,s=t):(l=e,a=e[this.eventFields.startTime],s=e[this.eventFields.endTime],this.resourceBase&&(r=this.eventBase.getGroupIndexFromEvent(e))),i.i(n.isNullOrUndefined)(a)||i.i(n.isNullOrUndefined)(s))return!0;a=this.getDateTime(a),s=this.getDateTime(s);var c=this.eventBase.filterEvents(a,s);return!i.i(n.isNullOrUndefined)(r)&&this.resourceBase&&this.resourceBase.lastResourceLevel.length>0&&(c=this.eventBase.filterEventsByResource(this.resourceBase.lastResourceLevel[parseInt(r.toString(),10)],c)),l&&(c=l.Guid?c.filter(function(e){return e.Guid!==l.Guid}):c.filter(function(e){return e[o.eventFields.id]!==l[o.eventFields.id]})),!(c.length>0)},t.prototype.openEditor=function(e,t,r,a){"Add"!==t||r?(e[this.eventFields.startTime]=this.getDateTime(e[this.eventFields.startTime]),e[this.eventFields.endTime]=this.getDateTime(e[this.eventFields.endTime])):(e.startTime=this.getDateTime(e.startTime),e.endTime=this.getDateTime(e.endTime),i.i(n.isNullOrUndefined)(e.element)||(e.element=i.i(n.getElement)(e.element))),this.currentAction=t,"Add"!==t&&(this.activeEventData.event=e),this.eventWindow.openEditor(e,t,r,a)},t.prototype.closeEditor=function(){this.eventWindow&&this.eventWindow.dialogClose()},t.prototype.openQuickInfoPopup=function(e){var t=this;if("Year"!==this.currentView&&!i.i(n.isNullOrUndefined)(e))if(i.i(n.isNullOrUndefined)(e[this.eventFields.id])){if("Agenda"===this.currentView||"MonthAgenda"===this.currentView||i.i(n.isNullOrUndefined)(this.activeView))return;var r={startTime:this.activeCellsData.startTime=this.getDateTime(e[this.eventFields.startTime]),endTime:this.activeCellsData.endTime=this.getDateTime(e[this.eventFields.endTime]),isAllDay:this.activeCellsData.isAllDay=!i.i(n.isNullOrUndefined)(e[this.eventFields.isAllDay])&&e[this.eventFields.isAllDay]},a=this.activeView.getAdjustedDate(new Date(r.startTime));if(a){var s="."+A.n+'[data-date="'+a.getTime()+'"]';this.activeViewOptions.group.resources.length>0&&!this.uiStateValues.isGroupAdaptive&&this.resourceBase&&this.eventBase&&(r.groupIndex=this.eventBase.getGroupIndexFromEvent(e),s="."+A.n+'[data-date="'+a.getTime()+'"][data-group-index="'+r.groupIndex+'"]');var o=this.element.querySelector(s);o&&(o.focus(),r.element=o,this.notify(V.a,r))}}else{var l=this.getCurrentViewEvents().filter(function(i){return e[t.eventFields.id]===i[t.eventFields.id]});if(l.length<=0)return;var c=l[0];if(e[this.eventFields.recurrenceRule]){var p=l.filter(function(i){return i[t.eventFields.startTime].getTime()===e[t.eventFields.startTime].getTime()});p.length>0&&(c=p[0])}var d=this.element.querySelector('div[data-guid="'+c.Guid+'"]');d&&(this.eventBase.removeSelectedAppointmentClass(),this.eventBase.addSelectedAppointments([d],!1),this.activeEventData={event:c,element:d},"Agenda"!==this.currentView&&"MonthAgenda"!==this.currentView||i.i(n.addClass)([this.activeEventData.element],A.S),this.notify(V.k,this.activeEventData))}},t.prototype.closeQuickInfoPopup=function(){this.quickPopup&&this.quickPopup.quickPopupHide(!0)},t.prototype.closeTooltip=function(){this.eventTooltip&&this.eventTooltip.close()},t.prototype.selectResourceByIndex=function(e){this.resourceBase&&this.uiStateValues.isGroupAdaptive&&this.resourceBase.selectResourceByIndex(e)},t.prototype.getIndexFromResourceId=function(e,t){return this.resourceBase?this.resourceBase.getIndexFromResourceId(e,t):null},t.prototype.addResource=function(e,t,i){this.resourceBase.addResource(e,t,i)},t.prototype.removeResource=function(e,t){this.resourceBase.removeResource(e,t)},t.prototype.destroy=function(){this.eventTooltip&&(this.eventTooltip.destroy(),this.eventTooltip=null),this.destroyPopups(),this.hideSpinner(),this.unWireEvents(),this.destroyHeaderModule(),this.eventBase&&(this.eventBase.destroy(),this.eventBase=null),this.workCellAction&&(this.workCellAction.destroy(),this.workCellAction=null),this.inlineModule&&(this.inlineModule.destroy(),this.inlineModule=null),this.keyboardInteractionModule&&(this.keyboardInteractionModule.destroy(),this.keyboardInteractionModule=null),this.scrollModule&&(this.scrollModule.destroy(),this.scrollModule=null),this.printModule&&this.printModule.destroy(),this.activeView&&(this.resetTemplates(),this.activeView.removeEventListener(),this.activeView.destroy(),this.activeView=null),this.scheduleTouchModule&&(this.scheduleTouchModule.destroy(),this.scheduleTouchModule=null),this.crudModule&&(this.crudModule.destroy(),this.crudModule=null),this.dataModule&&(this.dataModule.destroy(),this.dataModule=null),e.prototype.destroy.call(this);for(var t=["dayModule","weekModule","workWeekModule","monthModule","monthAgendaModule","yearModule","agendaModule","timelineViewsModule","timelineMonthModule","timelineYearModule","resizeModule","dragAndDropModule","excelExportModule","printModule","iCalendarExportModule","iCalendarImportModule","tzModule","eventsData","eventsProcessed","blockData","blockProcessed","uiStateValues","viewCollections","viewOptions","defaultLocale","localeObj","selectedElements","resourceCollection","editorTitles","eventFields","activeViewOptions","activeEventData","activeCellsData","renderModule"],r=0,a=t;r<a.length;r++){this[""+a[r]]=null}I.D(this.element);var s=[A._74,A._78,A._79,A._80];this.cssClass&&(s=s.concat(this.cssClass.split(" "))),i.i(n.removeClass)([this.element],s)},k([i.i(n.Property)("auto")],t.prototype,"width",void 0),k([i.i(n.Property)("auto")],t.prototype,"height",void 0),k([i.i(n.Property)(!0)],t.prototype,"showHeaderBar",void 0),k([i.i(n.Property)(!0)],t.prototype,"showTimeIndicator",void 0),k([i.i(n.Property)(!0)],t.prototype,"allowSwiping",void 0),k([i.i(n.Property)("Week")],t.prototype,"currentView",void 0),k([i.i(n.Property)(["Day","Week","WorkWeek","Month","Agenda"])],t.prototype,"views",void 0),k([i.i(n.Property)(new Date)],t.prototype,"selectedDate",void 0),k([i.i(n.Property)(new Date(1900,0,1))],t.prototype,"minDate",void 0),k([i.i(n.Property)(new Date(2099,11,31))],t.prototype,"maxDate",void 0),k([i.i(n.Property)()],t.prototype,"dateFormat",void 0),k([i.i(n.Property)("Gregorian")],t.prototype,"calendarMode",void 0),k([i.i(n.Property)(!0)],t.prototype,"showWeekend",void 0),k([i.i(n.Property)(0)],t.prototype,"firstDayOfWeek",void 0),k([i.i(n.Property)("FirstDay")],t.prototype,"weekRule",void 0),k([i.i(n.Property)([1,2,3,4,5])],t.prototype,"workDays",void 0),k([i.i(n.Property)(12)],t.prototype,"monthsCount",void 0),k([i.i(n.Property)("00:00")],t.prototype,"startHour",void 0),k([i.i(n.Property)("24:00")],t.prototype,"endHour",void 0),k([i.i(n.Property)(null)],t.prototype,"timeFormat",void 0),k([i.i(n.Property)(!0)],t.prototype,"enableHtmlSanitizer",void 0),k([i.i(n.Property)(!1)],t.prototype,"enableAllDayScroll",void 0),k([i.i(n.Property)(!1)],t.prototype,"enableAdaptiveUI",void 0),k([i.i(n.Property)(!0)],t.prototype,"allowResizing",void 0),k([i.i(n.Complex)({},f.a)],t.prototype,"workHours",void 0),k([i.i(n.Complex)({},m.a)],t.prototype,"timeScale",void 0),k([i.i(n.Property)(!0)],t.prototype,"allowKeyboardInteraction",void 0),k([i.i(n.Property)(!0)],t.prototype,"allowDragAndDrop",void 0),k([i.i(n.Property)()],t.prototype,"dateHeaderTemplate",void 0),k([i.i(n.Property)()],t.prototype,"dateRangeTemplate",void 0),k([i.i(n.Property)()],t.prototype,"cellHeaderTemplate",void 0),k([i.i(n.Property)()],t.prototype,"dayHeaderTemplate",void 0),k([i.i(n.Property)()],t.prototype,"monthHeaderTemplate",void 0),k([i.i(n.Property)()],t.prototype,"cellTemplate",void 0),k([i.i(n.Property)(!1)],t.prototype,"readonly",void 0),k([i.i(n.Property)(!0)],t.prototype,"showQuickInfo",void 0),k([i.i(n.Property)(!1)],t.prototype,"allowInline",void 0),k([i.i(n.Property)(!0)],t.prototype,"allowMultiCellSelection",void 0),k([i.i(n.Property)(!0)],t.prototype,"allowMultiRowSelection",void 0),k([i.i(n.Property)(!1)],t.prototype,"quickInfoOnSelectionEnd",void 0),k([i.i(n.Property)(!1)],t.prototype,"showWeekNumber",void 0),k([i.i(n.Property)(!1)],t.prototype,"rowAutoHeight",void 0),k([i.i(n.Property)(!1)],t.prototype,"allowMultiDrag",void 0),k([i.i(n.Property)(0)],t.prototype,"firstMonthOfYear",void 0),k([i.i(n.Property)()],t.prototype,"editorTemplate",void 0),k([i.i(n.Complex)({},y.a)],t.prototype,"quickInfoTemplates",void 0),k([i.i(n.Property)(7)],t.prototype,"agendaDaysCount",void 0),k([i.i(n.Property)(!0)],t.prototype,"hideEmptyAgendaDays",void 0),k([i.i(n.Property)(!0)],t.prototype,"enableRecurrenceValidation",void 0),k([i.i(n.Property)()],t.prototype,"timezone",void 0),k([i.i(n.Complex)({},b.a)],t.prototype,"eventSettings",void 0),k([i.i(n.Property)(x.b)],t.prototype,"timezoneDataSource",void 0),k([i.i(n.Property)()],t.prototype,"resourceHeaderTemplate",void 0),k([i.i(n.Property)()],t.prototype,"headerIndentTemplate",void 0),k([i.i(n.Complex)({},C.a)],t.prototype,"group",void 0),k([i.i(n.Collection)([],S.a)],t.prototype,"resources",void 0),k([i.i(n.Collection)([],T.a)],t.prototype,"headerRows",void 0),k([i.i(n.Property)()],t.prototype,"cssClass",void 0),k([i.i(n.Property)()],t.prototype,"eventDragArea",void 0),k([i.i(n.Event)()],t.prototype,"created",void 0),k([i.i(n.Event)()],t.prototype,"destroyed",void 0),k([i.i(n.Event)()],t.prototype,"cellClick",void 0),k([i.i(n.Event)()],t.prototype,"cellDoubleClick",void 0),k([i.i(n.Event)()],t.prototype,"moreEventsClick",void 0),k([i.i(n.Event)()],t.prototype,"hover",void 0),k([i.i(n.Event)()],t.prototype,"select",void 0),k([i.i(n.Event)()],t.prototype,"actionBegin",void 0),k([i.i(n.Event)()],t.prototype,"actionComplete",void 0),k([i.i(n.Event)()],t.prototype,"actionFailure",void 0),k([i.i(n.Event)()],t.prototype,"navigating",void 0),k([i.i(n.Event)()],t.prototype,"renderCell",void 0),k([i.i(n.Event)()],t.prototype,"eventClick",void 0),k([i.i(n.Event)()],t.prototype,"eventRendered",void 0),k([i.i(n.Event)()],t.prototype,"dataBinding",void 0),k([i.i(n.Event)()],t.prototype,"popupOpen",void 0),k([i.i(n.Event)()],t.prototype,"popupClose",void 0),k([i.i(n.Event)()],t.prototype,"dragStart",void 0),k([i.i(n.Event)()],t.prototype,"drag",void 0),k([i.i(n.Event)()],t.prototype,"dragStop",void 0),k([i.i(n.Event)()],t.prototype,"resizeStart",void 0),k([i.i(n.Event)()],t.prototype,"resizing",void 0),k([i.i(n.Event)()],t.prototype,"resizeStop",void 0),k([i.i(n.Event)()],t.prototype,"dataBound",void 0),t=k([n.NotifyPropertyChanges],t)}(n.Component)},function(e,t,i){"use strict";i.d(t,"a",function(){return p});var n=i(0),r=(i.n(n),i(72)),a=(i.n(r),i(8)),s=i(1),o=i(3),l=i(2),c=this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),p=function(e){function t(t){return e.call(this,t)||this}return c(t,e),t.prototype.createAgendaContentElement=function(e,t,a,c,p){var d,h=this,u=this.parent.eventFields;if("noEvents"===e){var g=[{subject:this.parent.localeObj.getConstant("noEvents")}];d=r.ListBase.createList(this.parent.createElement,g,{moduleName:"agenda",listClass:this.parent.activeView.viewClass,itemClass:this.parent.activeView.viewClass,template:'<div class="'+o._40+'">'+this.parent.localeObj.getConstant("noEvents")+"</div>"}),0===d.querySelector(".e-agenda-item").children.length&&d.firstElementChild.appendChild(i.i(n.createElement)("div",{className:o._40,innerHTML:this.parent.localeObj.getConstant("noEvents")}))}else{d=r.ListBase.createList(this.parent.createElement,t,{moduleName:"agenda",listClass:this.parent.activeView.viewClass,itemClass:this.parent.activeView.viewClass});[].slice.call(d.children).forEach(function(e,r){var a=i.i(n.createElement)("div",{className:o.D,attrs:{"data-id":"Appointment_"+t[parseInt(r.toString(),10)][""+h.parent.eventFields.id],"data-guid":t[parseInt(r.toString(),10)].Guid,role:"button",tabindex:"0","aria-disabled":h.parent.eventBase.getReadonlyAttribute(t[parseInt(r.toString(),10)]),"aria-label":h.parent.getAnnouncementString(t[parseInt(r.toString(),10)])}});i.i(n.isNullOrUndefined)(p)||a.setAttribute("data-group-index",p.toString()),h.parent.eventBase.applyResourceColor(a,t[parseInt(r.toString(),10)],"borderColor",c);var d;if(i.i(n.isNullOrUndefined)(h.parent.activeViewOptions.eventTemplate))d=h.createAppointment(t[parseInt(r.toString(),10)]);else{i.i(n.addClass)([a],o._41);var g=h.parent.element.id+"_",v=h.parent.activeViewOptions.eventTemplateName,f=g+v+"eventTemplate";if(d=h.parent.getAppointmentTemplate()(t[parseInt(r.toString(),10)],h.parent,"eventTemplate",f,!1),!i.i(n.isNullOrUndefined)(t[parseInt(r.toString(),10)][u.recurrenceRule])){var m=t[parseInt(r.toString(),10)][u.id]===t[parseInt(r.toString(),10)][u.recurrenceID]?o.L:o.M;a.appendChild(i.i(n.createElement)("div",{className:o.N+" "+m}))}}i.i(n.append)([].slice.call(d),a),s.D(e),e.appendChild(a);var y={data:i.i(n.extend)({},t[parseInt(r.toString(),10)],null,!0),element:e,cancel:!1};h.parent.trigger(l.l,y,function(t){t.cancel&&i.i(n.remove)(e)})})}return a.appendChild(d),("MonthAgenda"===this.parent.currentView&&this.parent.activeViewOptions.group.resources.length>0||"Agenda"===this.parent.currentView)&&i.i(n.addClass)([a],o._42),this.parent.renderTemplates(),a},t.prototype.createAppointment=function(e){var t=this.parent.eventFields,r=e[t.subject]||this.parent.eventSettings.fields.subject.default||this.parent.localeObj.getConstant("addTitle"),a=e[t.location]||this.parent.eventSettings.fields.location.default,l=i.i(n.createElement)("div",{className:o._43});i.i(n.isNullOrUndefined)(a)||""===a||(r+=",");var c=i.i(n.createElement)("div",{className:o.H});if(this.parent.sanitize(r,c),l.appendChild(c),!i.i(n.isNullOrUndefined)(a)&&""!==a){var p=i.i(n.createElement)("div",{className:o.K});this.parent.sanitize(a,p),l.appendChild(p)}if(!i.i(n.isNullOrUndefined)(e[t.recurrenceRule])){var d=e[t.id]===e[t.recurrenceID]?o.L:o.M;l.appendChild(i.i(n.createElement)("div",{className:o.N+" "+d}))}var h=e[t.startTime],u=e[t.endTime],g=e[t.isAllDay],v=this.parent.localeObj.getConstant("allDay"),f=this.parent.getTimeString(h)+" - "+this.parent.getTimeString(u);if(!i.i(n.isNullOrUndefined)(e.data)){v=((u.getTimezoneOffset()!==h.getTimezoneOffset()?u.getTime()-h.getTime()+36e5:u.getTime()-h.getTime())/s.c>=1?v:f)+" ("+this.parent.localeObj.getConstant("day")+" "+e.data.index+"/"+e.data.count+")"}var m=!i.i(n.isNullOrUndefined)(e.data)||g?v:f;return[l,i.i(n.createElement)("div",{className:o._44,innerHTML:m})]},t.prototype.processAgendaEvents=function(e){var t=[];if(i.i(n.isNullOrUndefined)(e))return t;for(var r=0,a=e;r<a.length;r++){var s=a[r],o=this.parent.eventBase.splitEventByDay(s);t=t.concat(o.length>1?o:s)}return t},t.prototype.wireEventActions=function(){for(var e=[].slice.call(this.parent.element.querySelectorAll("."+o.D)),t=0,i=e;t<i.length;t++){var r=i[t];this.parent.eventBase.wireAppointmentEvents(r,this.parent.getEventDetails(r),!0)}for(var a=[].slice.call(this.parent.element.querySelectorAll(".e-m-date")),s=0,l=a;s<l.length;s++){var r=l[s];n.EventHandler.add(r,"click",this.parent.agendaModule.dayNavigationClick,this)}},t.prototype.calculateResourceTableElement=function(e,t,r){if(i.i(n.isNullOrUndefined)(this.parent.resourceBase.lastResourceLevel)){var a=this.getDateSlots(this.renderDates,this.parent.activeViewOptions.workDays);this.parent.resourceBase.generateResourceLevels(a)}for(var l=s.d(new Date(r.getTime()),t),c=this.parent.activeViewOptions.group.byDate||"MonthAgenda"===this.parent.currentView?t:1,p=this.parent.resourceBase.resourceCollection,d=this.parent.resourceBase.lastResourceLevel,h=r,u=0;u<c;u++){var g=[],v=[],f=0,m=void 0,y=void 0,T=s.d(h,u),D=this.parent.activeViewOptions.group.byDate||"MonthAgenda"===this.parent.currentView?s.d(T,1):l,w=this.parent.eventBase.filterEvents(T,D);if(w.length>0||!this.parent.hideEmptyAgendaDays||"MonthAgenda"===this.parent.currentView){for(var b=0;b<d.length;b++){t=this.parent.activeViewOptions.group.byDate&&"MonthAgenda"!==this.parent.currentView?1:t;var C=[];r=T;var S=this.parent.eventBase.filterEvents(r,l,w,d[parseInt(b.toString(),10)]);if(S.length>0||!this.parent.hideEmptyAgendaDays||"MonthAgenda"===this.parent.currentView)for(var O=0;O<t;O++){var E=this.parent.eventBase.filterEvents(r,s.d(r,1),S,void 0);if((E.length>0||!this.parent.hideEmptyAgendaDays||"MonthAgenda"===this.parent.currentView)&&(C.push(E[0]),m={rowSpan:1,type:"eventColumn",resource:p[p.length-1],groupIndex:d[parseInt(b.toString(),10)].groupIndex,groupOrder:d[parseInt(b.toString(),10)].groupOrder,resourceData:d[parseInt(b.toString(),10)].resourceData,eventData:E,date:r},y={rowSpan:1,type:"dateColumn",resource:p[parseInt((p.length-1).toString(),10)],groupOrder:d[parseInt(b.toString(),10)].groupOrder,resourceData:d[parseInt(b.toString(),10)].resourceData,date:r},g[parseInt(f.toString(),10)]||(g[parseInt(f.toString(),10)]=[]),g[parseInt(f.toString(),10)].push(m),g[parseInt(f.toString(),10)].push(y),f++),r=s.d(r,1),r.getTime()>=l.getTime()||this.parent.activeViewOptions.group.byDate||"MonthAgenda"===this.parent.currentView){g[g.length-1][1].cssClass=o._42;var x={rowSpan:C.length,type:"resourceColumn",resource:p[parseInt((p.length-1).toString(),10)],groupOrder:d[parseInt(b.toString(),10)].groupOrder.slice(0,-1),resourceData:d[parseInt(b.toString(),10)].resourceData,groupIndex:g.length-C.length,className:[o._45],date:r};g[parseInt((g.length-C.length).toString(),10)].push(x),v.push(i.i(n.extend)({},x,null,!0));break}}}for(var V=p.slice(0,-1),A=[],I=0,M=0;M<V.length;M++)for(var C=V[V.length-(M+1)].dataSource,k=0;k<C.length;k++)for(var R=0,_=0;_<v.length;_++)v[parseInt(_.toString(),10)].groupOrder[V.length-(M+1)]===C[parseInt(k.toString(),10)][V[V.length-(M+1)].idField]&&(I+=v[parseInt(_.toString(),10)].rowSpan,A.push(i.i(n.extend)({},v[parseInt(_.toString(),10)],null,!0))),++R===v.length&&A.length>0&&(A[0].rowSpan=I,A[0].type="parentColumnLevel_"+(M+1),A[0].resource=V[V.length-(M+1)],A[0].resourceData=C[parseInt(k.toString(),10)],A[0].date=r,g[A[0].groupIndex].push(A[0]),A=[],I=0);this.createResourceTableRow(g,e)}}0===this.parent.eventBase.filterEvents(h,l).length&&!this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.hideEmptyAgendaDays&&this.renderEmptyContent(e,h)},t.prototype.createResourceTableRow=function(e,t){var r,a,l,c=i.i(n.createElement)("tr"),p=i.i(n.createElement)("td",{attrs:{"aria-selected":"false"}}),d=0;if(this.parent.activeViewOptions.group.byDate||"MonthAgenda"===this.parent.currentView){for(var h=[],u=this.parent.resourceBase.resourceCollection.slice(0,-1),g=0;g<e.length;g++)h=h.concat(e[parseInt(g.toString(),10)]);l=u.length>0?"parentColumnLevel_"+u.length:"resourceColumn";for(var v=h.filter(function(e){return e.type===l}),f=0;f<v.length;f++)d+=v[parseInt(f.toString(),10)].rowSpan}for(var m=0;m<e.length;m++){r=c.cloneNode();for(var y=e[parseInt(m.toString(),10)].length-1;y>=0;y--){var T=e[parseInt(m.toString(),10)][parseInt(y.toString(),10)],D=p.cloneNode();if("dateColumn"===T.type){if(this.parent.activeViewOptions.group.byDate||"MonthAgenda"===this.parent.currentView){a=e[parseInt(m.toString(),10)][parseInt(y.toString(),10)];continue}D.setAttribute("data-date",T.date.getTime().toString()),D.appendChild(this.createDateHeaderElement(T.date));var w=[o._46,o._47];T.cssClass&&w.push(T.cssClass),i.i(n.addClass)([D],w),r.appendChild(D)}else if("eventColumn"===T.type){var b=0===T.eventData.length?"noEvents":"data";D=this.createAgendaContentElement(b,T.eventData,D,T.groupOrder,T.groupIndex),D.setAttribute("data-date",T.date.getTime().toString()),(this.parent.activeViewOptions.group.byDate||"MonthAgenda"===this.parent.currentView)&&i.i(n.addClass)([D],[o._46,o._48]),r.appendChild(D)}else D.setAttribute("rowspan",T.rowSpan.toString()),i.i(n.addClass)([D],o._49),this.setResourceHeaderContent(D,T,T.className[0]),r.appendChild(D)}if(this.parent.activeViewOptions.group.byDate&&0===m&&"MonthAgenda"!==this.parent.currentView){var D=p.cloneNode();D.setAttribute("data-date",a.date.getTime().toString()),D.setAttribute("rowspan",d.toString()),D.appendChild(this.createDateHeaderElement(a.date)),i.i(n.addClass)([D],[o._46,o._47,o._50]);var C=s.y(this.parent.selectedDate.getTime(),a.date.getTime());if(r.setAttribute("data-row-index",C.toString()),this.parent.element.querySelector('.e-agenda-view tr[data-row-index="'+C+'"]'))break;r.insertBefore(D,r.childNodes[0])}t.appendChild(r)}},t.prototype.createDateHeaderElement=function(e){var t;if(this.parent.activeViewOptions.dateHeaderTemplate){t=i.i(n.createElement)("div",{className:o._51});var r={date:e,type:"dateHeader"},a=this.parent.element.id+"_",s=this.parent.activeViewOptions.dateHeaderTemplateName,l=a+s+"dateHeaderTemplate",c=[].slice.call(this.parent.getDateHeaderTemplate()(r,this.parent,"dateHeaderTemplate",l,!1));i.i(n.append)(c,t)}else t=this.getMobileDateElement(e,o._51);return t},t.prototype.renderEmptyContent=function(e,t){var r=this.createTableRowElement(t,"noEvents"),a=r.children[0],s=i.i(n.createElement)("div",{className:o._52,innerHTML:this.parent.localeObj.getConstant("noEvents")});a.appendChild(s),e.appendChild(r)},t.prototype.createTableRowElement=function(e,t){var r=s.y(this.parent.selectedDate.getTime(),e.getTime()),a=i.i(n.createElement)("tr",{attrs:{"data-row-index":r.toString()}}),l=i.i(n.createElement)("td",{attrs:{class:"monthHeader"===t?o.m:o._46,"aria-selected":"false","data-column-index":r.toString(),"data-date":e.getTime().toString()}}),c=l.cloneNode(),p=l.cloneNode();return a.appendChild(c),"noEvents"!==t&&a.appendChild(p),a},t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(a.a)},function(e,t,i){"use strict";i.d(t,"a",function(){return c});var n=i(0),r=(i.n(n),i(7)),a=i(1),s=i(2),o=i(3),l=this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),c=function(e){function t(t){var i=e.call(this,t,"day")||this;return i.isResource=!1,i}return l(t,e),t.prototype.renderAppointments=function(){this.parent.dragAndDropModule&&this.parent.dragAndDropModule.setDragArea(),this.fields=this.parent.eventFields;for(var e="Year"===this.parent.currentView?"."+o.D:"."+o.C+",."+o.z,t=[].slice.call(this.parent.element.querySelectorAll(e)),r=0,a=t;r<a.length;r++){var l=a[r];i.i(n.remove)(l)}this.renderedEvents=[],"Year"===this.parent.currentView?this.yearViewEvents():(this.removeCellHeight(),this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive?(this.isResource=!0,this.timelineResourceEvents()):this.timelineYearViewEvents()),this.parent.renderTemplates(),this.parent.notify(s.D,{})},t.prototype.yearViewEvents=function(){for(var e=this.getMonths(),t=0,r=e;t<r.length;t++)for(var s=r[t],l=".e-month-calendar:nth-child("+(e.indexOf(s)+1)+") td.e-work-cells",c=[].slice.call(this.parent.element.querySelectorAll(l)),p=new Date(this.parent.selectedDate.getFullYear(),s,1),d=this.parent.calendarUtil.getMonthStartDate(new Date(p.getTime())),h=this.parent.calendarUtil.getMonthEndDate(new Date(p.getTime())),u=a.l(d,this.parent.firstDayOfWeek),g=a.d(a.m(h,this.parent.firstDayOfWeek),1),v=0;u.getTime()<g.getTime();v++){var f=a.b(new Date(u.getTime())),m=a.d(new Date(f.getTime()),1);if(u=a.d(new Date(u.getTime()),1),this.parent.isMinMaxDate(f)){var y=this.parent.eventBase.filterEvents(f,m);if(y.length>0){var T=c[parseInt(v.toString(),10)];T&&T.appendChild(i.i(n.createElement)("div",{className:o.D}))}}}},t.prototype.timelineYearViewEvents=function(){var e=this,t=this.parent.element.querySelector("."+o.n+":not(."+o.t+")");this.cellWidth=t.getBoundingClientRect().width,this.cellHeader=a.C(t.querySelector("."+o.o));var r=this.parent.element.querySelector("."+o.i);this.eventHeight=a.h(r,o.D);for(var s=[].slice.call(this.parent.element.querySelectorAll("."+o.l)),l=this.getMonths(),c=this.parent.activeViewOptions.group.resources.length>0&&this.parent.uiStateValues.isGroupAdaptive?this.parent.uiStateValues.groupIndex:void 0,p=0;p<l.length;p++){var d=s[parseInt(p.toString(),10)],h=p+1,u=i.i(n.createElement)("div",{className:o.C});d.appendChild(u);var g=new Date(this.parent.selectedDate.getFullYear(),l[parseInt(p.toString(),10)],1),v=new Date(g.getFullYear(),g.getMonth()+1,0),f=g.getDay(),m=[];for("Horizontal"===this.parent.activeViewOptions.orientation&&(this.renderedEvents=[]);g.getTime()<=v.getTime();){var y=void 0,T=void 0;if("Vertical"===this.parent.activeViewOptions.orientation){var D=s[parseInt(f.toString(),10)];h=f+1,u=D.querySelector("."+o.C),u||(u=i.i(n.createElement)("div",{className:o.C}),D.appendChild(u)),this.parent.enableRtl?T=p*this.cellWidth:y=p*this.cellWidth}else this.parent.enableRtl?T=(f+g.getDate()-1)*this.cellWidth:y=(f+g.getDate()-1)*this.cellWidth;var w=this.parent.element.querySelector(".e-content-wrap tr:nth-child("+h+") td");this.cellHeight=w.offsetHeight;var b=a.b(new Date(g.getTime())),C=a.d(new Date(b.getTime()),1),S=void 0;this.parent.uiStateValues.isGroupAdaptive&&(S=this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex]);var O=this.parent.eventBase.filterEvents(b,C,void 0,S);O=this.parent.eventBase.sortByDateTime(O);for(var E=this,x=0,V=O.length;x<V;x++)!function(e,t){var r=i.i(n.extend)({},O[parseInt(e.toString(),10)],null,!0);E.updateSpannedEvents(r,b,C);var a=E.getIndex(b);r.Index=a;var s=E.cellHeader+E.eventHeight*(a+1)+2+E.moreIndicatorHeight,o=E.cellHeight-E.cellHeader-E.moreIndicatorHeight,l=Math.floor(o/(E.eventHeight+2)),d=t-l<=0?1:t-l;if("Horizontal"===E.parent.activeViewOptions.orientation){var h=E.renderedEvents.filter(function(e){return e.Guid===r.Guid}),v=m.filter(function(e){return e.Guid===r.Guid});if(h.length>0&&h[0].MoreIndicator||v.length>0&&v[0].MoreIndicator){var D="Horizontal"===E.parent.activeViewOptions.orientation?p:f;return E.renderMoreIndicator(u,d,b,D,y,T,c),"continue"}if(h.length>0||v.length>0)return"continue"}if(E.parent.rowAutoHeight||E.cellHeight>s)E.renderEvent(u,r,p,y,T,g,f),E.updateCellHeight(w,s),m.push(r);else{var D="Horizontal"===E.parent.activeViewOptions.orientation?p:f;E.renderMoreIndicator(u,d,b,D,y,T,c),"Horizontal"===E.parent.activeViewOptions.orientation&&(r.MoreIndicator=!0,E.renderedEvents.push(r),m.push(r))}}(x,V);g=a.d(new Date(g.getTime()),1),"Vertical"===this.parent.activeViewOptions.orientation&&(f++,this.renderedEvents=[])}}if(this.parent.rowAutoHeight&&"Vertical"===this.parent.activeViewOptions.orientation){var A=[].slice.call(this.parent.element.querySelectorAll("."+o.l)),I=[].slice.call(this.parent.element.querySelectorAll("."+o.h+" tbody tr"));A.forEach(function(t,i){var n=[].slice.call(t.querySelectorAll("."+o.D)),r=I[parseInt(i.toString(),10)].offsetTop+e.cellHeader+2;n.forEach(function(t){var i=parseInt(t.getAttribute("data-index"),10);t.style.top=r+i*e.eventHeight+"px",t.removeAttribute("data-index")})})}},t.prototype.updateSpannedEvents=function(e,t,i){var n=this.isResource&&"Vertical"===this.parent.activeViewOptions.orientation||!this.isResource&&"Horizontal"===this.parent.activeViewOptions.orientation,r={isLeft:!0,isRight:!0,isBottom:!0,isTop:!0};t.getTime()<=e[this.fields.startTime].getTime()&&(n?r.isLeft=!1:r.isTop=!1),(i.getTime()>=e[this.fields.endTime].getTime()||n&&!this.isResource&&a.d(i,-1).getMonth()===e[this.fields.endTime].getMonth()||n&&this.isResource&&i.getTime()<=e[this.fields.endTime].getTime())&&(n?r.isRight=!1:r.isBottom=!1),e.data=r},t.prototype.timelineResourceEvents=function(){var e=this,t=this.parent.element.querySelector("."+o.g),i=t.offsetWidth>t.clientWidth,n=this.parent.element.querySelector("."+o.n);this.cellWidth=n.getBoundingClientRect().width,this.cellHeader=0;var r=this.parent.element.querySelector("."+o.i);this.eventHeight=a.h(r,o.D);var s=[].slice.call(this.parent.element.querySelectorAll("."+o.l)),l=this.parent.uiStateValues.isGroupAdaptive?[this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex]]:this.parent.activeViewOptions.allowVirtualScrolling?this.parent.resourceBase.renderedResources:this.parent.resourceBase.lastResourceLevel,c=this.getMonths();if("Horizontal"===this.parent.activeViewOptions.orientation)for(var p=0;p<c.length;p++)for(var d=new Date(this.parent.selectedDate.getFullYear(),c[parseInt(p.toString(),10)],1),h=0,u=l.length;h<u;h++)this.renderedEvents=[],this.renderResourceEvent(s[parseInt(p.toString(),10)],l[parseInt(h.toString(),10)],p,h,d);else for(var h=0,u=l.length;h<u;h++){this.renderedEvents=[];for(var p=0;p<c.length;p++){var d=new Date(this.parent.selectedDate.getFullYear(),c[parseInt(p.toString(),10)],1);this.renderResourceEvent(s[parseInt(h.toString(),10)],l[parseInt(h.toString(),10)],p,h,d)}}if(this.parent.rowAutoHeight&&!i&&t.offsetWidth>t.clientWidth){[].slice.call(this.parent.element.querySelectorAll("."+o.D)).forEach(function(e){e.style.removeProperty("left"),e.style.removeProperty("right")});var g=[].slice.call(this.parent.element.querySelectorAll("."+o.l)),v=this.parent.element.querySelector("."+o.h),f=[].slice.call(v.querySelectorAll("tbody tr"));g.forEach(function(t,i){var n=[].slice.call(t.children),r=f[parseInt(i.toString(),10)];n.forEach(function(t,i){var n=r.querySelector("td:nth-child("+(i+1)+")"),a=[].slice.call(t.children),s=n.getBoundingClientRect().width,o=n.offsetLeft;if(e.parent.enableRtl){var l=v.offsetWidth-o-n.offsetWidth;a.forEach(function(e){e.style.width=Math.floor(parseInt(e.style.width,10)/s)*s+"px",e.style.right=l+"px"})}else a.forEach(function(e){e.style.width=Math.floor(parseInt(e.style.width,10)/s)*s+"px",e.style.left=o+"px"})})})}},t.prototype.renderResourceEvent=function(e,t,r,s,l){var c=i.i(n.createElement)("div",{className:o.C});e.appendChild(c);var p=a.d(a.o(new Date(l.getTime())),1),d=this.parent.eventBase.filterEvents(l,p,void 0,t),h="Vertical"===this.parent.activeViewOptions.orientation?s:r,u=this.parent.element.querySelector(".e-content-wrap tr:nth-child("+(h+1)+") td");this.cellHeight=u.offsetHeight,this.groupOrder=t.groupOrder;for(var g=[],v=this,f=0;f<d.length;f++){var m=function(e){var t=d[parseInt(e.toString(),10)],a=void 0,o=i.i(n.extend)({},t,null,!0);if(v.parent.activeViewOptions.group.resources.length>0){var p=v.isSpannedEvent(o,l);a=v.getIndex(p[v.fields.startTime]),o.Index=a}else a=v.getIndex(o[v.fields.startTime]),o.Index=a;var h=v.cellHeader+v.eventHeight*(e+1)+2+v.moreIndicatorHeight,f="Vertical"===v.parent.activeViewOptions.orientation?r*v.cellWidth:s*v.cellWidth;if(!v.parent.isMinMaxDate(o[v.fields.startTime]))return{value:void 0};if("Vertical"===v.parent.activeViewOptions.orientation&&v.parent.activeViewOptions.group.resources.length>0){var m=v.renderedEvents.filter(function(e){return e.Guid===o.Guid}),y=g.filter(function(e){return e.Guid===o.Guid});if(m.length>0||y.length>0)return"continue"}if(!(v.parent.rowAutoHeight||v.cellHeight>h)){var T="Horizontal"===v.parent.activeViewOptions.orientation?r:s;if(v.renderMoreIndicator(c,d.length-e,l,T,f,f,s),"Horizontal"===v.parent.activeViewOptions.orientation)for(var D=s;D<d.length;D++)v.renderedEvents.push(i.i(n.extend)({},d[parseInt(D.toString(),10)],{Index:a+D},!0));return"break"}v.renderEvent(c,o,r,f,f,l,s),v.updateCellHeight(u,h),g.push(o)}(f);if("object"==typeof m)return m.value;if("break"===m)break}},t.prototype.renderEvent=function(e,t,r,o,l,c,p){var d,h,u=this,g=this.isSpannedEvent(t,c),v=this.createEventElement(g);if(1===g.isSpanned.count){var f=a.d(g[this.fields.endTime],-1);g[this.fields.endTime]=f>g[this.fields.startTime]?f:g[this.fields.endTime]}if(!(g[this.fields.startTime]>g[this.fields.endTime])){"Horizontal"===this.parent.activeViewOptions.orientation?(h=r+1,g[this.fields.startTime].getTime()===g[this.fields.endTime].getTime()&&(g.isSpanned.count=1),d=g.isSpanned.count*this.cellWidth):(h=p+1,d=this.isResource?g.isSpanned.count*this.cellWidth:this.cellWidth);var m=this.parent.element.querySelector(".e-content-wrap tr:nth-child("+h+") td"),y=m.offsetTop+this.cellHeader+this.eventHeight*g.Index+2;i.i(n.setStyleAttribute)(v,{width:d+"px",height:this.eventHeight+"px",left:o+"px",right:l+"px",top:y+"px"}),!this.isResource&&this.parent.rowAutoHeight&&"Vertical"===this.parent.activeViewOptions.orientation&&v.setAttribute("data-index",g.Index.toString());var T={data:g,element:v,cancel:!1,type:"event"};this.parent.trigger(s.l,T,function(t){t.cancel||(e.appendChild(v),u.wireAppointmentEvents(v,g),u.parent.activeViewOptions.group.resources.length>0?u.renderedEvents.push(i.i(n.extend)({},g,null,!0)):"Vertical"===u.parent.activeViewOptions.orientation?u.renderedEvents.push(i.i(n.extend)({},g,null,!0)):((g.isSpanned.isRight||g.isSpanned.isLeft)&&"Horizontal"===u.parent.activeViewOptions.orientation||!g.isSpanned.isRight)&&u.renderedEvents.push(i.i(n.extend)({},g,null,!0)))})}},t.prototype.renderMoreIndicator=function(e,t,r,s,o,l,c){if(0!==this.parent.activeViewOptions.group.resources.length||!e.querySelector('[data-start-date="'+r.getTime()+'"]')){var p;p=this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive?a.d(a.o(new Date(r.getTime())),1):a.d(new Date(r.getTime()),1);var d=this.getMoreIndicatorElement(t,r,p),h=this.parent.element.querySelector(".e-content-wrap tr:nth-child("+(s+1)+")"),u=h.offsetTop+(this.cellHeight-this.moreIndicatorHeight);o=Math.floor(o/this.cellWidth)*this.cellWidth,l=Math.floor(l/this.cellWidth)*this.cellWidth,i.i(n.setStyleAttribute)(d,{width:this.cellWidth+"px",left:o+"px",right:l+"px",top:u+"px"}),i.i(n.isNullOrUndefined)(c)||d.setAttribute("data-group-index",c.toString()),e.appendChild(d),n.EventHandler.add(d,"click",this.moreIndicatorClick,this)}},t.prototype.createEventElement=function(e){var t=e[this.fields.subject]||this.parent.eventSettings.fields.subject.default||this.parent.localeObj.getConstant("addTitle"),r=i.i(n.createElement)("div",{className:o.D,attrs:{"data-id":"Appointment_"+e[this.fields.id],"data-guid":e.Guid,role:"button",tabindex:"0","aria-disabled":this.parent.eventBase.getReadonlyAttribute(e),"aria-label":this.parent.getAnnouncementString(e)}});if(this.cssClass&&i.i(n.addClass)([r],this.cssClass),e[this.fields.isReadonly]&&i.i(n.addClass)([r],o._55),this.parent.activeViewOptions.group.resources.length>0){var a=this.getGroupIndexFromEvent(e);r.setAttribute("data-group-index",a.toString())}var s=[],l=i.i(n.extend)({},e,null,!0);if(this.parent.activeViewOptions.eventTemplate){var c=this.parent.element.id+"_"+this.parent.activeViewOptions.eventTemplateName+"eventTemplate";s=this.parent.getAppointmentTemplate()(l,this.parent,"eventTemplate",c,!1)}else{var p=e[this.fields.location]||this.parent.eventSettings.fields.location.default||"",d=i.i(n.createElement)("div",{className:o.H,innerHTML:t+(p?";&nbsp"+p:"")}),h=i.i(n.createElement)("div",{className:o.I+(this.parent.isAdaptive?" "+o.J:""),innerHTML:this.parent.getTimeString(l[this.fields.startTime])}),u=i.i(n.createElement)("div",{className:o.I+(this.parent.isAdaptive?" "+o.J:""),innerHTML:this.parent.getTimeString(l[this.fields.endTime])});i.i(n.addClass)([d],"e-text-center"),e[this.fields.isAllDay]?s=[d]:l.isLeft||l.isRight?(l.isLeft||s.push(h),s.push(d),l.isRight||s.push(u)):s=[h,d,u]}var g=i.i(n.createElement)("div",{className:o.G});return i.i(n.append)(s,g),r.appendChild(g),this.parent.eventBase.renderSpannedIcon(r,e.isSpanned),this.renderResizeHandler(r,e.data,e[this.fields.isReadonly]),this.applyResourceColor(r,l,"backgroundColor",this.groupOrder),r},t.prototype.isSpannedEvent=function(e,t){var r=new Date(t.getFullYear(),t.getMonth(),1),s=a.d(new Date(t.getFullYear(),t.getMonth()+1,0),1),o=i.i(n.extend)({},e,null,!0),l=o[this.fields.startTime],c=o[this.fields.endTime],p={isLeft:!1,isRight:!1,count:1},d=new Date(this.parent.selectedDate.getFullYear(),this.parent.firstMonthOfYear,1),h=a.u(d,this.parent.monthsCount);if(this.isResource&&this.updateSpannedEvents(e,r,s),"Vertical"===this.parent.activeViewOptions.orientation&&this.parent.activeViewOptions.group.resources.length>0){this.updateSpannedEventDetails(l,c,d,h,o,p);var u=o[this.fields.startTime],g=new Date(o[this.fields.endTime]-1);p.count=g.getMonth()-u.getMonth()+this.parent.monthsCount*(g.getFullYear()-u.getFullYear())+1}else if(this.updateSpannedEventDetails(l,c,r,s,o,p),0===this.parent.activeViewOptions.group.resources.length||this.parent.uiStateValues.isGroupAdaptive){var v=a.b(o[this.fields.endTime]).getTime(),f=a.b(o[this.fields.startTime]).getTime();(e[this.fields.isAllDay]&&v===e[this.fields.endTime].getTime()||p.isRight)&&(v=a.d(new Date(v),-1).getTime()),p.count=Math.ceil((v-f)/a.c)+1}return o.isSpanned=p,a.b(l).getTime()<a.b(this.parent.minDate).getTime()&&(o[this.fields.startTime]=this.parent.minDate),a.b(c).getTime()>a.b(this.parent.maxDate).getTime()&&(o[this.fields.endTime]=this.parent.maxDate),o},t.prototype.updateSpannedEventDetails=function(e,t,i,n,r,a){e.getTime()<i.getTime()&&(r[this.fields.startTime]=i,a.isLeft=!0),t.getTime()>n.getTime()&&(r[this.fields.endTime]=n,a.isRight=!0)},t.prototype.getOverlapEvents=function(e,t){var i,n,r=[];if(this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive){var s=this.parent.calendarUtil.getMonthStartDate(new Date(e.getTime())),o=a.d(this.parent.calendarUtil.getMonthEndDate(new Date(e.getTime())),-1);i=a.b(new Date(s.getTime())).getTime(),n=a.b(new Date(o.getTime())).getTime()}else this.parent.rowAutoHeight?(i=a.b(new Date(e.getTime())).getTime(),n=a.d(a.b(new Date(e.getTime())),1).getTime()):i=n=a.b(new Date(e.getTime())).getTime();for(var l=0,c=t;l<c.length;l++){var p=c[l],d=new Date(p[this.fields.startTime].getTime()),h=new Date(p[this.fields.endTime].getTime()),u=p[this.fields.isAllDay]?a.b(h).getTime()>i:a.b(h).getTime()>=i;(a.b(d).getTime()<=i&&u||a.b(d).getTime()>=i&&a.b(h).getTime()<=n)&&r.push(p)}return r},t.prototype.getMonths=function(){var e=this;return Array.apply(null,{length:this.parent.monthsCount}).map(function(t,i){return e.parent.firstMonthOfYear+i})},t.prototype.removeCellHeight=function(){for(var e="."+o.f+" tbody tr,."+o.y+" tbody tr,."+o.h+" tbody tr",t=[].slice.call(this.element.querySelectorAll(e)),i=0,n=t;i<n.length;i++){n[i].firstElementChild.style.height=""}},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.parent=null},t}(r.a)},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(0),r=(i.n(n),i(6)),a=(i.n(r),i(3)),s=i(1),o=function(){function e(e){this.parent=e,this.tooltipObj=new r.Tooltip({animation:{close:{effect:"FadeOut"}},content:"No title",position:"BottomRight",offsetY:10,mouseTrail:!this.parent.isAdaptive,showTipPointer:!1,cssClass:this.parent.cssClass+" "+a._82,target:this.getTargets(),beforeRender:this.onBeforeRender.bind(this),beforeClose:this.onBeforeClose.bind(this),enableRtl:this.parent.enableRtl,enableHtmlSanitizer:this.parent.enableHtmlSanitizer}),this.tooltipObj.appendTo(this.parent.element)}return e.prototype.getTargets=function(){var e=[];return this.parent.activeViewOptions.group.headerTooltipTemplate&&e.push("."+a._83),this.parent.eventSettings.enableTooltip&&e.push("."+a.D),e.join(",")},e.prototype.onBeforeRender=function(e){if(i.i(n.isNullOrUndefined)(e.target.getAttribute("data-tooltip-id"))){if(e.target.classList.contains(a._83)&&this.parent.activeViewOptions.group.resources.length>0){var t=void 0;if(this.parent.activeView.isTimelineView()){var r=parseInt(e.target.getAttribute("data-group-index"),10);t=this.parent.resourceBase.lastResourceLevel[parseInt(r.toString(),10)]}else{var o=e.target.parentNode.sectionRowIndex,l=e.target.cellIndex;t=this.parent.activeView.getColumnLevels()[parseInt(o.toString(),10)][parseInt(l.toString(),10)]}var c={resource:t.resource,resourceData:t.resourceData},p=i.i(n.createElement)("div"),d=this.parent.element.id+"_headerTooltipTemplate",h=[].slice.call(this.parent.getHeaderTooltipTemplate()(c,this.parent,"headerTooltipTemplate",d,!1));return i.i(n.append)(h,p),this.setContent(p),void this.parent.renderTemplates()}var u=this.parent.eventBase.getEventByGuid(e.target.getAttribute("data-guid"));if(!i.i(n.isNullOrUndefined)(u)){if(i.i(n.isNullOrUndefined)(this.parent.eventSettings.tooltipTemplate)){var g=this.parent.globalize,v=this.parent.eventFields,f=new Date(""+u[v.startTime]),m=new Date(""+u[v.endTime]);m=0===m.getHours()&&0===m.getMinutes()?new Date(m.setMilliseconds(-1e3)):m;var y=s.b(new Date(""+f)),T=s.b(new Date(""+m)),D=u[v.subject]||this.parent.eventSettings.fields.subject.default||this.parent.localeObj.getConstant("addTitle"),w=i.i(n.isNullOrUndefined)(u[v.location])?"":u[v.location],b="",C="",S="";b=g.formatDate(f,{type:"date",skeleton:"MMMd",calendar:this.parent.getCalendarMode()}),C=g.formatDate(f,{type:"date",skeleton:"medium",calendar:this.parent.getCalendarMode()}),S=g.formatDate(m,{type:"date",skeleton:"medium",calendar:this.parent.getCalendarMode()}),b=s.a(b,"single"),C=s.a(C,"single"),S=s.a(S,"single");var O=this.parent.getTimeString(f),E=this.parent.getTimeString(m),x=void 0;y.getTime()===T.getTime()?(x=g.formatDate(f,{type:"date",skeleton:"long",calendar:this.parent.getCalendarMode()}),x=s.a(x,"single")):x=y.getFullYear()===T.getFullYear()?b+" - "+S:C+" - "+S;var V=u[v.isAllDay]?this.parent.localeObj.getConstant("allDay"):O+" - "+E,A='<div><div class="e-subject">'+D+'</div><div class="e-location">'+w+'</div><div class="e-details">'+x+'</div><div class="e-all-day">'+V+"</div></div>";this.setContent(A)}else{var p=i.i(n.createElement)("div"),d=this.parent.element.id+"_tooltipTemplate",h=[].slice.call(this.parent.getEventTooltipTemplate()(u,this.parent,"tooltipTemplate",d,!1));i.i(n.append)(h,p),this.setContent(p)}this.parent.renderTemplates()}}},e.prototype.onBeforeClose=function(){this.parent.resetTemplates(["tooltipTemplate","headerTooltipTemplate"])},e.prototype.setContent=function(e){this.tooltipObj.setProperties({content:e},!0)},e.prototype.close=function(){this.tooltipObj.close()},e.prototype.destroy=function(){this.tooltipObj.destroy(),i.i(n.addClass)([this.parent.element],"e-control"),this.tooltipObj=null,this.parent=null},e}()},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(0),r=(i.n(n),i(12)),a=(i.n(r),i(3)),s=function(){function e(){}return e.prototype.renderFormValidator=function(e,t,i,n){var a=this;this.element=i,this.formObj=new r.FormValidator(e,{locale:n,customPlacement:function(e,t){a.errorPlacement(e,t)},rules:t,validationComplete:function(e){a.validationComplete(e)},focusout:function(e){a.focusOut(e)}})},e.prototype.focusOut=function(e){var t=e.relatedTarget;t&&(t.classList.contains("e-dlg-closeicon-btn")||t.classList.contains("e-close")||t.classList.contains(a._4)||t.classList.contains(a.e)||t.classList.contains(a._114)||t.classList.contains(a.n)||t.classList.contains(a._138))?this.ignoreError=!0:this.ignoreError=!1},e.prototype.validationComplete=function(e){var t=this.element.querySelector("#"+e.inputName+"_Error");t&&(t.style.display="failure"===e.status?"":"none")},e.prototype.errorPlacement=function(e,t){var r=t.getAttribute("for"),a=this.element.querySelector("#"+r+"_Error");a||this.ignoreError||this.createTooltip(e,t,r,""),i.i(n.isNullOrUndefined)(a)||(a.querySelector(".e-error").innerHTML=t.innerHTML)},e.prototype.createTooltip=function(e,t,r,s){var o,l,c=e.getBoundingClientRect();this.element.classList.contains(a._84)?(o=this.element,l=this.element.getBoundingClientRect()):(o=this.element.querySelector(".e-schedule-dialog .e-dlg-content"),l=o.getBoundingClientRect());var p=i.i(n.createElement)("div",{className:"e-tooltip-wrap e-popup "+a._139,id:r+"_Error",styles:"display:"+s+";top:"+(c.bottom-l.top+o.scrollTop+9)+"px;left:"+(c.left-l.left+o.scrollLeft+c.width/2)+"px;"}),d=i.i(n.createElement)("div",{className:"e-tip-content"});d.appendChild(t);var h=i.i(n.createElement)("div",{className:"e-arrow-tip e-tip-top"});h.appendChild(i.i(n.createElement)("div",{className:"e-arrow-tip-outer e-tip-top"})),h.appendChild(i.i(n.createElement)("div",{className:"e-arrow-tip-inner e-tip-top"})),p.appendChild(d),p.appendChild(h),o.appendChild(p),p.style.left=parseInt(p.style.left,10)-p.offsetWidth/2+"px"},e.prototype.destroyToolTip=function(){if(this.element)for(var e=[].slice.call(this.element.querySelectorAll("."+a._139)),t=0,r=e;t<r.length;t++){var s=r[t];i.i(n.remove)(s)}this.formObj&&this.formObj.element&&this.formObj.reset()},e.prototype.destroy=function(){this.formObj&&this.formObj.element&&!this.formObj.isDestroyed&&this.formObj.destroy(),this.formObj=null,this.element=null},e}()},function(e,t,i){"use strict";i.d(t,"a",function(){return c});var n=i(0),r=(i.n(n),i(24)),a=i(1),s=i(2),o=i(3),l=this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),c=function(e){function t(t){var i=e.call(this,t)||this;return i.viewClass="e-agenda-view",i.isInverseTableSelect=!1,i.agendaDates={},i.virtualScrollTop=1,i}return l(t,e),t.prototype.getModuleName=function(){return"agenda"},t.prototype.renderLayout=function(){this.agendaDates={},this.element=i.i(n.createElement)("div",{className:o._19}),i.i(n.addClass)([this.element],this.viewClass),this.element.appendChild(this.createTableLayout(o._23)),this.element.querySelector("table").setAttribute("role","presentation"),this.parent.element.querySelector("."+o._53).appendChild(this.element);var e=i.i(n.createElement)("tr");this.element.querySelector("tbody").appendChild(e);var t=i.i(n.createElement)("td");e.appendChild(t);var r=i.i(n.createElement)("div",{className:o.g});t.appendChild(r);var l=this.createTableLayout(o.h);this.setAriaAttributes(l),r.appendChild(l);var c=l.querySelector("tbody"),p=a.b(this.parent.selectedDate);this.renderEmptyContent(c,p),this.wireEvents(),this.parent.resourceBase&&this.parent.resourceBase.generateResourceLevels([{renderDates:this.parent.activeView.renderDates}]),this.parent.uiStateValues.isGroupAdaptive&&!this.parent.element.querySelector("."+o._24)&&this.renderResourceMobileLayout(),this.parent.notify(s.D,{})},t.prototype.eventLoad=function(e){this.dataSource=i.i(n.extend)([],this.parent.eventsData,null,!0);for(var t=0,r=this.parent.eventsData;t<r.length;t++){delete r[t].generatedDates}var l=this.parent.activeViewOptions.allowVirtualScrolling?e.processedData:this.parent.eventsProcessed;if(this.parent.uiStateValues.isGroupAdaptive){var c=this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex];this.dataSource=this.parent.eventBase.filterEventsByResource(c,this.dataSource),l=this.parent.eventBase.filterEventsByResource(c,l)}this.parent.eventsProcessed=this.processAgendaEvents(l);var p=a.b(this.parent.selectedDate),d=this.element.querySelector("."+o.h+" tbody");a.D(d),this.renderInitialContent(d,p),this.wireEventActions(),i.i(n.closest)(d,"."+o.g).scrollTop=1,this.parent.notify(s.C,{}),this.parent.activeViewOptions.allowVirtualScrolling||this.retainScrollPosition()},t.prototype.refreshEvent=function(e){for(var t=[],r=this.parent.eventFields,a=0,s=this.dataSource;a<s.length;a++){var o=s[a];i.i(n.isNullOrUndefined)(o[r.recurrenceID])&&!i.i(n.isNullOrUndefined)(o[r.recurrenceRule])&&!i.i(n.isNullOrUndefined)(o.generatedDates)&&e>=o.generatedDates.end&&(t=t.concat(this.parent.eventBase.generateOccurrence(o,e)))}this.parent.eventsProcessed=this.parent.eventsProcessed.concat(this.processAgendaEvents(t))},t.prototype.refreshHeader=function(){var e=this.element.querySelector("."+o.h+" tbody");this.parent.activeViewOptions.group.byDate?a.D(e):i.i(n.remove)(e.firstElementChild);var t=a.b(this.parent.selectedDate),r=i.i(n.createElement)("tbody"),s=new Date(t.getTime()),l=this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.hideEmptyAgendaDays?this.getEndDateFromStartDate(s):a.d(s,this.parent.agendaDaysCount);this.renderContent(r,s,l),i.i(n.append)([].slice.call(r.childNodes),e)},t.prototype.renderInitialContent=function(e,t){var r=i.i(n.createElement)("tbody"),s=new Date(t.getTime()),o=this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.hideEmptyAgendaDays?this.getEndDateFromStartDate(s):a.d(s,this.parent.agendaDaysCount);if(this.renderContent(r,s,o),i.i(n.append)([].slice.call(r.childNodes),e),this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.hideEmptyAgendaDays&&this.parent.eventsData.length>0)for(var l=this.getContentAreaElement(),c=l.querySelector(".e-content-table");l.offsetWidth<=l.clientWidth&&!(this.parent.isAdaptive&&c.offsetHeight>=l.clientHeight);){var p=i.i(n.createElement)("tbody");if(o=s,s=a.d(o,-this.parent.agendaDaysCount),this.renderContent(p,s,o),i.i(n.prepend)([].slice.call(p.childNodes),e),s<=this.parent.minDate)break}e.childNodes.length<=0&&this.renderEmptyContent(e,t)},t.prototype.renderContent=function(e,t,r){var s=this.parent.eventFields,l=new Date(t.getTime()),c=this.appointmentFiltering(l,r);c.length>0&&this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.hideEmptyAgendaDays&&(t=c[0][s.startTime],t=new Date(new Date(t.getTime()).setHours(0,0,0,0)),this.updateHeaderText(c[0][s.startTime]));var p;if(!this.parent.hideEmptyAgendaDays||this.parent.agendaDaysCount>0&&c.length>0){if(this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive){var d=t;this.parent.activeViewOptions.group.byDate||(this.parent.activeViewOptions.allowVirtualScrolling=!1,d=l,this.parent.headerModule&&(this.parent.headerModule.updateDateRange(),this.parent.headerModule.updateHeaderItems("remove"))),this.calculateResourceTableElement(e,this.parent.agendaDaysCount,d)}else for(var h=0;h<this.parent.agendaDaysCount;h++){var u=this.appointmentFiltering(t),g=this.createTableRowElement(t,"data");if(this.element.querySelector('tr[data-row-index="'+parseInt(g.getAttribute("data-row-index"),10)+'"]'))t=a.d(t,1);else{var v=g.children[0],f=g.children[1];if(u.length>0||!this.parent.hideEmptyAgendaDays&&0===u.length){var m=this.parent.hideEmptyAgendaDays||0!==u.length?"data":"noEvents";v.appendChild(this.createDateHeaderElement(t)),g.appendChild(v);var y=this.createAgendaContentElement(m,u,f);g.appendChild(y),y.querySelectorAll("li").length>0&&e.appendChild(g)}else this.parent.activeViewOptions.allowVirtualScrolling&&h--;if(this.isCurrentDate(new Date(t.getTime()))&&i.i(n.addClass)(v.childNodes,o._54),t=a.d(t,1),t.getTime()>r.getTime())break}}p=new Date(t.getTime()-a.c)}this.agendaDates={start:l,end:p}},t.prototype.agendaScrolling=function(e){this.parent.quickPopup&&this.parent.quickPopup.quickPopupHide(),this.parent.activeViewOptions.allowVirtualScrolling&&this.virtualScrolling(e),this.parent.activeViewOptions.allowVirtualScrolling||this.setPersistence()},t.prototype.virtualScrolling=function(e){var t,r,s=e.target,o=s.scrollTop,l=s.scrollHeight,c=s.clientHeight,p=o+c,d=this.virtualScrollTop<o?"next":"previous",h=s.querySelector("tbody"),u=i.i(n.createElement)("tbody"),g=this.getElementFromScrollerPosition(e),v=this.parent.getDateFromElement(g);if(0===o){if(t=this.getPreviousNextDate(a.d(v,-1),d),r=this.appointmentFiltering(t.start,t.end),r.length>0||!this.parent.hideEmptyAgendaDays){this.renderContent(u,t.start,t.end),i.i(n.prepend)([].slice.call(u.childNodes),h),this.wireEventActions();for(var f=0,m=h.children;f<m.length;f++)if(m[parseInt(f.toString(),10)].getAttribute("data-row-index")===g.getAttribute("data-column-index")){var y=m[parseInt(f.toString(),10)].offsetTop-this.element.querySelector(".e-agenda-item").offsetHeight;s.scrollTop=y;break}this.updateHeaderText(v)}}else p>=l-5?(t=this.getPreviousNextDate(a.d(v,1),d),r=this.appointmentFiltering(t.start,t.end),(r.length>0||!this.parent.hideEmptyAgendaDays)&&(this.renderContent(u,t.start,t.end),i.i(n.append)([].slice.call(u.childNodes),h),this.wireEventActions(),this.updateHeaderText(v))):this.updateHeaderText(v);this.virtualScrollTop=o;var T=this.parent.eventBase.getSelectedAppointments();T.length>0&&T[T.length-1].focus()},t.prototype.getElementFromScrollerPosition=function(e){var t,r,a,s=e.target,l=s.scrollTop,c=s.scrollHeight,p=s.clientHeight,d=l+p,h=[].slice.call(s.querySelectorAll(".e-agenda-item"));if(h.length>0)if(0===l)r=h[0],t=i.i(n.closest)(r,"."+o._46);else if(d===c)r=h[h.length-1],t=i.i(n.closest)(r,"."+o._46);else for(var u=0,g=h.length;u<g;u++)if(r=h[parseInt(u.toString(),10)],a=r.getBoundingClientRect(),a.top>=0){t=i.i(n.closest)(r,"."+o._46);break}return t},t.prototype.updateHeaderText=function(e){this.parent.showHeaderBar&&this.parent.headerModule.updateDateRange(e)},t.prototype.getPreviousNextDate=function(e,t){var i=new Date(e.getTime()),n=this.getStartDateFromEndDate(e),r=this.getEndDateFromStartDate(e),s=0;do{if((this.appointmentFiltering(i).length>0||!this.parent.hideEmptyAgendaDays)&&s++,(i=a.d(i,"next"===t?1:-1))<n||i>r)break}while(s!==this.parent.agendaDaysCount);var o=a.d(i,"next"===t?-1:1);return"next"===t?{start:e,end:a.d(o,1)}:{start:o,end:a.d(e,1)}},t.prototype.appointmentFiltering=function(e,t){var r,s;!i.i(n.isNullOrUndefined)(e)&&i.i(n.isNullOrUndefined)(t)?(r=a.b(new Date(e.getTime())),s=a.r(new Date(r.getTime()),a.c)):(r=new Date(e.getTime()),s=new Date(t.getTime()));var o=this.parent.eventBase.filterEvents(r,s);return 0===o.length&&(this.refreshEvent(e),o=this.parent.eventBase.filterEvents(r,s)),o},t.prototype.getStartDateFromEndDate=function(e){var t,i=this.parent.eventFields;if(this.parent.eventsProcessed.length>0){var n=Math.min.apply(Math,this.parent.eventsProcessed.map(function(e){return e[i.startTime].getTime()}));t=this.parent.hideEmptyAgendaDays?new Date(n):this.parent.minDate}else t=this.parent.hideEmptyAgendaDays?a.u(e,-1):this.parent.minDate;return a.b(t)},t.prototype.getEndDateFromStartDate=function(e){var t,i=this.parent.eventFields;if(this.parent.eventsProcessed.length>0){var n=Math.max.apply(Math,this.parent.eventsProcessed.map(function(e){return e[i.endTime].getTime()}));t=this.parent.hideEmptyAgendaDays?new Date(n):this.parent.maxDate}else t=this.parent.hideEmptyAgendaDays?a.u(e,1):this.parent.maxDate;return a.b(a.d(t,1))},t.prototype.getNextPreviousDate=function(e){var t="next"===e?1:-1;return a.d(this.parent.selectedDate,t)},t.prototype.startDate=function(){return a.b(this.parent.selectedDate)},t.prototype.endDate=function(){return this.parent.activeViewOptions.allowVirtualScrolling?this.getEndDateFromStartDate(this.startDate()):a.d(this.startDate(),this.parent.agendaDaysCount)},t.prototype.getDateRangeText=function(e){var t=this.parent.activeViewOptions.dateFormat?this.parent.activeViewOptions.dateFormat:"MMMM y";if(this.parent.activeViewOptions.allowVirtualScrolling||this.parent.isAdaptive){var r=i.i(n.isNullOrUndefined)(e)?this.parent.selectedDate:e;return a.a(this.parent.globalize.formatDate(r,{format:t,calendar:this.parent.getCalendarMode()}),"multiple")}var s=this.parent.selectedDate,o=a.d(s,this.parent.agendaDaysCount-1);return this.formatDateRange(s,o)},t.prototype.dayNavigationClick=function(e){var t=i.i(n.closest)(e.currentTarget,"."+o._46),r=this.parent.getDateFromElement(t);i.i(n.isNullOrUndefined)(r)||this.parent.isAdaptive||!this.parent.isMinMaxDate(r)||(this.parent.setProperties({selectedDate:r},!0),this.parent.changeView("Day",e))},t.prototype.wireEvents=function(){n.EventHandler.add(this.element.querySelector("."+o.g),s.E,this.agendaScrolling,this)},t.prototype.unWireEvents=function(){n.EventHandler.remove(this.element.querySelector("."+o.g),s.E,this.agendaScrolling);for(var e=[].slice.call(this.element.querySelectorAll(".e-m-date")),t=0,i=e;t<i.length;t++){var r=i[t];n.EventHandler.remove(r,"click",this.dayNavigationClick)}},t.prototype.addEventListener=function(){this.parent.on(s.G,this.onAgendaScrollUiUpdate,this),this.parent.on(s.B,this.eventLoad,this)},t.prototype.removeEventListener=function(){this.parent&&(this.parent.off(s.G,this.onAgendaScrollUiUpdate),this.parent.off(s.B,this.eventLoad))},t.prototype.onAgendaScrollUiUpdate=function(){var e=this.getHeaderBarHeight();this.parent.headerModule&&(this.parent.activeViewOptions.allowVirtualScrolling?this.parent.headerModule.updateHeaderItems("add"):this.parent.headerModule.updateHeaderItems("remove"));var t=this.element.querySelector("."+o.g);"auto"!==this.parent.height&&(t.style.height=i.i(n.formatUnit)(this.parent.element.offsetHeight-e))},t.prototype.scrollToDate=function(e){var t=new Date(+a.b(e));if(this.parent.activeViewOptions.allowVirtualScrolling)(!this.parent.hideEmptyAgendaDays||this.parent.getEvents(t,a.d(t,1),!0).length>0)&&this.parent.changeDate(t);else{var i=this.element.querySelector("."+o._46+'[data-date="'+t.getTime()+'"]');i&&(this.getContentAreaElement().scrollTop=i.offsetTop)}},t.prototype.destroy=function(){!this.parent||this.parent&&this.parent.isDestroyed||this.element&&(this.unWireEvents(),this.parent.resourceBase&&this.parent.resourceBase.destroy(),this.parent.headerModule&&this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.headerModule.updateHeaderItems("remove"),e.prototype.destroy.call(this))},t}(r.a)},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(10),r=this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=function(e){function t(t){var i=e.call(this,t)||this;return i.viewClass="e-day-view",i}return r(t,e),t.prototype.getModuleName=function(){return"day"},t}(n.a)},function(e,t,i){"use strict";i.d(t,"a",function(){return p});var n=i(0),r=(i.n(n),i(39)),a=(i.n(r),i(19)),s=(i.n(a),i(6)),o=(i.n(s),i(2)),l=i(1),c=i(3),p=function(){function e(e){this.parent=e,this.l10n=this.parent.localeObj,this.renderHeader(),this.addEventListener()}return e.prototype.addEventListener=function(){this.parent.on(o.I,this.closeHeaderPopup,this)},e.prototype.removeEventListener=function(){this.parent.off(o.I,this.closeHeaderPopup)},e.prototype.closeHeaderPopup=function(e){var t=i.i(n.closest)(e.event.target,".e-date-range,.e-header-popup,.e-day,.e-selected"),r=i.i(n.closest)(e.event.target,".e-hor-nav,.e-toolbar-pop"),a=this.parent.element.querySelector("."+c.g);if(this.parent.isAdaptive)if(i.i(n.isNullOrUndefined)(r)||!r.classList.contains("e-toolbar-pop")&&!r.classList.contains("e-hor-nav")||r.classList.contains("e-hor-nav")&&this.element.querySelector(".e-toolbar-pop").classList.contains(c.T)){i.i(n.removeClass)([a],c._64);var s=this.element.querySelector(".e-toolbar-pop");if(!i.i(n.isNullOrUndefined)(s)){var o=s.ej2_instances[0];!o||!i.i(n.isNullOrUndefined)(r)&&r.classList.contains("e-hor-nav")&&s.classList.contains(c.T)||o.hide()}}else i.i(n.addClass)([a],c._64);i.i(n.isNullOrUndefined)(t)&&this.hideHeaderPopup()},e.prototype.hideHeaderPopup=function(){this.headerPopup&&this.headerPopup.hide()},e.prototype.renderHeader=function(){this.element=i.i(n.createElement)("div",{className:c._65});var e=i.i(n.createElement)("div",{className:c._66});this.element.appendChild(e),this.parent.element.insertBefore(this.element,this.parent.element.firstElementChild),this.renderToolbar()},e.prototype.renderToolbar=function(){var e=this,t=this.getItems();this.parent.trigger(o.f,{requestType:"toolbarItemRendering",items:t},function(t){e.toolbarObj=new r.Toolbar({items:t.items,overflowMode:"Popup",clicked:e.toolbarClickHandler.bind(e),enableRtl:e.parent.enableRtl,enableHtmlSanitizer:e.parent.enableHtmlSanitizer,locale:e.parent.locale}),e.toolbarObj.appendTo(e.parent.element.querySelector("."+c._66));var i=e.toolbarObj.element.querySelector(".e-prev");i&&i.firstElementChild.setAttribute("title",e.l10n.getConstant("previous"));var n=e.toolbarObj.element.querySelector(".e-next");n&&n.firstElementChild.setAttribute("title",e.l10n.getConstant("next")),e.updateAddIcon(),e.updateActiveView(),e.parent.trigger(o.g,{requestType:"toolBarItemRendered",items:e.toolbarObj.items})})},e.prototype.updateItems=function(){var e=this;if(this.toolbarObj){var t=this.getItems();this.parent.trigger(o.f,{requestType:"toolbarItemRendering",items:t},function(t){e.toolbarObj.items=t.items,e.toolbarObj.dataBind(),e.parent.trigger(o.g,{requestType:"toolBarItemRendered",items:e.toolbarObj.items})})}},e.prototype.getPopUpRelativeElement=function(){return this.parent.isAdaptive?this.toolbarObj.element:this.element.querySelector(".e-date-range")},e.prototype.setDayOfWeek=function(e){this.headerCalendar&&(this.headerCalendar.firstDayOfWeek=e,this.headerCalendar.dataBind())},e.prototype.setCalendarDate=function(e){this.headerCalendar&&(this.headerCalendar.value=e,this.headerCalendar.dataBind())},e.prototype.setCalendarMinMaxDate=function(){this.headerCalendar&&(this.headerCalendar.min=this.parent.minDate,this.headerCalendar.max=this.parent.maxDate,this.headerCalendar.dataBind())},e.prototype.getCalendarView=function(){return["Month","MonthAgenda","TimelineMonth"].indexOf(this.parent.currentView)>-1?"Year":["Year","TimelineYear"].indexOf(this.parent.currentView)>-1?"Decade":"Month"},e.prototype.setCalendarView=function(){if(this.headerCalendar){var e=this.getCalendarView();this.headerCalendar.depth=e,this.headerCalendar.start=e,this.headerCalendar.refresh()}},e.prototype.updateActiveView=function(){var e=[].slice.call(this.toolbarObj.element.querySelectorAll(".e-views"));i.i(n.removeClass)(e,["e-active-view"]),e.length>0&&e[this.parent.viewIndex]&&i.i(n.addClass)([e[this.parent.viewIndex]],["e-active-view"])},e.prototype.updateDateRange=function(e){var t=this.toolbarObj.element.querySelector(".e-date-range");if(t){var r=t.querySelector(".e-tbar-btn-text");if(this.parent.activeViewOptions.dateRangeTemplate){r.textContent="";var a={startDate:this.parent.activeView.getStartDate(),endDate:this.parent.activeView.getEndDate(),currentView:this.parent.currentView},s=this.parent.activeViewOptions.dateRangeTemplateName,o=this.parent.element.id+"_"+s+"dateRangeTemplate",l=[].slice.call(this.parent.getDateRangeTemplate()(a,this.parent,"dateRangeTemplate",o,!1));i.i(n.append)(l,r)}else{var c=this.parent.activeView.getDateRangeText(e);t.setAttribute("aria-label",c),r.textContent=c}this.refresh()}},e.prototype.refresh=function(){this.toolbarObj&&this.toolbarObj.refreshOverflow()},e.prototype.updateAddIcon=function(){var e=this.toolbarObj.element.querySelector(".e-add");e&&(this.parent.eventSettings.allowAdding?i.i(n.removeClass)([e],c._67):i.i(n.addClass)([e],c._67))},e.prototype.getDateRangeText=function(){var e=this.parent.globalize.formatDate(this.parent.selectedDate,{format:"MMMM y",calendar:this.parent.getCalendarMode()});return l.a(e,"single")},e.prototype.getItems=function(){var e=[];if(e.push({align:"Left",prefixIcon:"e-icon-prev",tooltipText:"Previous",overflow:"Show",cssClass:"e-prev",htmlAttributes:{"aria-label":"previous period",role:"navigation"}}),e.push({align:"Left",prefixIcon:"e-icon-next",tooltipText:"Next",overflow:"Show",cssClass:"e-next",htmlAttributes:{"aria-label":"next period",role:"navigation"}}),e.push({align:"Left",text:this.getDateRangeText(),suffixIcon:"e-icon-down-arrow",cssClass:"e-date-range",overflow:"Show",htmlAttributes:{"aria-atomic":"true","aria-live":"assertive","aria-label":"title",role:"navigation"}}),this.parent.isAdaptive||this.parent.enableAdaptiveUI?(e.push({align:"Right",showAlwaysInPopup:this.parent.isAdaptive||this.parent.enableAdaptiveUI,prefixIcon:"e-icon-add",text:this.l10n.getConstant("newEvent"),cssClass:"e-add",overflow:"Show"}),e.push({align:"Right",showAlwaysInPopup:this.parent.isAdaptive||this.parent.enableAdaptiveUI,prefixIcon:"e-icon-today",text:this.l10n.getConstant("today"),cssClass:"e-today",overflow:"Show"})):(e.push({align:"Right",showAlwaysInPopup:this.parent.isAdaptive||this.parent.enableAdaptiveUI,prefixIcon:"e-icon-day",text:this.l10n.getConstant("today"),cssClass:"e-today",overflow:"Show"}),this.parent.views.length>1&&e.push({align:"Right",type:"Separator",cssClass:"e-schedule-seperator"})),this.parent.views.length>1)for(var t=0,i=this.parent.views;t<i.length;t++){var n=i[t];e.push(this.getItemObject(n))}return e},e.prototype.getItemObject=function(e){var t,i;"string"==typeof e?(t=e.toLowerCase(),i=null):(t=e.option.toLowerCase(),i=e.displayName);var n,r,a=this.parent.isAdaptive||this.parent.enableAdaptiveUI;switch(t){case"day":n={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-day",text:i||this.l10n.getConstant("day"),cssClass:"e-views e-day"};break;case"week":n={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-week",text:i||this.l10n.getConstant("week"),cssClass:"e-views e-week"};break;case"workweek":n={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-workweek",text:i||this.l10n.getConstant("workWeek"),cssClass:"e-views e-work-week"};break;case"month":n={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-month",text:i||this.l10n.getConstant("month"),cssClass:"e-views e-month"};break;case"year":n={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-year",text:i||this.l10n.getConstant("year"),cssClass:"e-views e-year"};break;case"agenda":n={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-agenda",text:i||this.l10n.getConstant("agenda"),cssClass:"e-views e-agenda"};break;case"monthagenda":n={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-month-agenda",text:i||this.l10n.getConstant("monthAgenda"),cssClass:"e-views e-month-agenda"};break;case"timelineday":n={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-timeline-day",text:i||this.l10n.getConstant("timelineDay"),cssClass:"e-views e-timeline-day"};break;case"timelineweek":n={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-timeline-week",text:i||this.l10n.getConstant("timelineWeek"),cssClass:"e-views e-timeline-week"};break;case"timelineworkweek":n={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-timeline-workweek",text:i||this.l10n.getConstant("timelineWorkWeek"),cssClass:"e-views e-timeline-work-week"};break;case"timelinemonth":n={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-timeline-month",text:i||this.l10n.getConstant("timelineMonth"),cssClass:"e-views e-timeline-month"};break;case"timelineyear":r="Vertical"===e.orientation?"vertical":"horizontal",n={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-timeline-year-"+r,text:i||this.l10n.getConstant("timelineYear"),cssClass:"e-views e-timeline-year"}}return n},e.prototype.renderHeaderPopup=function(){var e=i.i(n.createElement)("div",{className:c._68}),t=i.i(n.createElement)("div",{className:c._69});e.appendChild(t),this.element.appendChild(e),this.headerPopup=new s.Popup(e,{actionOnScroll:"hide",targetType:"relative",relateTo:this.getPopUpRelativeElement(),position:{X:"left",Y:"bottom"},enableRtl:this.parent.enableRtl});var r=this.getCalendarView(),o="Month"===this.parent.currentView&&!i.i(n.isNullOrUndefined)(this.parent.activeViewOptions.displayDate)&&!this.hasSelectedDate();this.headerCalendar=new a.Calendar({value:o?this.parent.activeViewOptions.displayDate:this.parent.selectedDate,min:this.parent.minDate,max:this.parent.maxDate,firstDayOfWeek:this.parent.activeViewOptions.firstDayOfWeek,enableRtl:this.parent.enableRtl,locale:this.parent.locale,depth:r,start:r,calendarMode:this.parent.calendarMode,change:this.calendarChange.bind(this)}),this.setCalendarTimezone(),this.headerCalendar.appendTo(t),this.headerPopup.hide()},e.prototype.calendarChange=function(e){if(e.value.getTime()!==this.parent.selectedDate.getTime()){var t=l.b(new Date(e.value));this.parent.changeDate(t)}this.headerPopup.hide()},e.prototype.setCalendarTimezone=function(){this.headerCalendar&&(this.headerCalendar.timezone=this.parent.timezone||this.parent.tzModule.getLocalTimezoneName())},e.prototype.calculateViewIndex=function(e){var t=i.i(n.closest)(e.originalEvent.target,".e-views");return[].slice.call(this.element.querySelectorAll(".e-views")).indexOf(t)},e.prototype.toolbarClickHandler=function(e){if(e.item){var t,r,a,s=e.item.cssClass.replace("e-views ","");switch(s){case"e-date-range":this.headerPopup||this.renderHeaderPopup(),this.headerPopup.element.classList.contains(c.T)?this.headerPopup.hide():this.headerPopup.show();break;case"e-day":this.parent.changeView("Day",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-week":this.parent.changeView("Week",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-work-week":this.parent.changeView("WorkWeek",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-month":this.parent.changeView("Month",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-year":this.parent.changeView("Year",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-agenda":this.parent.changeView("Agenda",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-month-agenda":this.parent.changeView("MonthAgenda",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-timeline-day":this.parent.changeView("TimelineDay",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-timeline-week":this.parent.changeView("TimelineWeek",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-timeline-work-week":this.parent.changeView("TimelineWorkWeek",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-timeline-month":this.parent.changeView("TimelineMonth",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-timeline-year":this.parent.changeView("TimelineYear",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-today":a=l.b(this.parent.getCurrentTime()),("Agenda"===this.parent.currentView||"MonthAgenda"===this.parent.currentView||!this.parent.isSelectedDate(a)||"Month"===this.parent.currentView&&this.parent.activeViewOptions.displayDate&&!this.hasSelectedDate()&&l.b(this.parent.activeViewOptions.displayDate)!==a||"Month"===this.parent.currentView&&this.parent.activeViewOptions.numberOfWeeks>0&&!this.hasSelectedDate()&&l.b(l.n(this.parent.selectedDate))!==a)&&this.parent.changeDate(a,e.originalEvent);break;case"e-prev":this.parent.changeDate(this.parent.activeView.getNextPreviousDate("previous"),e.originalEvent);break;case"e-next":this.parent.changeDate(this.parent.activeView.getNextPreviousDate("next"),e.originalEvent);break;case"e-add":if(r=this.parent.activeCellsData.startTime.getTime()===this.parent.activeCellsData.endTime.getTime(),this.parent.activeCellsData&&!r)t=this.parent.activeCellsData;else{var o=this.parent.activeViewOptions.timeScale.interval,p=this.parent.activeViewOptions.timeScale.slotCount,d=o*l.g/p,h=new Date(this.parent.selectedDate.getTime()),u=this.parent.getCurrentTime();h.setHours(u.getHours(),Math.round(h.getMinutes()/d)*d,0);t={startTime:h,endTime:new Date(new Date(h.getTime()).setMilliseconds(h.getMilliseconds()+d)),isAllDay:!1}}this.parent.eventWindow.openEditor(i.i(n.extend)(t,{cancel:!1,event:e.originalEvent}),"Add")}if(!i.i(n.isNullOrUndefined)(this.toolbarObj)){var g=this.toolbarObj.element.querySelector(".e-toolbar-pop");g&&"Input"!==e.item.type&&g.ej2_instances[0].hide({name:"SlideUp",duration:100})}}},e.prototype.hasSelectedDate=function(){var e=l.b(this.parent.selectedDate).getTime();return e>=this.parent.activeView.getStartDate().getTime()&&e<=this.parent.activeView.getEndDate().getTime()},e.prototype.getHeaderElement=function(){return this.toolbarObj.element},e.prototype.updateHeaderItems=function(e){var t=this.toolbarObj.element.querySelector(".e-prev"),r=this.toolbarObj.element.querySelector(".e-next"),a=this.toolbarObj.element.querySelector(".e-date-range");t&&("add"===e?i.i(n.addClass)([t],c._67):i.i(n.removeClass)([t],c._67)),r&&("add"===e?i.i(n.addClass)([r],c._67):i.i(n.removeClass)([r],c._67)),a&&("add"===e?i.i(n.addClass)([a],c._59):i.i(n.removeClass)([a],c._59))},e.prototype.previousNextIconHandler=function(){var e="Agenda"===this.parent.currentView?[this.parent.getCurrentViewDates()[0]]:this.parent.getCurrentViewDates(),t=this.toolbarObj.element.querySelector("."+c._70),r=this.toolbarObj.element.querySelector("."+c._71),a=new Date(e[0].getTime()),s=new Date(e[e.length-1].getTime());if("WorkWeek"===this.parent.currentView||"TimelineWorkWeek"===this.parent.currentView)a=l.l(l.b(this.parent.selectedDate),this.parent.firstDayOfWeek),s=l.d(a,7*this.parent.activeViewOptions.interval);else if("Month"===this.parent.currentView){var o=!i.i(n.isNullOrUndefined)(this.parent.activeViewOptions.displayDate)||this.parent.activeViewOptions.numberOfWeeks>0;a=o?this.parent.activeView.getStartDate():l.n(this.parent.selectedDate),s=o?this.parent.activeView.getEndDate():l.o(l.u(a,this.parent.activeViewOptions.interval-1))}i.i(n.isNullOrUndefined)(t)||this.toolbarObj.enableItems(t,a>l.b(this.parent.minDate)),i.i(n.isNullOrUndefined)(r)||this.toolbarObj.enableItems(r,s<l.b(this.parent.maxDate)),this.setCalendarMinMaxDate()},e.prototype.getModuleName=function(){return"headerbar"},e.prototype.destroy=function(){this.headerPopup&&!this.headerPopup.isDestroyed&&(this.headerPopup.destroy(),this.headerPopup=null),this.headerCalendar&&!this.headerCalendar.isDestroyed&&(this.headerCalendar.destroy(),this.headerCalendar=null),this.toolbarObj&&!this.toolbarObj.isDestroyed&&(this.toolbarObj.destroy(),this.removeEventListener(),i.i(n.remove)(this.element),this.toolbarObj=null),this.element=null,this.parent=null,this.l10n=null},e}()},function(e,t,i){"use strict";i.d(t,"a",function(){return p});var n=i(0),r=(i.n(n),i(24)),a=i(9),s=i(1),o=i(2),l=i(3),c=this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),p=function(e){function t(t){var i=e.call(this,t)||this;return i.dayNameFormat="narrow",i.viewClass="e-month-agenda-view",i.monthAgendaDate=new Date(""+t.selectedDate),i}return c(t,e),t.prototype.getModuleName=function(){return"monthAgenda"},t.prototype.renderAppointmentContainer=function(){var e=this.getContentAreaElement(),t=i.i(n.createElement)("div",{className:l._35});e.appendChild(t);var r=i.i(n.createElement)("div",{className:l._36});t.appendChild(r),this.appendAppContainer(r),this.setEventWrapperHeight()},t.prototype.getDayNameFormat=function(){return this.parent.isAdaptive?"narrow":"abbreviated"},t.prototype.updateSelectedCellClass=function(e){s.b(e.date).getTime()===s.b(this.monthAgendaDate).getTime()&&e.className.push(l._37)},t.prototype.setEventWrapperHeight=function(){var e=(this.parent.headerModule?this.parent.headerModule.getHeaderElement().offsetHeight:0)+2,t=this.parent.element.querySelector("."+l._38);t&&(e+=t.offsetHeight);var r=this.getContentAreaElement().firstElementChild,a=this.element.querySelector("."+l.d),s=this.parent.element.offsetHeight-e-a.offsetHeight,o=this.parent.activeViewOptions.interval>1?Math.round(.8*s):r.offsetHeight,c=s-o,p=this.element.querySelector("."+l._35),d=this.element.querySelector("."+l._36);"auto"!==this.parent.height&&(this.parent.activeViewOptions.interval>1&&(r.style.height=i.i(n.formatUnit)(o),n.EventHandler.add(r,"scroll",this.onContentScroll,this)),p.style.height=d.style.height=i.i(n.formatUnit)(c))},t.prototype.onDataReady=function(e){this.setEventWrapperHeight(),this.clearElements();var t=e.processedData;if(this.parent.uiStateValues.isGroupAdaptive){var r=this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex];t=this.parent.eventBase.filterEventsByResource(r,t)}this.agendaBase=this.getAgendaBase(),this.parent.eventsProcessed=this.agendaBase.processAgendaEvents(t);for(var a=0,c=0,p=this.renderDates;c<p.length;c++){var d=p[c],h=this.appointmentFiltering(d),u=this.element.querySelectorAll("."+l.n)[parseInt(a.toString(),10)];h.length>0&&(u.querySelector("."+l._39)||u.appendChild(i.i(n.createElement)("div",{className:l._39})),d.getTime()===s.b(new Date(this.monthAgendaDate.getTime())).getTime()&&this.onEventRender(h,d)),a++}this.parent.notify(o.C,{})},t.prototype.onCellClick=function(e){this.parent.quickPopup&&this.parent.quickPopup.quickPopupHide();var t=this.appointmentFiltering(e.startTime);this.onEventRender(t,e.startTime),this.parent.notify(o.C,{}),this.monthAgendaDate=new Date(""+e.startTime)},t.prototype.onEventRender=function(e,t){this.agendaBase=this.getAgendaBase();var r=this.element.querySelector("."+l._36);if(s.D(r),0===this.parent.activeViewOptions.group.resources.length||this.parent.uiStateValues.isGroupAdaptive)if(e.length>0){var a=i.i(n.createElement)("div",{className:l.l});r.appendChild(this.agendaBase.createAgendaContentElement("data",e,a))}else this.appendAppContainer(r);else if(e.length>0){var o=this.createTableLayout(),c=o.querySelector("tbody");this.agendaBase.calculateResourceTableElement(c,1,t),o.appendChild(c),r.appendChild(o)}else this.appendAppContainer(r);this.agendaBase.wireEventActions()},t.prototype.appointmentFiltering=function(e){var t=s.b(new Date(e.getTime())),i=s.r(new Date(t.getTime()),s.c);return this.parent.eventBase.filterEvents(t,i)},t.prototype.clearElements=function(){for(var e=[].slice.call(this.element.querySelectorAll("."+l._39)),t=0,r=e;t<r.length;t++){var a=r[t];i.i(n.remove)(a)}this.appendAppContainer(this.element.querySelector("."+l._36))},t.prototype.appendAppContainer=function(e){var t=i.i(n.createElement)("div",{className:l.l});i.i(n.addClass)([t],l._40),t.innerHTML=this.parent.localeObj.getConstant("noEvents"),s.D(e),e.appendChild(t)},t.prototype.getNextPreviousDate=function(e){var t=this.parent.selectedDate,i="next"===e?this.parent.activeViewOptions.interval:-this.parent.activeViewOptions.interval,n=s.u(this.parent.selectedDate,i),r="next"===e?2:0,a=new Date(t.getFullYear(),t.getMonth()+r,0).getDate(),o=a>=this.monthAgendaDate.getDate()?this.monthAgendaDate.getDate():a;return this.monthAgendaDate=new Date(n.getFullYear(),n.getMonth(),o),this.monthAgendaDate},t.prototype.getAgendaBase=function(){return this.agendaBase||new r.a(this.parent)},t.prototype.destroy=function(){this.agendaBase&&(this.agendaBase.destroy(),this.agendaBase=null),e.prototype.destroy.call(this)},t}(a.a)},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(0),r=(i.n(n),i(1)),a=function(){function e(e,t){this.parent=e,this.renderDates=t}return e.prototype.groupByYear=function(e){for(var t={},i=0,n=e;i<n.length;i++){var r=n[i],a=r.getFullYear();t[parseInt(a.toString(),10)]=t[parseInt(a.toString(),10)]||[],t[parseInt(a.toString(),10)].push(r)}return t},e.prototype.groupByMonth=function(e){for(var t={},i=0,n=e;i<n.length;i++){var r=n[i],a=12*(r.getFullYear()-1970)+r.getMonth();t[parseInt(a.toString(),10)]=t[parseInt(a.toString(),10)]||[],t[parseInt(a.toString(),10)].push(r)}return t},e.prototype.groupByWeek=function(e){for(var t={},i=0,n=e;i<n.length;i++){var a=n[i],s=+new Date(1970,0,1),o=a.getTimezoneOffset()-new Date(1970,0,1).getTimezoneOffset(),l=Math.ceil(((+a-s-60*o*1e3)/r.c+new Date(s).getDay()+1)/7);this.parent.firstDayOfWeek&&this.parent.firstDayOfWeek>new Date(+a).getDay()&&(l-=1),t[parseInt(l.toString(),10)]=t[parseInt(l.toString(),10)]||[],t[parseInt(l.toString(),10)].push(a)}return t},e.prototype.generateSlots=function(e,t,a,s,o){for(var l=this,c=function(e,t){return l.parent.globalize.formatDate(e,{format:t,calendar:l.parent.getCalendarMode()})},p=[],d=Object.keys(e),h=0;h<d.length;h++){var u=e[d[parseInt(h.toString(),10)]],g=void 0;if(a.template){var v={date:u[0],type:o},f=this.parent.element.id+"_headerRowTemplate";g=[].slice.call(this.parent.templateParser(a.template)(v,this.parent,"template",f,!1))}else{var m=void 0;switch(a.option){case"Year":m='<span class="e-header-year">'+c(u[0],"y")+"</span>";break;case"Month":m='<span class="e-header-month">'+i.i(r.a)(c(u[0],"MMMM"),"single")+"</span>";break;case"Week":m='<span class="e-header-week">'+this.parent.getWeekNumberContent(u)+"</span>"}var y=i.i(n.createElement)("div",{innerHTML:m});g=[].slice.call(y.childNodes)}p.push({date:u[0],type:o,className:[s],colSpan:u.length*t,template:g})}return p},e.prototype.generateColumnLevels=function(e,t){var i=[],n=this.parent.activeViewOptions.headerRows,r=1;"Hour"===n[n.length-1].option&&t.length>0&&(r=t.length/e.length);for(var a,s,o,l=[],c=0,p=n;c<p.length;c++){var d=p[c];switch(d.option){case"Year":a=this.groupByYear(this.renderDates),l=this.generateSlots(a,r,d,"e-header-year-cell","yearHeader"),i.push(l);break;case"Month":s=this.groupByMonth(this.renderDates),l=this.generateSlots(s,r,d,"e-header-month-cell","monthHeader"),i.push(l);break;case"Week":o=this.groupByWeek(this.renderDates),l=this.generateSlots(o,r,d,"e-header-week-cell","weekHeader"),i.push(l);break;case"Date":l=e,l=l.map(function(e){return e.colSpan=r,e}),i.push(l);break;case"Hour":t.length>0&&i.push(t)}}return i},e}()},function(e,t,i){"use strict";i.d(t,"a",function(){return d});var n=i(0),r=(i.n(n),i(9)),a=i(7),s=i(32),o=i(1),l=i(2),c=i(3),p=this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),d=function(e){function t(t){var i=e.call(this,t)||this;return i.viewClass="e-timeline-month-view",i.isInverseTableSelect=!0,i.appointment=null,i}return p(t,e),t.prototype.getModuleName=function(){return"timelineMonth"},t.prototype.onDataReady=function(){this.appointment=new a.a(this.parent,"day"),this.appointment.renderAppointments(),this.parent.notify(l.C,{})},t.prototype.getLeftPanelElement=function(){return this.element.querySelector("."+c.x)},t.prototype.scrollTopPanel=function(t){e.prototype.scrollTopPanel.call(this,t),this.scrollHeaderLabels(t)},t.prototype.setContentHeight=function(e,t,r){t&&(t.style.height=i.i(n.formatUnit)(r-this.getScrollXIndent(e))),e.style.height=i.i(n.formatUnit)(r)},t.prototype.getDateSlots=function(e,t){for(var i=[],n=0,r=e;n<r.length;n++){var a=r[n],s=[c.e];this.isCurrentDate(a)&&s.push(c.s),i.push({date:a,type:"dateHeader",className:s,colSpan:1,workDays:t})}return i},t.prototype.renderLeftIndent=function(e){this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive&&this.parent.resourceBase.renderResourceHeaderIndent(e)},t.prototype.renderContent=function(){var e=i.i(n.createElement)("tr");if(this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive){var t=i.i(n.createElement)("td");t.appendChild(this.parent.resourceBase.createResourceColumn()),e.appendChild(t)}var r=i.i(n.createElement)("td");this.element.querySelector("tbody").appendChild(e);var a=i.i(n.createElement)("div",{className:c.g});a.appendChild(this.renderContentArea()),a.appendChild(this.createEventTable(this.getRowCount())),this.collapseRows(a),n.EventHandler.add(a,"scroll",this.onContentScroll,this),r.appendChild(a),this.parent.virtualScrollModule&&this.parent.virtualScrollModule.renderVirtualTrack(a),e.appendChild(r)},t.prototype.getRowCount=function(){return this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive?this.parent.resourceBase.renderedResources.length:1},t.prototype.getContentSlots=function(){for(var e=[],t=0;t<this.getRowCount();t++)for(var i=0,n=this.colLevels[this.colLevels.length-1];i<n.length;i++){var r=n[i];if(r.className=[c.n],this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive){var a=this.parent.resourceBase.renderedResources[parseInt(t.toString(),10)];r.workDays=a.resourceData[a.resource.workDaysField]||this.parent.workDays,r.className=r.className.concat(a.className),r.groupIndex=a.groupIndex,r.groupOrder=a.groupOrder}var s={date:new Date(+r.date),colSpan:r.colSpan,groupIndex:r.groupIndex,workDays:r.workDays,type:"monthCells",className:r.className};e[parseInt(t.toString(),10)]||(e[parseInt(t.toString(),10)]=[]),e[parseInt(t.toString(),10)].push(s)}return e},t.prototype.updateClassList=function(e){this.parent.isMinMaxDate(e.date)||e.className.push(c.r)},t.prototype.unWireEvents=function(){n.EventHandler.remove(this.getContentAreaElement(),"scroll",this.onContentScroll)},t.prototype.getMonthStart=function(e){var t=this.parent.calendarUtil.firstDateOfMonth(o.b(e));return new Date(t.getFullYear(),t.getMonth(),t.getDate())},t.prototype.getMonthEnd=function(e){var t=this.parent.calendarUtil.firstDateOfMonth(o.b(e));return this.parent.calendarUtil.lastDateOfMonth(o.u(new Date(+t),this.parent.activeViewOptions.interval-1))},t.prototype.generateColumnLevels=function(){var e=[],t=this.getDateSlots(this.renderDates,this.parent.activeViewOptions.workDays);e.push(t),this.parent.activeViewOptions.group.resources.length>0&&this.parent.resourceBase.generateResourceLevels(t,!this.parent.uiStateValues.isGroupAdaptive);var i=[];if(this.parent.activeViewOptions.headerRows.length>0){e=new s.a(this.parent,this.renderDates).generateColumnLevels(t,i)}return this.colLevels=e,e},t.prototype.getAdjustedDate=function(e){for(var t=this.colLevels[this.colLevels.length-1],i=0;i<t.length;i++)if(t[parseInt(i.toString(),10)].date.getTime()>e.getTime())return t[i-1].date;return null},t.prototype.destroy=function(){if(!(!this.parent||this.parent&&this.parent.isDestroyed)){if(this.element){var t=this.element.querySelector("."+c.g);t&&n.EventHandler.remove(t,"scroll",this.onContentScroll)}this.appointment&&(this.appointment.destroy(),this.appointment=null),e.prototype.destroy.call(this)}},t}(r.a)},function(e,t,i){"use strict";i.d(t,"a",function(){return d});var n=i(0),r=(i.n(n),i(10)),a=i(7),s=i(32),o=i(2),l=i(3),c=i(1),p=this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),d=function(e){function t(t){var i=e.call(this,t)||this;return i.timelineAppointment=null,i.baseCssClass="e-timeline-view",i}return p(t,e),t.prototype.getModuleName=function(){return"timelineViews"},t.prototype.getLeftPanelElement=function(){return this.element.querySelector("."+l.x)},t.prototype.scrollTopPanel=function(t){e.prototype.scrollTopPanel.call(this,t),this.scrollHeaderLabels(t)},t.prototype.scrollToWorkHour=function(){var e=this.parent.getStartEndTime(this.parent.workHours.start),t=this.isWorkDay(this.parent.selectedDate)&&this.parent.workHours.highlight&&!i.i(n.isNullOrUndefined)(e)?new Date(+this.parent.selectedDate).setHours(e.getHours(),e.getMinutes(),0,0):new Date(+this.parent.selectedDate).setHours(0,0,0,0),r='[data-date="'+new Date(t).getTime().toString()+'"]',a=this.element.querySelector(r);a&&(this.getContentAreaElement().scrollLeft=this.parent.enableRtl?-(this.parent.getContentTable().offsetWidth-a.offsetLeft-a.offsetWidth):a.offsetLeft)},t.prototype.scrollToHour=function(e,t){var r,a;if(t&&(a=this.parent.getIndexOfDate(this.renderDates,c.b(t)))>=0&&(r=t,!i.i(n.isNullOrUndefined)(e))){var s=e.split(":");2===s.length&&(r=new Date(t.setHours(parseInt(s[0],10),parseInt(s[1],10),0)))}if(r=i.i(n.isNullOrUndefined)(t)?this.parent.getStartEndTime(e):r,!i.i(n.isNullOrUndefined)(r)){var o;o=i.i(n.isNullOrUndefined)(e)||!this.parent.activeViewOptions.timeScale.enable?a*this.getWorkCellWidth():i.i(n.isNullOrUndefined)(t)?this.getLeftFromDateTime(null,r):this.getLeftFromDateTime([a],r),this.getScrollableElement().scrollLeft=this.parent.enableRtl?-o:o}},t.prototype.generateColumnLevels=function(){var e=[],t=this.getDateSlots(this.renderDates,this.parent.activeViewOptions.workDays);e.push(t),this.parent.activeViewOptions.group.resources.length>0&&this.parent.resourceBase.generateResourceLevels(t,!this.parent.uiStateValues.isGroupAdaptive);var i=[];if(this.parent.activeViewOptions.timeScale.enable&&(i=this.generateTimeSlots(e[e.length-1]),e.push(i)),this.parent.activeViewOptions.headerRows.length>0){e=new s.a(this.parent,this.renderDates).generateColumnLevels(t,i)}return e},t.prototype.generateTimeSlots=function(e){for(var t=this,r=function(e){return e.type=e.first?"majorSlot":"minorSlot",e.className=e.first?[l._11]:[l._11,l._12],e.workDays=t.parent.activeViewOptions.workDays,e},a=this.getTimeSlotRows(r),s=[],o=0,p=e;o<p.length;o++){var d=p[o];d.colSpan=a.length;for(var h=i.i(n.extend)([],a,null,!0),u=0,g=h;u<g.length;u++){var v=g[u],f=c.b(new Date(""+d.date));v.date=c.r(f,c.s(v.date)),s.push(v)}}return s},t.prototype.changeCurrentTimePosition=function(){if(!(!this.parent||this.parent&&this.parent.isDestroyed)){this.removeCurrentTimeIndicatorElements();var e=this.getCurrentTimeIndicatorIndex(),t=this.getLeftFromDateTime(e,this.parent.getCurrentTime()),r=this.element.querySelector("."+l.h).offsetHeight,a=this.element.querySelector("."+l.d);if(this.element.querySelector("."+l.g).appendChild(i.i(n.createElement)("div",{className:l._13,styles:(this.parent.enableRtl?"right":"left")+":"+i.i(n.formatUnit)(t)+"; height:"+i.i(n.formatUnit)(r)})),this.parent.virtualScrollModule){var s=this.parent.element.querySelector("."+l._13),o=this.parent.element.querySelector("."+l.g+" table");i.i(n.setStyleAttribute)(s,{transform:o.style.transform})}var c=i.i(n.createElement)("div",{innerHTML:this.parent.getTimeString(this.parent.getCurrentTime()),className:l._14});a.appendChild(c),c.style[this.parent.enableRtl?"right":"left"]=i.i(n.formatUnit)(t-c.offsetWidth/2)}},t.prototype.getLeftFromDateTime=function(e,t){var r=this.getStartHour(),a=this.getEndHour(),s=0,o=60*(t.getHours()-r.getHours())+(t.getMinutes()-r.getMinutes());if(!i.i(n.isNullOrUndefined)(e)){var l=0===a.getHours()?24:a.getHours();0!==e[0]&&(s=e[0]*(60*(l-r.getHours()))+(a.getMinutes()-r.getMinutes())),o=s+o}return o*this.getWorkCellWidth()*this.parent.activeViewOptions.timeScale.slotCount/this.parent.activeViewOptions.timeScale.interval},t.prototype.getWorkCellWidth=function(){return this.element.querySelector(".e-work-cells").getBoundingClientRect().width},t.prototype.renderHeader=function(){var e=i.i(n.createElement)("tr");this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive&&this.parent.resourceBase.renderResourceHeaderIndent(e);var t=i.i(n.createElement)("td");t.appendChild(this.renderDatesHeader()),e.appendChild(t),i.i(n.prepend)([e],this.element.querySelector("tbody"))},t.prototype.createAllDayRow=function(e,t){},t.prototype.getCurrentTimeIndicatorIndex=function(){var e=[],t=this.parent.getIndexOfDate(this.renderDates,c.b(this.parent.getCurrentTime()));return t>=0&&e.push(t),e},t.prototype.renderContent=function(){var e=i.i(n.createElement)("tr");if(this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive){var t=i.i(n.createElement)("td");t.appendChild(this.parent.resourceBase.createResourceColumn()),e.appendChild(t)}var r=i.i(n.createElement)("td"),a=this.renderContentArea();a.appendChild(this.createEventTable(this.getRowCount())),this.collapseRows(a),r.appendChild(a),e.appendChild(r),this.parent.virtualScrollModule&&this.parent.virtualScrollModule.renderVirtualTrack(a),this.element.querySelector("tbody").appendChild(e)},t.prototype.getRowCount=function(){return this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive?this.parent.resourceBase.renderedResources.length:1},t.prototype.getResourceTdData=function(e,t){var i=this.parent.resourceBase.renderedResources[parseInt(e.toString(),10)],n=i.resourceData[i.resource.startHourField]||this.parent.workHours.start,r=i.resourceData[i.resource.endHourField]||this.parent.workHours.end;return t.startHour=this.parent.getStartEndTime(n),t.endHour=this.parent.getStartEndTime(r),t.workDays=i.resourceData[i.resource.workDaysField]||this.parent.workDays,t.className=i.className,t.groupIndex=i.groupIndex,t.groupOrder=i.groupOrder,t},t.prototype.renderContentTable=function(e){var t=e.querySelector("tbody");i.i(n.append)(this.getContentRows(),t)},t.prototype.getContentRows=function(){for(var e=[],t=i.i(n.createElement)("tr"),r=i.i(n.createElement)("td",{attrs:{"aria-selected":"false"}}),a=this.getRowCount(),s=0;s<a;s++){for(var o=t.cloneNode(),l=0,c=this.colLevels[this.colLevels.length-1];l<c.length;l++){var p=c[l];this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive&&(p=this.getResourceTdData(s,p));var d=this.createContentTd(p,p,r);o.appendChild(d)}e.push(o)}return e},t.prototype.getContentTdClass=function(e){return e.first||!this.parent.activeViewOptions.timeScale.enable?[l.n]:[l.n,l._15]},t.prototype.renderEvents=function(){this.timelineAppointment=new a.a(this.parent,this.parent.activeViewOptions.timeScale.enable?"hour":"day"),this.timelineAppointment.renderAppointments(),this.parent.notify(o.C,{})},t.prototype.getAdjustedDate=function(e){if(!this.parent.activeViewOptions.timeScale.enable)return new Date(e.setHours(0,0,0,0));for(var t=this.colLevels[this.colLevels.length-1],i=0;i<t.length;i++)if(t[parseInt(i.toString(),10)].date.getTime()>e.getTime())return t[i-1].date;return null},t.prototype.destroy=function(){!this.parent||this.parent&&this.parent.isDestroyed||(this.timelineAppointment&&(this.timelineAppointment.destroy(),this.timelineAppointment=null),e.prototype.destroy.call(this))},t}(r.a)},function(e,t,i){"use strict";i.d(t,"a",function(){return c});var n=i(0),r=(i.n(n),i(16)),a=i(2),s=i(3),o=i(1),l=this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),c=function(e){function t(t){var i=e.call(this,t)||this;return i.viewClass="e-timeline-year-view",i.isInverseTableSelect=!0,i}return l(t,e),t.prototype.getModuleName=function(){return"timelineYear"},t.prototype.renderHeader=function(e){var t=i.i(n.createElement)("tr");if(e.appendChild(t),"Vertical"===this.parent.activeViewOptions.orientation&&this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive)this.parent.resourceBase.renderResourceHeaderIndent(t);else{var r=i.i(n.createElement)("td",{className:s.a});t.appendChild(r),r.appendChild(this.renderResourceHeader(s.b))}var o="Horizontal"===this.parent.activeViewOptions.orientation,l=this.parent.activeViewOptions.group.resources.length>0;this.isInverseTableSelect=!(o&&!l);var c=i.i(n.createElement)("td");t.appendChild(c);var p=i.i(n.createElement)("div",{className:s.c});if(c.appendChild(p),"Horizontal"===this.parent.activeViewOptions.orientation&&this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive)p.appendChild(this.renderResourceHeader(s.d)),this.columnCount=this.colLevels.slice(-1)[0].length;else{var d=i.i(n.createElement)("div",{className:s.d});p.appendChild(d);var h=this.createTableLayout();d.appendChild(h),h.appendChild(this.createTableColGroup(this.columnCount));var u=i.i(n.createElement)("tr");h.querySelector("tbody").appendChild(u);for(var g=this.getMonths(),v=this.getMonthDates(new Date(this.parent.selectedDate.getFullYear(),g[0],1)),f=0;f<this.columnCount;f++){var m=new Date(this.parent.selectedDate.getFullYear(),g[parseInt(f.toString(),10)],1),y=i.i(n.createElement)("td",{className:s.e});"Horizontal"===this.parent.activeViewOptions.orientation?this.parent.dayHeaderTemplate?i.i(n.append)(this.renderDayMonthHeaderTemplate(v[parseInt(f.toString(),10)],f,"dayHeaderTemplate"),y):y.innerHTML="<span>"+this.parent.getDayNames("abbreviated")[f%7]+"</span>":(this.parent.monthHeaderTemplate?i.i(n.append)(this.renderDayMonthHeaderTemplate(m,g[parseInt(f.toString(),10)],"monthHeaderTemplate"),y):y.innerHTML="<span>"+this.getMonthName(m)+"</span>",y.setAttribute("data-date",m.getTime().toString())),u.appendChild(y),this.parent.trigger(a.j,{elementType:"headerCells",element:y})}}},t.prototype.renderResourceHeader=function(e){var t=i.i(n.createElement)("div",{className:e}),r=this.createTableLayout();t.appendChild(r);var o=i.i(n.createElement)("tr");if(this.parent.activeViewOptions.group.resources.length>0)this.colLevels=this.generateColumnLevels();else{var l=[{className:[s.e],type:"headerCell"}];this.colLevels=[l]}for(var c=0,p=this.colLevels;c<p.length;c++){for(var d=p[c],h=o.cloneNode(),u=e===s.d?d:[d[0]],g=0,v=u;g<v.length;g++){var f=v[g],m=i.i(n.createElement)("td");f.className&&i.i(n.addClass)([m],f.className),e===s.d&&(f.template&&i.i(n.append)(f.template,m),f.colSpan&&m.setAttribute("colspan",f.colSpan.toString()),f.groupIndex>-1&&m.setAttribute("data-group-index",f.groupIndex.toString()),this.setResourceHeaderContent(m,f)),e===s.b&&this.parent.renderHeaderIndentTemplate(f,m);var y={elementType:f.type,element:m,date:f.date,groupIndex:f.groupIndex};this.parent.trigger(a.j,y),h.appendChild(m)}r.querySelector("tbody").appendChild(h)}return e===s.d&&r.appendChild(this.createTableColGroup(this.colLevels.slice(-1)[0].length)),t},t.prototype.renderContent=function(e){var t=i.i(n.createElement)("tr");e.appendChild(t);var r,a=i.i(n.createElement)("td"),o=i.i(n.createElement)("td"),l=[];if("Vertical"===this.parent.activeViewOptions.orientation&&this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive)l.push(a),a.appendChild(this.parent.resourceBase.createResourceColumn()),this.rowCount=this.parent.resourceBase.renderedResources.length;else{l.push(a);var c=i.i(n.createElement)("div",{className:s.f});a.appendChild(c),c.appendChild(this.createTableLayout()),r=c.querySelector("tbody")}l.push(o),i.i(n.append)(l,t);var p=i.i(n.createElement)("div",{className:s.g});o.appendChild(p);var d=this.createTableLayout(s.h);this.setAriaAttributes(d),p.appendChild(d);var h=i.i(n.createElement)("div",{className:s.i});p.appendChild(h),this.parent.virtualScrollModule&&this.parent.virtualScrollModule.renderVirtualTrack(p);var u=d.querySelector("tbody");if(this.parent.rowAutoHeight){var g=[d],v=this.parent.element.querySelector("."+s.f+" ."+s.j);v&&g.push(v),i.i(n.addClass)(g,s.k)}if(this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive){var f="Horizontal"===this.parent.activeViewOptions.orientation?this.colLevels.slice(-1)[0].length:this.columnCount;d.appendChild(this.createTableColGroup(f)),this.renderResourceContent(h,r,u)}else d.appendChild(this.createTableColGroup(this.columnCount)),this.renderDefaultContent(h,r,u)},t.prototype.renderDefaultContent=function(e,t,r){for(var l=this.getMonths(),c=this.getMonthDates(new Date(this.parent.selectedDate.getFullYear(),l[0],1)),p=0;p<this.rowCount;p++){e.appendChild(i.i(n.createElement)("div",{className:s.l}));var d=new Date(this.parent.selectedDate.getFullYear(),l[parseInt(p.toString(),10)],1),h=this.parent.calendarUtil.getMonthStartDate(new Date(d.getTime())),u=this.parent.calendarUtil.getMonthEndDate(new Date(d.getTime())),g=i.i(n.createElement)("tr"),v=g.cloneNode();t.appendChild(v);var f=g.cloneNode();r.appendChild(f);var m=i.i(n.createElement)("td",{className:s.m});"Horizontal"===this.parent.activeViewOptions.orientation?(this.parent.monthHeaderTemplate?i.i(n.append)(this.renderDayMonthHeaderTemplate(h,p,"monthHeaderTemplate"),m):m.innerHTML="<span>"+this.getMonthName(d)+"</span>",m.setAttribute("data-date",d.getTime().toString())):this.parent.dayHeaderTemplate?i.i(n.append)(this.renderDayMonthHeaderTemplate(c[parseInt(p.toString(),10)],p,"dayHeaderTemplate"),m):m.innerHTML="<span>"+this.parent.getDayNames("abbreviated")[p%7]+"</span>",v.appendChild(m),this.parent.trigger(a.j,{elementType:"leftHeaderCells",element:m});for(var y=new Date(h.getTime()),T=0;T<this.columnCount;T++){var D=void 0;if("Vertical"===this.parent.activeViewOptions.orientation){d=new Date(this.parent.selectedDate.getFullYear(),l[parseInt(T.toString(),10)],1),h=this.parent.calendarUtil.getMonthStartDate(new Date(d.getTime())),u=this.parent.calendarUtil.getMonthEndDate(new Date(d.getTime()));var w=p-h.getDay()+1;y=new Date(this.parent.selectedDate.getFullYear(),l[parseInt(T.toString(),10)],w),D=w>0&&y.getTime()<u.getTime()}else D=T>=h.getDay()&&y.getTime()<u.getTime();var b=this.parent.globalize.formatDate(y,{skeleton:"full",calendar:this.parent.getCalendarMode()}),C=i.i(n.createElement)("td",{className:s.n,attrs:{"aria-selected":"false","aria-label":b}});f.appendChild(C);var S=i.i(n.createElement)("div",{className:s.o+" "+s.p,innerHTML:D?this.parent.globalize.formatDate(y,{skeleton:"d",calendar:this.parent.getCalendarMode()}):""});if(D){var O=[C],E=[];this.parent.activeViewOptions.workDays.indexOf(y.getDay())>-1&&E.push(s.q),this.parent.isMinMaxDate(y)||i.i(n.addClass)([C],s.r),this.isCurrentDate(y)&&(E.push(s.s),"Horizontal"===this.parent.activeViewOptions.orientation?O.push(this.element.querySelector("."+s.e+":nth-child("+(T+1)+")")):O.push(this.element.querySelectorAll("."+s.m).item(p))),E.length>0&&i.i(n.addClass)(O,E)}else i.i(n.addClass)([C],s.t),this.parent.isMinMaxDate(y)||i.i(n.addClass)([C],s.r);C.classList.contains(s.t)||(this.renderDates.push(new Date(y)),C.appendChild(S),D&&(C.setAttribute("data-date",y.getTime().toString()),this.wireEvents(C)),this.renderCellTemplate({date:y,type:"workCells"},C),this.parent.trigger(a.j,{elementType:"workCells",element:C,date:y}),D&&"Horizontal"===this.parent.activeViewOptions.orientation&&(y=o.d(new Date(y.getTime()),1)))}}this.renderDates.splice(0,1)},t.prototype.getContentRows=function(){for(var e=[],t=this.getMonths(),r=0;r<this.parent.resourceBase.renderedResources.length;r++){var o=i.i(n.createElement)("tr");e.push(o);var l=void 0;this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive&&(l=this.parent.resourceBase.renderedResources[parseInt(r.toString(),10)]);for(var c=new Date(this.parent.selectedDate.getFullYear(),t[parseInt(r.toString(),10)],1),p=this.parent.calendarUtil.getMonthStartDate(new Date(c.getTime())),d=0;d<this.columnCount;d++){var h=[],u=l.groupIndex;h=h.concat(l.className),h.indexOf(s.u)>-1?h.push(s.v):h.push(s.q),c=new Date(this.parent.selectedDate.getFullYear(),t[parseInt(d.toString(),10)],1),p=this.parent.calendarUtil.getMonthStartDate(new Date(c.getTime()));var g=i.i(n.createElement)("td",{className:s.n,attrs:{"aria-selected":"false","data-date":p.getTime().toString()}});i.i(n.addClass)([g],h),g.setAttribute("data-group-index",u.toString()),this.renderCellTemplate({date:p,type:"resourceGroupCells",groupIndex:u},g),this.wireEvents(g),this.parent.trigger(a.j,{elementType:"resourceGroupCells",element:g,date:p}),o.appendChild(g)}}return e},t.prototype.renderResourceContent=function(e,t,r){for(var o=this.getMonths(),l=0;l<this.rowCount;l++){e.appendChild(i.i(n.createElement)("div",{className:s.l}));var c=i.i(n.createElement)("tr");r.appendChild(c);var p=void 0;"Vertical"===this.parent.activeViewOptions.orientation&&this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive&&(p=this.parent.resourceBase.renderedResources[parseInt(l.toString(),10)]);var d=new Date(this.parent.selectedDate.getFullYear(),o[parseInt(l.toString(),10)],1),h=this.parent.calendarUtil.getMonthStartDate(new Date(d.getTime()));if("Horizontal"===this.parent.activeViewOptions.orientation){var u=c.cloneNode();t.appendChild(u);var g=i.i(n.createElement)("td",{className:s.m,attrs:{"data-date":h.getTime().toString()}});this.parent.monthHeaderTemplate?i.i(n.append)(this.renderDayMonthHeaderTemplate(d,l,"monthHeaderTemplate"),g):g.innerHTML="<span>"+this.getMonthName(d)+"</span>",u.appendChild(g)}for(var v=0;v<this.columnCount;v++){var f=[],m=void 0;"Vertical"===this.parent.activeViewOptions.orientation?(m=p.groupIndex,f=f.concat(p.className),f.indexOf(s.u)>-1?f.push(s.v):f.push(s.q),d=new Date(this.parent.selectedDate.getFullYear(),o[parseInt(v.toString(),10)],1),h=this.parent.calendarUtil.getMonthStartDate(new Date(d.getTime()))):(m=this.colLevels.slice(-1)[0][parseInt(v.toString(),10)].groupIndex,f.push(s.q));var y=i.i(n.createElement)("td",{className:s.n,attrs:{"aria-selected":"false","data-date":h.getTime().toString()}});i.i(n.addClass)([y],f),y.setAttribute("data-group-index",m.toString()),this.renderCellTemplate({date:h,type:"resourceGroupCells",groupIndex:m},y),this.wireEvents(y),c.appendChild(y),this.parent.trigger(a.j,{elementType:"resourceGroupCells",element:y,date:h})}}"Vertical"===this.parent.activeViewOptions.orientation&&this.collapseRows(this.parent.element.querySelector("."+s.g))},t.prototype.renderDayMonthHeaderTemplate=function(e,t,i){var n={date:e,type:"dayHeaderTemplate"===i?"dayHeader":"monthHeader"},r="schedule_"+this.parent.activeViewOptions.dayHeaderTemplateName+"dayHeaderTemplate",a="schedule_"+this.parent.activeViewOptions.dayHeaderTemplateName+"monthHeaderTemplate";return"dayHeaderTemplate"===i?(n.day=this.parent.getDayNames("wide")[t%7],[].slice.call(this.parent.getDayHeaderTemplate()(n,this.parent,"dayHeaderTemplate",r,!1))):[].slice.call(this.parent.getMonthHeaderTemplate()(n,this.parent,"monthHeaderTemplate",a,!1))},t.prototype.renderCellTemplate=function(e,t){if(this.parent.activeViewOptions.cellTemplate&&!t.classList.contains(s.t)){var r={date:e.date,type:e.type};e.groupIndex&&(r.groupIndex=e.groupIndex);var a=this.parent.element.id+"_",o=this.parent.activeViewOptions.cellTemplateName,l=a+o+"cellTemplate",c=[].slice.call(this.parent.getCellTemplate()(r,this.parent,"cellTemplate",l,!1));i.i(n.append)(c,t)}},t.prototype.scrollToDate=function(e){var t;t=null!==this.parent.activeViewOptions.group.resources&&this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive?+new Date(o.b(o.n(e))):+new Date(o.b(e));var i=this.element.querySelector('[data-date="'+t+'"]');if(i){var n=this.getScrollableElement();if(this.parent.enableRtl){var r=this.element.querySelector("."+s.h);n.scrollLeft=-(r.offsetWidth-i.offsetLeft-i.offsetWidth)}else n.scrollLeft=i.offsetLeft;n.scrollTop=i.offsetTop}},t.prototype.getScrollableElement=function(){return this.parent.isAdaptive&&!this.isTimelineView()?this.element.querySelector("."+s.w):this.getContentAreaElement()},t.prototype.wireEvents=function(e){n.EventHandler.add(e,"mousedown",this.parent.workCellAction.cellMouseDown,this.parent.workCellAction),n.EventHandler.add(e,"click",this.parent.workCellAction.cellClick,this.parent.workCellAction),this.parent.isAdaptive||n.EventHandler.add(e,"dblclick",this.parent.workCellAction.cellDblClick,this.parent.workCellAction)},t}(r.a)},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(10),r=this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=function(e){function t(t){var i=e.call(this,t)||this;return i.viewClass="e-week-view",i}return r(t,e),t.prototype.startDate=function(){return this.getViewStartDate()},t.prototype.endDate=function(){return this.getViewEndDate()},t.prototype.getModuleName=function(){return"week"},t}(n.a)},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(10),r=this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=function(e){function t(t){var i=e.call(this,t)||this;return i.viewClass="e-work-week-view",i}return r(t,e),t.prototype.startDate=function(){return this.getViewStartDate()},t.prototype.endDate=function(){return this.getViewEndDate()},t.prototype.getModuleName=function(){return"workWeek"},t}(n.a)},function(e,t){e.exports=s},function(e,t){e.exports=o},function(e,t,i){"use strict";var n=i(13);i.d(t,"a",function(){return n.a}),i.d(t,"b",function(){return n.b})},function(e,t,i){"use strict";var n=i(20);i.d(t,"a",function(){return n.a});var r=i(4);i.d(t,"b",function(){return r.a}),i.d(t,"c",function(){return r.b}),i.d(t,"d",function(){return r.c}),i.d(t,"e",function(){return r.d}),i.d(t,"f",function(){return r.e}),i.d(t,"g",function(){return r.f})},function(e,t,i){"use strict";var n=i(23);i.d(t,"a",function(){return n.a});var r=i(2);i.d(t,"b",function(){return r.a}),i.d(t,"c",function(){return r.b}),i.d(t,"d",function(){return r.c}),i.d(t,"e",function(){return r.d}),i.d(t,"f",function(){return r.e}),i.d(t,"g",function(){return r.f}),i.d(t,"h",function(){return r.g}),i.d(t,"i",function(){return r.h}),i.d(t,"j",function(){return r.i}),i.d(t,"k",function(){return r.j}),i.d(t,"l",function(){return r.k}),i.d(t,"m",function(){return r.l}),i.d(t,"n",function(){return r.m}),i.d(t,"o",function(){return r.n}),i.d(t,"p",function(){return r.o}),i.d(t,"q",function(){return r.p}),i.d(t,"r",function(){return r.q}),i.d(t,"s",function(){return r.r}),i.d(t,"t",function(){return r.s}),i.d(t,"u",function(){return r.t}),i.d(t,"v",function(){return r.u}),i.d(t,"w",function(){return r.v}),i.d(t,"x",function(){return r.w}),i.d(t,"y",function(){return r.x}),i.d(t,"z",function(){return r.y}),i.d(t,"A",function(){return r.z}),i.d(t,"B",function(){return r.A}),i.d(t,"C",function(){return r.B}),i.d(t,"D",function(){return r.C}),i.d(t,"E",function(){return r.D}),i.d(t,"F",function(){return r.E}),i.d(t,"G",function(){return r.F}),i.d(t,"H",function(){return r.G}),i.d(t,"I",function(){return r.H}),i.d(t,"J",function(){return r.I}),i.d(t,"K",function(){return r.J});var a=i(1);i.d(t,"L",function(){return a.e}),i.d(t,"M",function(){return a.f}),i.d(t,"N",function(){return a.c}),i.d(t,"O",function(){return a.g}),i.d(t,"P",function(){return a.h}),i.d(t,"Q",function(){return a.i}),i.d(t,"R",function(){return a.j}),i.d(t,"S",function(){return a.k}),i.d(t,"T",function(){return a.l}),i.d(t,"U",function(){return a.m}),i.d(t,"V",function(){return a.n}),i.d(t,"W",function(){return a.o}),i.d(t,"X",function(){return a.p}),i.d(t,"Y",function(){return a.q}),i.d(t,"Z",function(){return a.r}),i.d(t,"_0",function(){return a.b}),i.d(t,"_1",function(){return a.s}),i.d(t,"_2",function(){return a.t}),i.d(t,"_3",function(){return a.d}),i.d(t,"_4",function(){return a.u}),i.d(t,"_5",function(){return a.v}),i.d(t,"_6",function(){return a.w}),i.d(t,"_7",function(){return a.x}),i.d(t,"_8",function(){return a.y}),i.d(t,"_9",function(){return a.z}),i.d(t,"_10",function(){return a.A}),i.d(t,"_11",function(){return a.B}),i.d(t,"_12",function(){return a.C}),i.d(t,"_13",function(){return a.D}),i.d(t,"_14",function(){return a.E}),i.d(t,"_15",function(){return a.F}),i.d(t,"_16",function(){return a.G}),i.d(t,"_17",function(){return a.H}),i.d(t,"_18",function(){return a.a});var s=i(47);i.d(t,"_19",function(){return s.a});var o=i(45);i.d(t,"_20",function(){return o.a});var l=i(30);i.d(t,"_21",function(){return l.a});var c=i(8);i.d(t,"_22",function(){return c.a});var p=i(29);i.d(t,"_23",function(){return p.a});var d=i(36);i.d(t,"_24",function(){return d.a});var h=i(37);i.d(t,"_25",function(){return h.a});var u=i(9);i.d(t,"_26",function(){return u.a});var g=i(16);i.d(t,"_27",function(){return g.a});var v=i(28);i.d(t,"_28",function(){return v.a});var f=i(31);i.d(t,"_29",function(){return f.a});var m=i(34);i.d(t,"_30",function(){return m.a});var y=i(33);i.d(t,"_31",function(){return y.a});var T=i(35);i.d(t,"_32",function(){return T.a});var D=i(17);i.d(t,"_33",function(){return D.a}),i.d(t,"_34",function(){return D.b});var w=i(57);i.d(t,"_35",function(){return w.a}),i.d(t,"_36",function(){return w.b}),i.d(t,"_37",function(){return w.c}),i.d(t,"_38",function(){return w.d})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(42);i.d(t,"Schedule",function(){return n.a}),i.d(t,"cellClick",function(){return n.b}),i.d(t,"cellDoubleClick",function(){return n.c}),i.d(t,"moreEventsClick",function(){return n.d}),i.d(t,"select",function(){return n.e}),i.d(t,"hover",function(){return n.f}),i.d(t,"actionBegin",function(){return n.g}),i.d(t,"actionComplete",function(){return n.h}),i.d(t,"actionFailure",function(){return n.i}),i.d(t,"navigating",function(){return n.j}),i.d(t,"renderCell",function(){return n.k}),i.d(t,"eventClick",function(){return n.l}),i.d(t,"eventRendered",function(){return n.m}),i.d(t,"dataBinding",function(){return n.n}),i.d(t,"dataBound",function(){return n.o}),i.d(t,"popupOpen",function(){return n.p}),i.d(t,"popupClose",function(){return n.q}),i.d(t,"dragStart",function(){return n.r}),i.d(t,"drag",function(){return n.s}),i.d(t,"dragStop",function(){return n.t}),i.d(t,"resizeStart",function(){return n.u}),i.d(t,"resizing",function(){return n.v}),i.d(t,"resizeStop",function(){return n.w}),i.d(t,"inlineClick",function(){return n.x}),i.d(t,"cellSelect",function(){return n.y}),i.d(t,"initialLoad",function(){return n.z}),i.d(t,"initialEnd",function(){return n.A}),i.d(t,"print",function(){return n.B}),i.d(t,"dataReady",function(){return n.C}),i.d(t,"eventsLoaded",function(){return n.D}),i.d(t,"contentReady",function(){return n.E}),i.d(t,"scroll",function(){return n.F}),i.d(t,"virtualScroll",function(){return n.G}),i.d(t,"scrollUiUpdate",function(){return n.H}),i.d(t,"uiUpdate",function(){return n.I}),i.d(t,"documentClick",function(){return n.J}),i.d(t,"cellMouseDown",function(){return n.K}),i.d(t,"WEEK_LENGTH",function(){return n.L}),i.d(t,"DEFAULT_WEEKS",function(){return n.M}),i.d(t,"MS_PER_DAY",function(){return n.N}),i.d(t,"MS_PER_MINUTE",function(){return n.O}),i.d(t,"getElementHeightFromClass",function(){return n.P}),i.d(t,"getElementWidthFromClass",function(){return n.Q}),i.d(t,"getTranslateY",function(){return n.R}),i.d(t,"getTranslateX",function(){return n.S}),i.d(t,"getWeekFirstDate",function(){return n.T}),i.d(t,"getWeekLastDate",function(){return n.U}),i.d(t,"firstDateOfMonth",function(){return n.V}),i.d(t,"lastDateOfMonth",function(){return n.W}),i.d(t,"getWeekNumber",function(){return n.X}),i.d(t,"getWeekMiddleDate",function(){return n.Y}),i.d(t,"setTime",function(){return n.Z}),i.d(t,"resetTime",function(){return n._0}),i.d(t,"getDateInMs",function(){return n._1}),i.d(t,"getDateCount",function(){return n._2}),i.d(t,"addDays",function(){return n._3}),i.d(t,"addMonths",function(){return n._4}),i.d(t,"addYears",function(){return n._5}),i.d(t,"getStartEndHours",function(){return n._6}),i.d(t,"getMaxDays",function(){return n._7}),i.d(t,"getDaysCount",function(){return n._8}),i.d(t,"getDateFromString",function(){return n._9}),i.d(t,"getScrollBarWidth",function(){return n._10}),i.d(t,"findIndexInData",function(){return n._11}),i.d(t,"getOuterHeight",function(){return n._12}),i.d(t,"removeChildren",function(){return n._13}),i.d(t,"isDaylightSavingTime",function(){return n._14}),i.d(t,"getUniversalTime",function(){return n._15}),i.d(t,"isMobile",function(){return n._16}),i.d(t,"isIPadDevice",function(){return n._17}),i.d(t,"capitalizeFirstWord",function(){return n._18}),i.d(t,"Resize",function(){return n._19}),i.d(t,"DragAndDrop",function(){return n._20}),i.d(t,"HeaderRenderer",function(){return n._21}),i.d(t,"ViewBase",function(){return n._22}),i.d(t,"Day",function(){return n._23}),i.d(t,"Week",function(){return n._24}),i.d(t,"WorkWeek",function(){return n._25}),i.d(t,"Month",function(){return n._26}),i.d(t,"Year",function(){return n._27}),i.d(t,"Agenda",function(){return n._28}),i.d(t,"MonthAgenda",function(){return n._29}),i.d(t,"TimelineViews",function(){return n._30}),i.d(t,"TimelineMonth",function(){return n._31}),i.d(t,"TimelineYear",function(){return n._32}),i.d(t,"Timezone",function(){return n._33}),i.d(t,"timezoneData",function(){return n._34}),i.d(t,"ICalendarExport",function(){return n._35}),i.d(t,"ICalendarImport",function(){return n._36}),i.d(t,"ExcelExport",function(){return n._37}),i.d(t,"Print",function(){return n._38});var r=i(41);i.d(t,"RecurrenceEditor",function(){return r.a}),i.d(t,"generateSummary",function(){return r.b}),i.d(t,"generate",function(){return r.c}),i.d(t,"getDateFromRecurrenceDateString",function(){return r.d}),i.d(t,"extractObjectFromRule",function(){return r.e}),i.d(t,"getCalendarUtil",function(){return r.f}),i.d(t,"getRecurrenceStringFromDate",function(){return r.g});var a=i(40);i.d(t,"Gregorian",function(){return a.a}),i.d(t,"Islamic",function(){return a.b})},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(0),r=(i.n(n),i(4)),a=i(2),s=i(1),o=function(){function e(e){this.parent=e,this.crudObj={sourceEvent:null,targetEvent:null,isCrudAction:!1}}return e.prototype.getQuery=function(){var e=this.parent.activeView.startDate(),t=this.parent.activeView.endDate();return this.parent.dataModule.generateQuery(e,t)},e.prototype.getTable=function(){if(this.parent.eventSettings.query){return this.parent.eventSettings.query.clone().fromTable}return null},e.prototype.refreshDataManager=function(){var e=this;if(this.parent.activeView){var t=this.parent.activeView.startDate(),i=this.parent.activeView.endDate();this.parent.dataModule.getData(this.parent.dataModule.generateQuery(t,i)).then(function(t){return e.dataManagerSuccess(t)}).catch(function(t){return e.dataManagerFailure(t)})}},e.prototype.dataManagerSuccess=function(e){var t=this;!this.parent||this.parent&&this.parent.isDestroyed||this.parent.trigger(a.m,e,function(e){var r=i.i(n.extend)([],e.result,null,!0);t.parent.eventsData=r.filter(function(e){return!e[t.parent.eventFields.isBlock]}),t.parent.blockData=r.filter(function(e){return e[t.parent.eventFields.isBlock]}),t.refreshProcessedData(),t.parent.dragAndDropModule&&"drag"===t.parent.dragAndDropModule.actionObj.action&&t.parent.dragAndDropModule.navigationWrapper(),t.parent.trigger(a.n,null,function(){t.parent.hideSpinner(),t.parent.isPrinting&&t.parent.notify(a.A,{})})})},e.prototype.dataManagerFailure=function(e){var t=this;!this.parent||this.parent&&this.parent.isDestroyed||this.parent.trigger(a.h,{error:e},function(){return t.parent.hideSpinner()})},e.prototype.refreshProcessedData=function(e){if(void 0===e&&(e=!1),this.parent.dragAndDropModule&&(this.parent.dragAndDropModule.actionObj.action="",i.i(n.removeClass)([this.parent.element],"e-event-action")),this.parent.activeViewOptions&&this.parent.activeViewOptions.eventTemplate){var t=["eventTemplate"];if(this.crudObj.isCrudAction&&-1===["Agenda","MonthAgenda","Year","TimelineYear"].indexOf(this.parent.currentView)){t=[];for(var r=0,s=this.crudObj.sourceEvent.length;r<s;r++)t.push("eventTemplate_"+this.crudObj.sourceEvent[parseInt(r.toString(),10)].groupIndex),this.crudObj.targetEvent[parseInt(r.toString(),10)]&&this.crudObj.sourceEvent[parseInt(r.toString(),10)].groupIndex!==this.crudObj.targetEvent[parseInt(r.toString(),10)].groupIndex&&t.push("eventTemplate_"+this.crudObj.targetEvent[parseInt(r.toString(),10)].groupIndex)}t.length>0&&this.parent.resetTemplates(t)}if(e)return void this.parent.notify(a.B,{processedData:this.parent.eventsProcessed});var o=this.parent.eventsData||[],l=this.parent.blockData||[],c=o.concat(l);this.parent.notify(a.B,{processedData:this.parent.eventBase?this.parent.eventBase.processData(c):[]})},e.prototype.refreshData=function(e){var t=this,r={requestType:e.requestType,cancel:!1,data:e.data,addedRecords:e.editParams.addedRecords,changedRecords:e.editParams.changedRecords,deletedRecords:e.editParams.deletedRecords};if(this.parent.dragAndDropModule&&this.parent.dragAndDropModule.actionObj&&this.parent.dragAndDropModule.actionObj.element&&(this.parent.dragAndDropModule.actionObj.element.style.display="none"),this.parent.resizeModule&&this.parent.resizeModule.actionObj&&this.parent.resizeModule.actionObj.element&&(this.parent.resizeModule.actionObj.element.style.display="none"),this.parent.isSpecificResourceEvents()&&("eventCreated"===e.requestType||"eventRemoved"===e.requestType)){this.crudObj.isCrudAction=!0,this.crudObj.sourceEvent=[];for(var s=e.data instanceof Array?0===e.data.length&&"eventRemoved"===e.requestType?e.editParams.deletedRecords:e.data:"string"!=typeof e.data&&"number"!=typeof e.data||"eventRemoved"!==e.requestType?[e.data]:e.editParams.deletedRecords,o=this,l=0,c=s;l<c.length;l++){var p=c[l];!function(t){o.crudObj.isCrudAction=!("eventRemoved"===e.requestType&&!i.i(n.isNullOrUndefined)(t.parent));var r=o.parent.eventBase.getGroupIndexFromEvent(t);r>-1&&0===o.parent.crudModule.crudObj.sourceEvent.filter(function(e){return e.groupIndex===r}).length&&o.crudObj.isCrudAction&&o.crudObj.sourceEvent.push(o.parent.resourceBase.lastResourceLevel[parseInt(r.toString(),10)])}(p)}this.crudObj.targetEvent=this.crudObj.sourceEvent}this.parent.dataModule.dataManager.dataSource.offline?this.parent.trigger(a.g,r,function(e){e.cancel||t.refreshDataManager()}):e.promise.then(function(){!t.parent||t.parent&&t.parent.isDestroyed||t.parent.trigger(a.g,r,function(e){e.cancel||t.refreshDataManager()})}).catch(function(e){!t.parent||t.parent&&t.parent.isDestroyed||t.parent.trigger(a.h,{error:e})})},e.prototype.addEvent=function(e){var t=this;if(this.parent.eventSettings.allowAdding&&!this.parent.activeViewOptions.readonly){if(!this.isBlockEvent(e)&&this.parent.eventBase.isBlockRange(e))return void this.parent.quickPopup.openValidationError("blockAlert",e);var r=e instanceof Array?e:[e];if(0===r.length)return;var s={requestType:"eventCreate",cancel:!1,data:r,addedRecords:r,changedRecords:[],deletedRecords:[]};this.parent.trigger(a.f,s,function(e){if(!e.cancel){var r=t.parent.eventFields,a={addedRecords:[],changedRecords:[],deletedRecords:[]},s=void 0;if(e.addedRecords instanceof Array){for(var o=0,l=e.addedRecords;o<l.length;o++){var c=l[o];c=t.parent.eventBase.updateEventDateTime(c);var p=i.i(n.extend)({},t.parent.eventBase.processTimezone(c,!0),null,!0);a.addedRecords.push(p)}s=t.parent.dataModule.dataManager.saveChanges(a,r.id,t.getTable(),t.getQuery())}else{var d=t.parent.eventBase.processTimezone(e.addedRecords,!0);a.addedRecords.push(d),s=t.parent.dataModule.dataManager.insert(d,t.getTable(),t.getQuery())}var h={requestType:"eventCreated",cancel:!1,data:e.addedRecords,promise:s,editParams:a};t.refreshData(h)}})}},e.prototype.saveEvent=function(e,t){var r=this;if(this.parent.eventSettings.allowEditing&&!this.parent.activeViewOptions.readonly){if("EditFollowingEvents"!==this.parent.currentAction&&!this.isBlockEvent(e)&&this.parent.eventBase.isBlockRange(e))return this.parent.quickPopup.openValidationError("blockAlert",e),void(this.parent.crudModule.crudObj.isCrudAction=!1);var s=e instanceof Array?e:[e];if(0===s.length)return;if(this.parent.currentAction=t,t)switch(t){case"Save":this.processSave(e);break;case"EditOccurrence":this.processOccurrences(e,t);break;case"EditFollowingEvents":this.processFollowSeries(e,t);break;case"EditSeries":this.processEntireSeries(e,t)}else{var o={requestType:"eventChange",cancel:!1,data:e,addedRecords:[],changedRecords:s,deletedRecords:[]};this.parent.trigger(a.f,o,function(e){if(!e.cancel){var t=void 0,a=r.parent.eventFields,s={addedRecords:[],changedRecords:[],deletedRecords:[]};if(e.changedRecords instanceof Array){for(var o=0,l=e.changedRecords;o<l.length;o++){var c=l[o];c=r.parent.eventBase.updateEventDateTime(c);var p=i.i(n.extend)({},r.parent.eventBase.processTimezone(c,!0),null,!0);s.changedRecords.push(p)}t=r.parent.dataModule.dataManager.saveChanges(s,a.id,r.getTable(),r.getQuery())}else{var d=r.parent.eventBase.processTimezone(e.changedRecords,!0);s.changedRecords.push(d),t=r.parent.dataModule.dataManager.update(a.id,d,r.getTable(),r.getQuery())}var h={requestType:"eventChanged",cancel:!1,data:e.changedRecords,promise:t,editParams:s};r.refreshData(h)}})}}},e.prototype.deleteEvent=function(e,t){var i=this;if(this.parent.eventSettings.allowDeleting&&!this.parent.activeViewOptions.readonly){this.parent.currentAction=t;var n=[];if(n="string"==typeof e||"number"==typeof e?this.parent.eventsData.filter(function(t){return t[i.parent.eventFields.id]===e}):e instanceof Array?e:[e],0===n.length)return;if(t)switch(t){case"Delete":this.processDelete(n);break;case"DeleteOccurrence":this.processOccurrences(n,t);break;case"DeleteFollowingEvents":this.processFollowSeries(n,t);break;case"DeleteSeries":this.processEntireSeries(n,t)}else{var r={requestType:"eventRemove",cancel:!1,data:e,addedRecords:[],changedRecords:[],deletedRecords:n};this.parent.trigger(a.f,r,function(e){if(!e.cancel){var t=void 0,n=i.parent.eventFields,r={addedRecords:[],changedRecords:[],deletedRecords:[]};e.deletedRecords.length>1?(r.deletedRecords=r.deletedRecords.concat(e.deletedRecords),t=i.parent.dataModule.dataManager.saveChanges(r,n.id,i.getTable(),i.getQuery())):(r.deletedRecords.push(e.deletedRecords[0]),t=i.parent.dataModule.dataManager.remove(n.id,e.deletedRecords[0],i.getTable(),i.getQuery())),i.parent.eventBase.selectWorkCellByTime(e.deletedRecords);var a={requestType:"eventRemoved",cancel:!1,data:e.deletedRecords,promise:t,editParams:r};i.refreshData(a)}})}}},e.prototype.processOccurrences=function(e,t){var n=this,s=[],o=!1;if(e instanceof Array)for(var l=0,c=e;l<c.length;l++){var p=c[l];s.push({occurrence:p,parent:this.getParentEvent(p)})}else s={occurrence:e,parent:this.getParentEvent(e)};var d=e instanceof Array?e:[e],h={requestType:"EditOccurrence"===t?"eventChange":"eventRemove",cancel:!1,addedRecords:[],changedRecords:d,deletedRecords:[]};h.data=s,this.parent.trigger(a.f,h,function(e){if(!e.cancel){for(var a=n.parent.eventFields,l={addedRecords:[],changedRecords:[],deletedRecords:[]},c=s instanceof Array?s:[s],p=0,d=e.changedRecords.length;p<d;p++)!function(s,p){var d=e.changedRecords[parseInt(s.toString(),10)],h=c[parseInt(s.toString(),10)].parent,u=h[a.recurrenceException],g=void 0,v=void 0;switch(t){case"EditOccurrence":g=n.parent.eventsProcessed.filter(function(e){return e.Guid===d.Guid})[0],v=n.excludeDateCheck(g[a.startTime],u),v!==h[a.recurrenceException]?(h[a.recurrenceException]=v,d[a.recurrenceException]=i.i(r.f)(g[a.startTime]),d[a.recurrenceID]=h[a.id],d[a.followingID]=null,l.changedRecords.push(n.parent.eventBase.processTimezone(h,!0)),l.addedRecords.push(n.parent.eventBase.processTimezone(d,!0))):l.changedRecords.push(n.parent.eventBase.processTimezone(d,!0));break;case"DeleteOccurrence":d[a.recurrenceException]||(h[a.recurrenceException]=n.excludeDateCheck(d[a.startTime],u),l.changedRecords.push(n.parent.eventBase.processTimezone(h,!0))),d[a.id]!==h[a.id]&&(l.deletedRecords.push(d),o=!0)}}(p);var h=n.parent.dataModule.dataManager.saveChanges(l,a.id,n.getTable(),n.getQuery());n.parent.eventBase.selectWorkCellByTime(e.changedRecords);var u={requestType:"EditOccurrence"===t?"eventChanged":"eventRemoved",cancel:!1,data:o?e.deletedRecords:e.changedRecords,promise:h,editParams:l};n.refreshData(u)}})},e.prototype.processFollowSeries=function(e,t){var i=this,n=[];if(e instanceof Array)for(var r=0,s=e;r<s.length;r++){var o=s[r];n.push({occurrence:o,parent:this.getParentEvent(o)})}else n={occurrence:e,parent:this.getParentEvent(e)};var l=e instanceof Array?e:[e],c={requestType:"EditFollowingEvents"===t?"eventChange":"eventRemove",cancel:!1,addedRecords:[],changedRecords:l,deletedRecords:[]};c.data=n,this.parent.trigger(a.f,c,function(e){if(!e.cancel){for(var r=i.parent.eventFields,a={addedRecords:[],changedRecords:[],deletedRecords:[]},s=n instanceof Array?n:[n],o=0,l=e.changedRecords.length;o<l;o++)!function(n,o){var l=e.changedRecords[parseInt(n.toString(),10)],c=s[parseInt(n.toString(),10)].parent,p=i.parent.eventBase.getEventCollections(c,l),d=void 0;switch(t){case"EditFollowingEvents":if(i.processRecurrenceRule(c,l),d=!i.parent.eventBase.isFollowingEvent(c,l),l[r.followingID]=d?null:c[r.id],l[r.recurrenceID]=null,a.addedRecords.push(i.parent.eventBase.processTimezone(l,!0)),a.changedRecords.push(i.parent.eventBase.processTimezone(c,!0)),!i.parent.uiStateValues.isIgnoreOccurrence){if(l[r.recurrenceException]=null,p.occurrence.length>0){var h=p.occurrence.slice(-1)[0][r.recurrenceRule];-1===h.indexOf("COUNT")&&(l[r.recurrenceRule]=h)}p.follow.length>0&&(l[r.recurrenceRule]=p.follow.slice(-1)[0][r.recurrenceRule],a.deletedRecords=a.deletedRecords.concat(p.follow)),d&&(p.occurrence=p.occurrence.filter(function(e){return e[r.recurrenceID]===l[r.id]})),a.deletedRecords=a.deletedRecords.concat(p.occurrence)}break;case"DeleteFollowingEvents":i.processRecurrenceRule(c,l[r.startTime]),a.changedRecords.push(i.parent.eventBase.processTimezone(c,!0)),a.deletedRecords=a.deletedRecords.concat(p.occurrence).concat(p.follow)}}(o);var c=i.parent.dataModule.dataManager.saveChanges(a,r.id,i.getTable(),i.getQuery());i.parent.eventBase.selectWorkCellByTime(e.changedRecords);var p={requestType:"EditFollowingEvents"===t?"eventChanged":"eventRemoved",cancel:!1,data:e.changedRecords,promise:c,editParams:a};i.refreshData(p)}})},e.prototype.processEntireSeries=function(e,t){var i=this,n=[],r=!1;if(e instanceof Array)for(var s=0,o=e;s<o.length;s++){var l=o[s];n.push(this.getParentEvent(l,!0))}else n=this.getParentEvent(e,!0);var c=e instanceof Array?e:[e],p={requestType:"EditSeries"===t?"eventChange":"eventRemove",cancel:!1,addedRecords:[],changedRecords:c,deletedRecords:[]};p.data=n,this.parent.trigger(a.f,p,function(e){if(!e.cancel){for(var a=i.parent.eventFields,s={addedRecords:[],changedRecords:[],deletedRecords:[]},o=n instanceof Array?n:[n],l=0,c=e.changedRecords.length;l<c;l++)!function(n,l){var c=e.changedRecords[parseInt(n.toString(),10)],p=o[parseInt(n.toString(),10)],d=i.parent.eventBase.getEventCollections(p),h=d.follow.concat(d.occurrence);switch(t){case"EditSeries":if(c[a.id]=p[a.id],c[a.recurrenceID]=null,c[a.followingID]=null,i.parent.uiStateValues.isIgnoreOccurrence&&c[a.recurrenceException]){var u=i.parent.eventsData.filter(function(e){return e[a.id]===c[a.id]});u.length>0&&(c[a.recurrenceRule]=u[0][a.recurrenceRule])}else c[a.recurrenceException]=null,s.deletedRecords=s.deletedRecords.concat(h);s.changedRecords.push(i.parent.eventBase.processTimezone(c,!0)),i.parent.uiStateValues.isIgnoreOccurrence=!1;break;case"DeleteSeries":s.deletedRecords=s.deletedRecords.concat(h.concat(p)),r=!0}}(l);var p=i.parent.dataModule.dataManager.saveChanges(s,a.id,i.getTable(),i.getQuery());i.parent.eventBase.selectWorkCellByTime(e.changedRecords);var d={requestType:"EditSeries"===t?"eventChanged":"eventRemoved",cancel:!1,data:r?e.deletedRecords:e.changedRecords,promise:p,editParams:s};i.refreshData(d)}})},e.prototype.processDelete=function(e){for(var t=this,r=[],s=0,o=e;s<o.length;s++){var l=o[s];l[this.parent.eventFields.recurrenceRule]?r.push({occurrence:l,parent:this.getParentEvent(l)}):r.push(l)}var c={requestType:"eventRemove",cancel:!1,addedRecords:[],changedRecords:[],deletedRecords:e};c.data=r,this.parent.trigger(a.f,c,function(e){if(!e.cancel){for(var a=t.parent.eventFields,s={addedRecords:[],changedRecords:[],deletedRecords:[]},o=0,l=e.deletedRecords.length;o<l;o++)!function(o,l){var c=i.i(n.isNullOrUndefined)(e.deletedRecords[parseInt(o.toString(),10)][t.parent.eventFields.recurrenceRule]);if(!c){var p=r[parseInt(o.toString(),10)].parent,d=s.changedRecords.filter(function(e){return e[a.id]===p[a.id]}),h=e.deletedRecords[parseInt(o.toString(),10)][a.startTime];if(d.length>0){var u=d[0];u[a.recurrenceException]=t.excludeDateCheck(h,u[a.recurrenceException])}else p[a.recurrenceException]=t.excludeDateCheck(h,p[a.recurrenceException]);0===d.length&&s.changedRecords.push(t.parent.eventBase.processTimezone(p,!0)),c=e.deletedRecords[parseInt(o.toString(),10)][a.id]!==p[a.id]}c&&s.deletedRecords.push(e.deletedRecords[parseInt(o.toString(),10)])}(o);var c=t.parent.dataModule.dataManager.saveChanges(s,a.id,t.getTable(),t.getQuery()),p={requestType:"eventRemoved",cancel:!1,data:e.deletedRecords,promise:c,editParams:s};t.refreshData(p)}})},e.prototype.processSave=function(e){for(var t=this,s=e instanceof Array?e:[e],o=[],l=0,c=s;l<c.length;l++){var p=c[l];p[this.parent.eventFields.recurrenceRule]?o.push({occurrence:p,parent:this.getParentEvent(p)}):o.push(p)}var d={requestType:"eventChange",cancel:!1,addedRecords:[],changedRecords:s,deletedRecords:[]};d.data=o,this.parent.trigger(a.f,d,function(e){if(!e.cancel){for(var a=t.parent.eventFields,s={addedRecords:[],changedRecords:[],deletedRecords:[]},o=0,l=e.changedRecords;o<l.length;o++){var c=l[o];if(!i.i(n.isNullOrUndefined)(c[a.recurrenceRule])&&i.i(n.isNullOrUndefined)(c[a.recurrenceException])){var p=i.i(r.f)(c[a.startTime]),d=t.getParentEvent(c);d[a.recurrenceException]=i.i(n.isNullOrUndefined)(d[a.recurrenceException])?p:d[a.recurrenceException].concat(","+p),c[a.id]=t.parent.getEventMaxID(),c[a.recurrenceException]=p,s.addedRecords.push(t.parent.eventBase.processTimezone(c,!0)),s.changedRecords.push(t.parent.eventBase.processTimezone(d,!0))}else s.changedRecords.push(t.parent.eventBase.processTimezone(c,!0))}var h=t.parent.dataModule.dataManager.saveChanges(s,a.id,t.getTable(),t.getQuery()),u={requestType:"eventChanged",cancel:!1,data:e.changedRecords,promise:h,editParams:s};t.refreshData(u)}})},e.prototype.getParentEvent=function(e,t){void 0===t&&(t=!1);var i=this.parent.eventBase.getParentEvent(e,t)||e;return(i[this.parent.eventFields.startTimezone]||i[this.parent.eventFields.endTimezone])&&this.parent.eventBase.timezoneConvert(i),i},e.prototype.excludeDateCheck=function(e,t){var a=i.i(r.f)(e);return i.i(n.isNullOrUndefined)(t)?t=a:-1===t.indexOf(a)&&(t=i.i(n.isNullOrUndefined)(t)?a:t+","+a),t},e.prototype.processRecurrenceRule=function(e,t){var n,a=this.parent.eventFields,o=e[a.recurrenceRule];if(t instanceof Date)n=new Date(+t);else{n=new Date(+t[a.startTime]);var l=t[a.recurrenceRule];if(l){var c=e[a.startTime],p="DeleteFollowingEvents"===this.parent.currentAction?t[a.recurrenceException]:null,d=i.i(r.b)(c,l,p,this.parent.activeViewOptions.firstDayOfWeek),h=new Date(d.slice(-1)[0]);h.setHours(n.getHours(),n.getMinutes(),n.getSeconds()),n.setHours(c.getHours(),c.getMinutes(),c.getSeconds()),t[a.recurrenceRule]=this.getUpdatedRecurrenceRule(l,new Date(+h),!1)}}e[a.recurrenceRule]=this.getUpdatedRecurrenceRule(o,s.d(new Date(n.getTime()),-1),!0)},e.prototype.getUpdatedRecurrenceRule=function(e,t,n){for(var a=e.split(";"),s="",o=0,l=a;o<l.length;o++){var c=l[o];if(""!==c){var p=c.split("=")[0],d=c.split("=")[1];"COUNT"!==p&&"UNTIL"!==p||(d=i.i(r.f)(t),c=c.replace(c,"UNTIL="+d)),s+=c+";"}}return n&&-1===s.indexOf("UNTIL")&&(s+="UNTIL="+i.i(r.f)(t)),s},e.prototype.isBlockEvent=function(e){for(var t=e instanceof Array?e:[e],i=!1,n=0,r=t;n<r.length;n++){i=r[n][this.parent.eventFields.isBlock]||!1}return i},e.prototype.destroy=function(){this.crudObj=null,this.parent=null},e}()},function(e,t,i){"use strict";i.d(t,"a",function(){return u});var n=i(0),r=(i.n(n),i(21)),a=i(5),s=i(7),o=i(25),l=i(15),c=i(3),p=i(2),d=i(1),h=this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.widthUptoCursorPoint=0,t.heightUptoCursorPoint=0,t.cursorPointIndex=0,t.isHeaderRows=!1,t.isTimelineDayProcess=!1,t.widthPerMinute=0,t.heightPerMinute=0,t.minDiff=0,t.isStepDragging=!1,t.isMorePopupOpened=!1,t.isAllDayDrag=!1,t.isMultiSelect=!1,t.multiData=[],t.updatedData=[],t.swagData=[],t.startTime=0,t.isAllDayTarget=!1,t.targetTd=null,t.isCursorAhead=!1,t}return h(t,e),t.prototype.wireDragEvent=function(e){new n.Draggable(e,{abort:"."+c.U,clone:!0,isDragScroll:!0,enableTapHold:this.parent.isAdaptive,enableTailMode:!!this.parent.eventDragArea,cursorAt:this.parent.eventDragArea?{left:-20,top:-20}:{left:0,top:0},dragArea:this.dragArea,dragStart:this.dragStart.bind(this),drag:this.drag.bind(this),dragStop:this.dragStop.bind(this),enableAutoScroll:!1,helper:this.dragHelper.bind(this),queryPositionInfo:this.dragPosition.bind(this)})},t.prototype.setDragArea=function(){var e=document.querySelector(this.parent.eventDragArea);this.dragArea=this.parent.eventDragArea&&e?e:this.parent.element.querySelector("."+c.h)},t.prototype.dragHelper=function(e){var t=this;this.setDragActionDefaultValues(),this.actionObj.element=e.element,this.actionObj.action="drag";var r=[];return!this.parent.allowMultiDrag||i.i(n.isNullOrUndefined)(this.parent.selectedElements)||0===this.parent.selectedElements.length||this.parent.selectedElements.length>0&&-1===this.parent.selectedElements.indexOf(this.actionObj.element)?r=[e.element]:(r=this.parent.selectedElements,this.isMultiSelect=!0),r.forEach(function(e){var r=t.createCloneElement(e);e.getAttribute("data-guid")===t.actionObj.element.getAttribute("data-guid")&&(t.actionObj.clone=r,t.parent.eventDragArea||"Month"===t.parent.currentView||!t.parent.activeViewOptions.timeScale.enable||t.parent.activeView.isTimelineView()||t.actionObj.element.classList.contains(c._30)||i.i(n.setStyleAttribute)(t.actionObj.clone,{cursor:"move",left:"0%",right:"0%",width:"100%"}),t.actionObj.clone.style.top=i.i(n.formatUnit)(t.actionObj.element.offsetTop)),t.actionObj.cloneElement.push(r),t.actionObj.originalElement.push(e)}),this.actionObj.clone},t.prototype.dragPosition=function(e){if(this.parent.eventDragArea)return{left:e.left,top:e.top};var t=this.actionObj.cellHeight/this.actionObj.slotInterval*this.actionObj.interval,r=i.i(n.formatUnit)(0);"Month"===this.parent.currentView&&(r=e.left);var a;a=this.isStepDragging?Math.ceil(this.actionObj.clone.getBoundingClientRect().right)+this.actionObj.interval:this.actionObj.clone.getBoundingClientRect().right;var s=this.parent.element.querySelector("."+c.g),o=s.getBoundingClientRect().right;!(this.parent.activeView.isTimelineView()&&"TimelineYear"!==this.parent.currentView&&!this.parent.enableRtl&&this.actionObj.pageX>a)||this.isMorePopupOpened||this.actionObj.pageX>o||(this.isCursorAhead=!0),this.parent.activeView.isTimelineView()&&(r=i.i(n.formatUnit)(this.actionObj.clone.offsetLeft));var l;if(this.parent.activeView.isTimelineView()||!this.parent.timeScale.enable||!i.i(n.isNullOrUndefined)(this.actionObj.clone.offsetParent)&&this.actionObj.clone.offsetParent.classList.contains(c._72))l=i.i(n.formatUnit)(this.actionObj.clone.offsetTop);else if("Month"===this.parent.currentView)l=i.i(n.formatUnit)(0);else if(this.actionObj.clone.classList.contains(c._30))l=i.i(n.formatUnit)(this.parent.element.querySelector("."+c._27).offsetTop),i.i(n.setStyleAttribute)(this.actionObj.clone,{width:i.i(n.formatUnit)(Math.ceil(this.actionObj.clone.offsetWidth/this.actionObj.cellWidth)*this.actionObj.cellWidth),right:this.parent.enableRtl&&i.i(n.formatUnit)(0)});else{this.actionObj.element.classList.contains(c._30)&&!this.actionObj.clone.classList.contains(c._30)&&i.i(n.setStyleAttribute)(this.actionObj.clone,{height:i.i(n.formatUnit)(this.actionObj.cellHeight),width:i.i(n.formatUnit)(this.actionObj.cellWidth-1),pointerEvents:"none"});var p=parseInt(e.top,10);p=p<0?0:p,l=i.i(n.formatUnit)(Math.ceil(p/t)*t);var d=this.parent.element.querySelector(".e-content-wrap").scrollHeight,h=parseInt(l,10)+this.actionObj.clone.offsetHeight;h>d&&(l=parseInt(l,10)-(h-d)+"px")}return{left:r,top:l}},t.prototype.setDragActionDefaultValues=function(){this.actionObj.action="drag",this.actionObj.isAllDay=null,this.actionObj.slotInterval=this.parent.activeViewOptions.timeScale.interval/this.parent.activeViewOptions.timeScale.slotCount,this.actionObj.interval=this.actionObj.slotInterval;var e=this.parent.element.querySelector("."+c.n);this.actionObj.cellWidth=e.offsetWidth,this.actionObj.cellHeight=e.offsetHeight},t.prototype.dragStart=function(e){var t=this,r=this.actionObj.element.getAttribute("data-guid");this.actionObj.event=this.parent.eventBase.getEventByGuid(r);var h=i.i(n.extend)({},this.actionObj.event,null,!0);i.i(n.isNullOrUndefined)(h)||(this.startTime=h[this.parent.eventFields.startTime].getTime());var u={cancel:!1,data:h,selectedData:this.getSelectedData(),event:e,excludeSelectors:null,element:this.actionObj.element,interval:this.actionObj.interval,navigation:{enable:!1,timeDelay:2e3},scroll:{enable:!0,scrollBy:30,timeDelay:100}};this.parent.trigger(p.q,u,function(r){if(r.cancel||!i.i(n.isNullOrUndefined)(t.actionObj.element)&&i.i(n.isNullOrUndefined)(t.actionObj.element.parentElement)){var p=t.actionObj.element.ej2_instances[0];return i.i(n.isNullOrUndefined)(p)||p.intDestroy(e.event),t.actionObj.action="",t.removeCloneElementClasses(),void t.removeCloneElement()}t.actionClass("addClass"),t.parent.uiStateValues.action=!0,t.actionObj.start=h[t.parent.eventFields.startTime],t.actionObj.end=h[t.parent.eventFields.endTime],t.actionObj.groupIndex=parseInt(t.actionObj.element.getAttribute("data-group-index")||"0",10),t.actionObj.interval=r.interval,t.actionObj.navigation=r.navigation,t.actionObj.scroll=r.scroll,t.actionObj.excludeSelectors=r.excludeSelectors;var u=t.parent.element.querySelector("."+c.g);if(t.scrollArgs={element:u,width:u.scrollWidth,height:u.scrollHeight},t.widthPerMinute=t.actionObj.cellWidth/t.actionObj.slotInterval*t.actionObj.interval,t.heightPerMinute=t.actionObj.cellHeight/t.actionObj.slotInterval*t.actionObj.interval,t.widthUptoCursorPoint=0,t.heightUptoCursorPoint=0,t.cursorPointIndex=-1,t.isHeaderRows=!1,t.isTimelineDayProcess=!1,t.minDiff=0,t.isMorePopupOpened=!1,t.daysVariation=-1,t.isAllDayTarget=t.actionObj.clone.classList.contains(c._30),(t.parent.activeView.isTimelineView()||!t.parent.timeScale.enable)&&"TimelineYear"!==t.parent.currentView){!i.i(n.isNullOrUndefined)(t.actionObj.clone.offsetParent)&&t.actionObj.clone.offsetParent.classList.contains(c._72)&&(t.isMorePopupOpened=!0),t.actionObj.pageX=e.event.pageX;var g=t.parent.activeViewOptions.headerRows;t.isHeaderRows=g.length>0&&"Hour"!==g[g.length-1].option&&"Date"!==g[g.length-1].option,t.isTimelineDayProcess=!t.parent.activeViewOptions.timeScale.enable||t.isHeaderRows||"TimelineMonth"===t.parent.currentView||g.length>0&&"Date"===g[g.length-1].option,t.isStepDragging=!t.isTimelineDayProcess&&t.actionObj.slotInterval!==t.actionObj.interval,t.isTimelineDayProcess?t.timelineEventModule=new s.a(t.parent,"day"):t.timelineEventModule=new s.a(t.parent,"hour")}if("TimelineYear"===t.parent.currentView&&(t.yearEvent=new o.a(t.parent)),"Month"===t.parent.currentView&&(t.startTime=d.b(new Date(t.startTime)).getTime(),t.updateOriginalElement(t.actionObj.clone),t.monthEvent=new a.a(t.parent)),"Day"===t.parent.currentView||"Week"===t.parent.currentView||"WorkWeek"===t.parent.currentView){t.verticalEvent=new l.a(t.parent),t.verticalEvent.initializeValues();t.splitEvent(t.actionObj.event).forEach(function(e){var r='.e-day-wrapper[data-date="'+d.b(e[t.parent.eventFields.startTime]).getTime()+'"]';t.parent.activeViewOptions.group.resources.length>0&&(r=r.concat('[data-group-index = "'+t.actionObj.groupIndex+'"]'));var a=t.parent.element.querySelector(r);if(a){var s=a.querySelector('[data-id="'+t.actionObj.clone.getAttribute("data-id")+'"]');s&&i.i(n.addClass)([s],c._73)}})}})},t.prototype.getSelectedData=function(){if(this.isMultiSelect&&0===this.multiData.length&&this.parent.selectedElements.length>0)for(var e=0,t=this.parent.selectedElements;e<t.length;e++){var r=t[e],a=r.getAttribute("data-guid"),s=this.parent.eventBase.getEventByGuid(a);this.multiData.push(i.i(n.extend)({},s,null,!0))}return this.multiData},t.prototype.drag=function(e){if(this.parent.quickPopup&&this.parent.quickPopup.quickPopupHide(!0),i.i(n.isNullOrUndefined)(e.target)||!e.target.classList.contains(c.r)){var t=i.i(n.extend)({},this.actionObj.event,null,!0),r=this.parent.eventBase.getPageCoordinates(e);if(this.actionObj.Y=this.actionObj.pageY=r.pageY,this.actionObj.X=this.actionObj.pageX=r.pageX,this.actionObj.target=e.target,this.widthUptoCursorPoint=0===this.widthUptoCursorPoint?Math.ceil(Math.abs(this.actionObj.clone.getBoundingClientRect().left-this.actionObj.X)/this.widthPerMinute)*this.widthPerMinute:this.widthUptoCursorPoint,this.widthUptoCursorPoint=this.isMorePopupOpened?this.actionObj.cellWidth:this.widthUptoCursorPoint,this.heightUptoCursorPoint=0===this.heightUptoCursorPoint?Math.ceil(Math.abs(this.actionObj.clone.getBoundingClientRect().top-this.actionObj.Y)/this.heightPerMinute)*this.heightPerMinute:this.heightUptoCursorPoint,this.isAllDayDrag=this.parent.activeViewOptions.timeScale.enable?this.actionObj.clone.classList.contains(c._30):this.actionObj.event[this.parent.eventFields.isAllDay],this.isStepDragging&&0===this.minDiff&&this.calculateMinutesDiff(t),("Month"===this.parent.currentView||this.isAllDayDrag)&&this.daysVariation<0){var a=this.parent.getDateFromElement(this.actionObj.target);if(i.i(n.isNullOrUndefined)(a))this.daysVariation=0;else{var s=d.b(a),o=d.b(new Date(t[this.parent.eventFields.startTime].getTime()));this.daysVariation=(s.getTime()-o.getTime())/d.c}}else this.daysVariation=0;if(this.parent.eventDragArea){var l=r.target;this.actionObj.clone.style.top=i.i(n.formatUnit)(l.offsetTop),this.actionObj.clone.style.left=i.i(n.formatUnit)(l.offsetLeft);i.i(n.closest)(l,"."+c._74)?"Week"!==this.parent.currentView&&"WorkWeek"!==this.parent.currentView&&"Day"!==this.parent.currentView&&(this.actionObj.clone.style.width=i.i(n.formatUnit)(this.actionObj.element.offsetWidth)):(this.actionObj.clone.style.height="",this.actionObj.clone.style.width="")}this.updateScrollPosition(e),this.updateNavigatingPosition(e),this.updateDraggingDateTime(e);var h={data:t,event:e,element:this.actionObj.element,startTime:this.actionObj.start,endTime:this.actionObj.end,selectedData:this.updatedData};this.parent.group.resources.length>0&&(h.groupIndex=this.actionObj.groupIndex),this.parent.trigger(p.r,h)}},t.prototype.calculateMinutesDiff=function(e){this.parent.enableRtl?this.minDiff=(this.actionObj.clone.offsetWidth-this.widthUptoCursorPoint)/this.widthPerMinute*this.actionObj.interval:this.minDiff=this.widthUptoCursorPoint/this.widthPerMinute*this.actionObj.interval;var t=e[this.parent.eventFields.startTime],i=this.parent.activeView.renderDates[0],n=d.w(i,this.parent.activeView.getStartHour(),this.parent.activeView.getEndHour());n.startHour.getTime()>t.getTime()&&(this.minDiff=this.minDiff+(n.startHour.getTime()-t.getTime())/d.g)},t.prototype.dragStop=function(e){var t=this;if(this.isCursorAhead=!1,this.removeCloneElementClasses(),this.removeCloneElement(),clearInterval(this.actionObj.navigationInterval),this.actionObj.navigationInterval=null,clearInterval(this.actionObj.scrollInterval),this.actionObj.scrollInterval=null,this.actionClass("removeClass"),this.parent.uiStateValues.action=!1,!this.isAllowDrop(e)){var r=!e.target.classList.contains("e-work-cells")&&this.parent.cellTemplate?i.i(n.closest)(e.target,".e-work-cells"):e.target,a={cancel:!1,data:this.getChangedData(this.updatedData),selectedData:this.updatedData,event:e,element:this.actionObj.element,target:r};this.actionObj.action=null,this.parent.trigger(p.s,a,function(e){if(!e.cancel){if(t.parent.isSpecificResourceEvents()){t.parent.crudModule.crudObj.isCrudAction=!0,t.parent.crudModule.crudObj.sourceEvent=[t.parent.resourceBase.lastResourceLevel[parseInt(a.element.getAttribute("data-group-index"),10)]];var i=parseInt(a.target.getAttribute("data-group-index"),10)||t.actionObj.groupIndex;t.parent.crudModule.crudObj.targetEvent=[t.parent.resourceBase.lastResourceLevel[parseInt(i.toString(),10)]]}t.saveChangedData(e,t.isMultiSelect)}}),this.updatedData=[],this.multiData=[],this.isMultiSelect=!1,this.parent.selectedElements=[]}},t.prototype.updateNavigatingPosition=function(e){var t=this;if(this.actionObj.navigation.enable){var r=this.parent.getCurrentTime();i.i(n.isNullOrUndefined)(this.actionObj.navigationInterval)&&(this.actionObj.navigationInterval=window.setInterval(function(){if(r){var i=t.parent.getCurrentTime(),n=i.getSeconds(),a=r.getSeconds()+t.actionObj.navigation.timeDelay/1e3;a=a>=60?a-60:a,a===n&&(r=t.parent.getCurrentTime(),t.viewNavigation(e),t.updateDraggingDateTime(e))}},this.actionObj.navigation.timeDelay))}},t.prototype.updateDraggingDateTime=function(e){!i.i(n.isNullOrUndefined)(this.actionObj.clone.offsetParent)&&this.actionObj.clone.offsetParent.classList.contains(c._72)?this.morePopupEventDragging(e):this.parent.activeView.isTimelineView()&&"TimelineYear"!==this.parent.currentView?(this.timelineEventModule.dateRender=this.parent.activeView.renderDates,this.timelineEventModule.cellWidth=this.actionObj.cellWidth,this.timelineEventModule.getSlotDates(),this.actionObj.cellWidth=this.isHeaderRows?this.timelineEventModule.cellWidth:this.parent.element.querySelector("."+c.n).getBoundingClientRect().width,this.calculateTimelineTime(e)):"Month"===this.parent.currentView||"TimelineYear"===this.parent.currentView?this.calculateVerticalDate(e):this.calculateVerticalTime(e)},t.prototype.navigationWrapper=function(){if(this.parent.activeView.isTimelineView()){var e=void 0;if(e=this.parent.activeViewOptions.group.resources.length>0?this.parent.element.querySelectorAll(".e-appointment-container:not(.e-hidden)").item(this.actionObj.index):this.parent.element.querySelector("."+c.l),!i.i(n.isNullOrUndefined)(e)){var t=e.querySelector("."+c.C);t||(t=i.i(n.createElement)("div",{className:c.C}),e.appendChild(t)),this.actionObj.cloneElement.forEach(function(e){t.appendChild(e)})}}else if("Month"!==this.parent.currentView&&this.parent.timeScale.enable){var r=this.actionObj.clone.classList.contains(c._30)?"."+c._6:"."+c.C;if(this.parent.element.querySelectorAll(r).item(this.actionObj.index).appendChild(this.actionObj.clone),r==="."+c._6){var a=this.getAllDayEventHeight(),s=[].slice.call(this.parent.element.querySelectorAll("."+c._4+":first-child"));if(s[0].offsetHeight<a)for(var o=0,l=s;o<l.length;o++){var p=l[o];p.style.height=(a+2)/12+"em"}this.actionObj.clone.style.height=i.i(n.formatUnit)(a)}this.actionObj.height=parseInt(this.actionObj.clone.style.height,10)}else{var d=[].slice.call(this.parent.element.querySelectorAll("."+c.n));this.actionObj.index=this.parent.activeView.renderDates.length<this.actionObj.index?this.parent.activeView.renderDates.length-1:this.actionObj.index;var h=d[this.actionObj.index].querySelector("."+c.C);h||(h=i.i(n.createElement)("div",{className:c.C}),d[this.actionObj.index].appendChild(h)),h.appendChild(this.actionObj.clone)}},t.prototype.viewNavigation=function(e){var t,r=this.parent.element.querySelector("."+c.g);r&&(!this.scrollEdges.top&&!this.scrollEdges.bottom||i.i(n.closest)(this.actionObj.clone,"."+c._6))&&(0===r.scrollLeft&&Math.round(this.actionObj.X)<=Math.round(r.getBoundingClientRect().left+this.actionObj.cellWidth+window.pageXOffset)?t=this.parent.enableRtl?"next":"previous":Math.round(r.scrollLeft)+r.clientWidth===r.scrollWidth&&Math.round(this.actionObj.X)>=Math.round(r.getBoundingClientRect().right-this.actionObj.cellWidth+window.pageXOffset)&&(t=this.parent.enableRtl?"previous":"next"),t&&this.parent.changeDate(this.parent.activeView.getNextPreviousDate(t)))},t.prototype.morePopupEventDragging=function(e){if(!(i.i(n.isNullOrUndefined)(e.target)||e.target&&i.i(n.isNullOrUndefined)(i.i(n.closest)(e.target,"td")))){var t=i.i(n.extend)({},this.actionObj.event,null,!0),r=t[this.parent.eventFields.endTime].getTime()-t[this.parent.eventFields.startTime].getTime(),a=i.i(n.closest)(e.target,"td");if("TimelineYear"!==this.parent.currentView||a.classList.contains(c.n)&&!a.classList.contains(c.t)){var s=this.parent.getDateFromElement(a),o=new Date(s.getTime());o.setMilliseconds(r),this.parent.activeViewOptions.group.resources.length>0&&(this.actionObj.groupIndex=parseInt(a.getAttribute("data-group-index"),10)),this.actionObj.start=new Date(s.getTime()),this.actionObj.end=new Date(o.getTime()),this.actionObj.clone.style.top=i.i(n.formatUnit)(a.offsetParent.offsetTop),this.actionObj.clone.style.left=i.i(n.formatUnit)(a.offsetLeft),this.actionObj.clone.style.width=i.i(n.formatUnit)(a.offsetWidth);var l,p=a;if(this.parent.activeView.isTimelineView()){var d=i.i(n.closest)(a,"tr").rowIndex;p=this.parent.element.querySelectorAll(".e-appointment-container").item(d)}l=p.querySelector("."+c.C),l||(l=i.i(n.createElement)("div",{className:c.C}),p.appendChild(l)),this.appendCloneElement(l)}}},t.prototype.calculateVerticalTime=function(e){var t=this;if(!(i.i(n.isNullOrUndefined)(this.actionObj.target)||this.actionObj.target&&i.i(n.isNullOrUndefined)(i.i(n.closest)(this.actionObj.target,"tr"))||!i.i(n.closest)(this.actionObj.target,"td").classList.contains(c.n)&&!i.i(n.closest)(this.actionObj.target,"td").classList.contains(c._4))){this.parent.activeViewOptions.timeScale.enable&&this.swapDragging(e);var r=this.parent.element.querySelector("."+c.g),a=i.i(n.extend)({},this.actionObj.event,null,!0),s=a[this.parent.eventFields.startTime],o=a[this.parent.eventFields.endTime],l=d.F(o)-d.F(s),p=Math.floor(parseInt(this.actionObj.clone.style.top,10)/this.actionObj.cellHeight)*this.actionObj.cellHeight;p=p<0?0:p,(this.scrollEdges.top||this.scrollEdges.bottom)&&(p=this.scrollEdges.top?r.scrollTop-this.heightUptoCursorPoint+this.actionObj.cellHeight+window.pageYOffset:r.scrollTop+r.offsetHeight-this.actionObj.clone.offsetHeight+window.pageYOffset+(this.actionObj.clone.offsetHeight-this.heightUptoCursorPoint),p=Math.round(p/this.actionObj.cellHeight)*this.actionObj.cellHeight,this.actionObj.clone.style.top=i.i(n.formatUnit)(p));var h,u=this.parent.activeViewOptions.timeScale.enable?p/this.actionObj.cellHeight:0,g=this.actionObj.cellHeight/this.actionObj.slotInterval,v=parseInt(this.actionObj.clone.style.top,10)-p;if(this.isAllDayDrag)h=this.parent.element.querySelector("."+c._27);else{h=[].slice.call(this.parent.getContentTable().querySelectorAll("tr"))[parseInt(u.toString(),10)]}var f;(i.i(n.closest)(this.actionObj.target,"td").classList.contains(c.n)||i.i(n.closest)(this.actionObj.target,"td").classList.contains(c._4))&&(f=i.i(n.closest)(this.actionObj.target,"td").cellIndex);var m=i.i(n.isNullOrUndefined)(f)?i.i(n.closest)(this.actionObj.clone,"td").cellIndex:f;if(this.actionObj.index=m,!i.i(n.isNullOrUndefined)(h)){var y=h.children[parseInt(m.toString(),10)];this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive&&(this.actionObj.groupIndex=parseInt(y.getAttribute("data-group-index"),10));var T,D;if(this.parent.activeViewOptions.timeScale.enable&&!this.isAllDayDrag)this.appendCloneElement(this.getEventWrapper(m)),T=this.parent.getDateFromElement(y),T.setMinutes(T.getMinutes()+v/g),D=new Date(T.getTime()),this.actionObj.element.classList.contains(c._30)?D.setMinutes(D.getMinutes()+this.actionObj.slotInterval):D.setMilliseconds(l);else{T=this.parent.getDateFromElement(y),T.setDate(T.getDate()-this.daysVariation),T.setHours(s.getHours(),s.getMinutes(),s.getSeconds()),D=new Date(T.getTime()),D.setMilliseconds(l),!this.actionObj.element.classList.contains(c._30)&&this.actionObj.clone.classList.contains(c._30)&&(D=d.d(d.b(D),1));var w=this.parent.activeViewOptions.group.byDate||this.parent.virtualScrollModule&&!this.parent.activeViewOptions.timeScale.enable?m:void 0;this.updateAllDayEvents(T,D,w)}this.actionObj.start=new Date(+T),this.actionObj.end=new Date(+D);for(var b=this.getUpdatedEvent(this.actionObj.start,this.actionObj.end,this.actionObj.event),C=[].slice.call(this.parent.element.querySelectorAll(".e-dynamic-clone")),S=0,O=C;S<O.length;S++){var E=O[S];i.i(n.remove)(E)}if(this.multiData.length>0){if(this.isAllDayTarget&&this.isAllDayDrag&&!i.i(n.isNullOrUndefined)(this.actionObj.isAllDay)&&!this.actionObj.isAllDay){var x=parseInt(i.i(n.closest)(this.actionObj.target,"td").getAttribute("data-date"),10);this.multiData.forEach(function(e){if(t.swagData.push(i.i(n.extend)({},e,null,!0)),e[t.parent.eventFields.isAllDay]){e[t.parent.eventFields.startTime]=new Date(e[t.parent.eventFields.startTime].getTime()+(x-t.startTime));var r=new Date(e[t.parent.eventFields.startTime]),a=new Date(r.setMinutes(r.getMinutes()+t.actionObj.slotInterval));e[t.parent.eventFields.endTime]=a,e[t.parent.eventFields.isAllDay]=!1}}),this.startTime=x}if(this.isAllDayTarget&&this.isAllDayDrag&&!i.i(n.isNullOrUndefined)(this.actionObj.isAllDay)&&this.actionObj.isAllDay&&this.swagData.length>0){this.multiData=this.swagData,this.swagData=[];var V=i.i(n.extend)({},this.actionObj.event,null,!0);this.startTime=V[this.parent.eventFields.startTime].getTime()}for(var A=b[this.parent.eventFields.startTime].getTime()-this.startTime,I=0;I<this.multiData.length;I++){this.updatedData[parseInt(I.toString(),10)]=this.updateMultipleData(this.multiData[parseInt(I.toString(),10)],A);var M=this.getDayIndex(this.updatedData[parseInt(I.toString(),10)]);if(M>=0){var E=this.getEventWrapper(M,this.updatedData[parseInt(I.toString(),10)][this.parent.eventFields.isAllDay]);this.appendCloneElement(E,this.actionObj.cloneElement[parseInt(I.toString(),10)]),this.updateEventHeight(this.updatedData[parseInt(I.toString(),10)],I,M)}else i.i(n.isNullOrUndefined)(this.actionObj.cloneElement[parseInt(I.toString(),10)].parentNode)||i.i(n.remove)(this.actionObj.cloneElement[parseInt(I.toString(),10)])}}else this.updateEventHeight(b);this.updateTimePosition(this.actionObj.start,this.updatedData)}}},t.prototype.splitEvent=function(e){var t=this.parent.eventFields,r=[],a=e[t.startTime],s=e[t.endTime];if(d.b(new Date(a.getTime()))<d.b(new Date(s.getTime()))){for(var o=d.b(new Date(a.getTime())),l=new Date(o.getTime()),c=0;o<new Date(s.getTime());c++){l=new Date(l.setDate(o.getDate()+1));var p=i.i(n.extend)({},e,null,!0);p[t.startTime]=new Date(o),p[t.endTime]=new Date(l),o=new Date(o.setDate(o.getDate()+1)),r.push(p)}var h=r.length-1;r[0][t.startTime]=a,r[parseInt(h.toString(),10)][t.endTime]=s}else r.push(e);return r},t.prototype.updateMultipleData=function(e,t){var r=i.i(n.extend)({},e,null,!0);!i.i(n.isNullOrUndefined)(this.actionObj.isAllDay)&&this.parent.activeViewOptions.timeScale.enable&&(this.isAllDayTarget&&r[this.parent.eventFields.isAllDay]||!this.isAllDayTarget&&!r[this.parent.eventFields.isAllDay])&&(r[this.parent.eventFields.isAllDay]=this.actionObj.isAllDay);var a=r[this.parent.eventFields.endTime].getTime()-r[this.parent.eventFields.startTime].getTime();if(r[this.parent.eventFields.isAllDay]){var s=Math.ceil(t/864e5),o=Math.ceil(a/864e5),l=new Date(r[this.parent.eventFields.startTime]);r[this.parent.eventFields.startTime]=d.b(new Date(l.setDate(l.getDate()+s))),r[this.parent.eventFields.endTime]=d.d(r[this.parent.eventFields.startTime],o)}else r[this.parent.eventFields.startTime]=new Date(r[this.parent.eventFields.startTime].getTime()+t),r[this.parent.eventFields.endTime]=new Date(r[this.parent.eventFields.startTime].getTime()+a);return r},t.prototype.getDayIndex=function(e){var t=i.i(n.extend)({},e,null,!0),r=d.b(t[this.parent.eventFields.startTime]);if(this.parent.activeViewOptions.timeScale.enable&&!t[this.parent.eventFields.isAllDay]){var a=this.parent.activeView.getStartHour();r.setMilliseconds(a.getTime()-d.b(a).getTime())}var s=r.getTime(),o="",l=c._8;return l=this.parent.activeViewOptions.timeScale.enable&&t[this.parent.eventFields.isAllDay]?c._6:c.n,o="."+l+'[data-date="'+s+'"]',this.parent.activeViewOptions.group.resources.length>0&&(o=o+'[data-group-index="'+this.actionObj.groupIndex+'"]'),this.targetTd=this.parent.element.querySelector(o),i.i(n.isNullOrUndefined)(this.targetTd)?-1:this.targetTd.cellIndex},t.prototype.updateEventHeight=function(e,t,r){this.verticalEvent.initializeValues();var a=this.verticalEvent.getStartCount();if(!this.parent.uiStateValues.isGroupAdaptive)for(var s=0;s<this.actionObj.groupIndex;s++)this.verticalEvent.dateRender[parseInt(s.toString(),10)]&&(a+=this.verticalEvent.dateRender[parseInt(s.toString(),10)].length);var o=this.parent.uiStateValues.isGroupAdaptive?a:this.actionObj.groupIndex;if(!(!this.parent.activeViewOptions.group.byDate||i.i(n.isNullOrUndefined)(this.parent.getDateFromElement(this.actionObj.target)))||!this.parent.activeViewOptions.group.byDate)for(var l=-1,p=this.parent.activeViewOptions.group.byDate?this.parent.getIndexOfDate(this.verticalEvent.dateRender[parseInt(o.toString(),10)],d.b(this.parent.getDateFromElement(i.i(n.isNullOrUndefined)(t)?this.actionObj.target:this.targetTd))):i.i(n.isNullOrUndefined)(t)?this.actionObj.index-a:r-a,h=this.splitEvent(e),u=this.parent.eventBase.isAllDayAppointment(e)||h.length>2||"TimeSlot"!==this.parent.eventSettings.spannedEventPlacement?[e]:h,s=0;s<u.length;s++){if(s>0){var g='.e-day-wrapper[data-date="'+d.b(u[parseInt(s.toString(),10)][this.parent.eventFields.startTime]).getTime()+'"]';this.parent.activeViewOptions.group.resources.length>0&&(g=g.concat('[data-group-index = "'+this.actionObj.groupIndex+'"]'));var v=this.parent.element.querySelector(g);v?(p+=1,l=v.cellIndex):p=-1}if(p>=0){var f=this.verticalEvent.isSpannedEvent(u[parseInt(s.toString(),10)],p,o),m=f[this.verticalEvent.fields.startTime],y=f[this.verticalEvent.fields.endTime],T=this.parent.activeViewOptions.timeScale.enable?this.verticalEvent.getHeight(m,y):this.actionObj.element.offsetHeight,D=this.parent.activeViewOptions.timeScale.enable?this.verticalEvent.getTopValue(m,p,o):this.actionObj.element.offsetTop;if(i.i(n.isNullOrUndefined)(t))0===s?(this.actionObj.clone.style.top=i.i(n.formatUnit)(D),this.actionObj.clone.style.height=i.i(n.formatUnit)(T)):this.renderSpannedEvents(f,l,D,T);else{var w=this.actionObj.cellWidth;if(e[this.parent.eventFields.isAllDay]){D=this.parent.element.querySelector("."+c._27).offsetTop,T=this.getAllDayEventHeight();var b=e[this.parent.eventFields.endTime].getTime()-e[this.parent.eventFields.startTime].getTime(),C=Math.ceil(b/864e5);C>=0&&(w=C*this.actionObj.cellWidth)}this.actionObj.cloneElement[parseInt(t.toString(),10)]&&(0===s?(this.actionObj.cloneElement[parseInt(t.toString(),10)].style.top=i.i(n.formatUnit)(D),this.actionObj.cloneElement[parseInt(t.toString(),10)].style.height=i.i(n.formatUnit)(T),this.actionObj.cloneElement[parseInt(t.toString(),10)].style.width=i.i(n.formatUnit)(w),this.actionObj.cloneElement[parseInt(t.toString(),10)].style.left=i.i(n.formatUnit)(0)):this.renderSpannedEvents(f,l,D,T))}}}},t.prototype.renderSpannedEvents=function(e,t,r,a){if(e[this.parent.eventFields.startTime].getTime()!==e[this.parent.eventFields.endTime].getTime()){var s=this.verticalEvent.createAppointmentElement(e,!1,e.isSpanned,this.actionObj.groupIndex);i.i(n.addClass)([s],[c._75,"e-dynamic-clone"]),i.i(n.setStyleAttribute)(s,{width:"100%",height:a+"px",top:r+"px",border:"0px"}),[].slice.call(this.parent.element.querySelectorAll("."+c.C))[parseInt(t.toString(),10)].appendChild(s)}},t.prototype.getRenderedDates=function(){var e,t,i=this,n=this.parent.activeView.renderDates;if((e=this.parent.eventBase.slots).push.apply(e,this.parent.activeView.renderDates.map(function(e){return+e})),this.parent.activeViewOptions.group.resources.length>0){this.parent.eventBase.slots=[];n=this.parent.resourceBase.lastResourceLevel.filter(function(e){return e.groupIndex===i.actionObj.groupIndex})[0].renderDates,(t=this.parent.eventBase.slots).push.apply(t,n.map(function(e){return+e}))}return n},t.prototype.updateAllDayEvents=function(e,t,r){this.parent.eventBase.slots=[];var a=this.getUpdatedEvent(e,t,this.actionObj.event),s=this.getRenderedDates(),o=this.parent.eventBase.splitEvent(a,s),l='.e-all-day-cells[data-date="'+o[0][this.parent.eventFields.startTime].getTime()+'"]';this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive&&(l=l.concat('[data-group-index = "'+this.actionObj.groupIndex+'"]'));var c=[].slice.call(this.parent.element.querySelectorAll(l));if(c.length>0||!i.i(n.isNullOrUndefined)(r)){var p=i.i(n.isNullOrUndefined)(r)?c[0].cellIndex:r;this.appendCloneElement(this.getEventWrapper(p)),this.actionObj.clone.style.width=i.i(n.formatUnit)(o[0].data.count*this.actionObj.cellWidth)}},t.prototype.swapDragging=function(e){var t=i.i(n.closest)(this.actionObj.target,"td").cellIndex;if(i.i(n.closest)(this.actionObj.target,"."+c.d)&&!i.i(n.closest)(this.actionObj.clone,"."+c._6)){i.i(n.addClass)([this.actionObj.clone],c._30),this.appendCloneElement(this.getEventWrapper(t)),this.actionObj.isAllDay=!0;var r=this.getAllDayEventHeight(),a=[].slice.call(this.parent.element.querySelectorAll("."+c._4+":first-child"));if(a[0].offsetHeight<r)for(var s=0,o=a;s<o.length;s++){var l=o[s];l.style.height=(r+2)/12+"em"}i.i(n.setStyleAttribute)(this.actionObj.clone,{width:i.i(n.formatUnit)(this.actionObj.cellWidth),height:i.i(n.formatUnit)(r),top:i.i(n.formatUnit)(this.parent.element.querySelector("."+c._27).offsetTop)})}if(i.i(n.closest)(this.actionObj.target,"."+c.n)&&!i.i(n.closest)(this.actionObj.clone,"."+c._8)){i.i(n.removeClass)([this.actionObj.clone],c._30),this.appendCloneElement(this.getEventWrapper(t)),this.actionObj.isAllDay=!1;var p=0===this.actionObj.element.offsetHeight?this.actionObj.height:this.actionObj.element.offsetHeight;i.i(n.setStyleAttribute)(this.actionObj.clone,{left:i.i(n.formatUnit)(0),height:i.i(n.formatUnit)(p),width:i.i(n.formatUnit)(this.actionObj.cellWidth)})}},t.prototype.calculateVerticalDate=function(e){if(!(i.i(n.isNullOrUndefined)(e.target)||e.target&&i.i(n.isNullOrUndefined)(i.i(n.closest)(e.target,"tr"))||e.target&&"DIV"===e.target.tagName)){var t=i.i(n.extend)({},this.actionObj.event,null,!0);i.i(n.isNullOrUndefined)(this.parent.eventDragArea)&&this.removeCloneElement();var r=d.F(t[this.parent.eventFields.endTime])-d.F(t[this.parent.eventFields.startTime]),a=i.i(n.closest)(this.actionObj.target,"td");if(!i.i(n.isNullOrUndefined)(a)){var s=a.parentElement;this.actionObj.index=s.rowIndex*s.children.length+a.cellIndex;a=[].slice.call(this.parent.element.querySelectorAll("."+c.n))[this.actionObj.index];var o=this.parent.getDateFromElement(a);if(!i.i(n.isNullOrUndefined)(o)){this.parent.activeViewOptions.group.resources.length>0&&(this.actionObj.groupIndex=parseInt(a.getAttribute("data-group-index"),10));var l=new Date(o.setDate(o.getDate()-this.daysVariation)),p=new Date(l.getTime()),h=d.F(t[this.parent.eventFields.startTime])-d.F(d.b(new Date(+t[this.parent.eventFields.startTime])));p.setMilliseconds(h);var u=new Date(p.getTime());u.setMilliseconds(r),this.actionObj.start=new Date(p.getTime()),this.actionObj.end=new Date(u.getTime())}}for(var g=this.getUpdatedEvent(this.actionObj.start,this.actionObj.end,this.actionObj.event),v=[].slice.call(this.parent.element.querySelectorAll("."+c._75)),f=0,m=v;f<m.length;f++){var y=m[f];i.i(n.remove)(y)}if(this.multiData&&this.multiData.length>0){var T=d.b(new Date(g[this.parent.eventFields.startTime])),h=T.getTime()-this.startTime;"TimelineYear"===this.parent.currentView&&this.parent.group.resources.length>0&&(h=12*(T.getFullYear()-new Date(this.startTime).getFullYear()),h-=new Date(this.startTime).getMonth(),h+=T.getMonth());for(var D=0;D<this.multiData.length;D++)this.updatedData[parseInt(D.toString(),10)]=this.updateMultipleVerticalDate(this.multiData[parseInt(D.toString(),10)],h),"TimelineYear"===this.parent.currentView?this.dynamicYearlyEventsRendering(this.updatedData[parseInt(D.toString(),10)]):this.dynamicEventsRendering(this.updatedData[parseInt(D.toString(),10)])}else"TimelineYear"===this.parent.currentView?this.dynamicYearlyEventsRendering(g):this.dynamicEventsRendering(g)}},t.prototype.updateMultipleVerticalDate=function(e,t){var r=i.i(n.extend)({},e,null,!0),a=r[this.parent.eventFields.endTime].getTime()-r[this.parent.eventFields.startTime].getTime(),s=new Date(r[this.parent.eventFields.startTime]);if("TimelineYear"===this.parent.currentView&&this.parent.group.resources.length>0)r[this.parent.eventFields.startTime]=new Date(s.setMonth(s.getMonth()+t));else{var o=Math.ceil(t/d.c);r[this.parent.eventFields.startTime]=new Date(s.setDate(s.getDate()+o))}return r[this.parent.eventFields.endTime]=new Date(r[this.parent.eventFields.startTime].getTime()+a),r},t.prototype.calculateTimelineTime=function(e){var t=i.i(n.extend)({},this.actionObj.event,null,!0),r=d.F(t[this.parent.eventFields.endTime])-d.F(t[this.parent.eventFields.startTime]),a=this.parent.enableRtl?Math.abs(this.actionObj.clone.offsetLeft)-this.actionObj.clone.offsetWidth:parseInt(this.actionObj.clone.style.left,10);a=Math.floor(a/Math.trunc(this.actionObj.cellWidth))*this.actionObj.cellWidth;var s;this.parent.enableRtl&&(s=Math.abs(parseInt(this.actionObj.clone.style.right,10)),this.actionObj.clone.style.right=i.i(n.formatUnit)(s)),a=this.getOffsetValue(a,s);var o=this.getColumnIndex(a),l=this.parent.element.querySelector("."+c.g),p=l.getBoundingClientRect().right,h=this.parent.activeView.isTimelineView()&&!this.parent.enableRtl&&this.actionObj.pageX>this.actionObj.clone.getBoundingClientRect().right&&!this.isMorePopupOpened&&!(this.actionObj.pageX>p),u=this.parent.eventDragArea?l.scrollLeft-l.offsetLeft:0;!this.isCursorAhead&&!h||this.isStepDragging||(this.isCursorAhead=!0);var g=Math.floor((this.actionObj.pageX-this.actionObj.clone.getBoundingClientRect().left+u)/this.actionObj.cellWidth);this.parent.enableRtl&&(g=Math.abs(Math.floor((this.actionObj.pageX-this.actionObj.clone.getBoundingClientRect().right)/this.actionObj.cellWidth))-1),this.cursorPointIndex<0&&this.cursorIndex(e,t,a,g);var v=this.parent.getContentTable().querySelector("tr"),f=this.getCursorCurrentIndex(o,g,v);f=f<0?0:f;var m=this.isHeaderRows?new Date(this.timelineEventModule.dateRender[parseInt(f.toString(),10)].getTime()):this.parent.getDateFromElement(v.children[parseInt(f.toString(),10)]);if(this.isStepDragging){var y=this.getWidthDiff(v,f);if(0!==y){var T=Math.round(y/this.widthPerMinute);m.setMinutes(m.getMinutes()+T*this.actionObj.interval),this.isCursorAhead||h?m.setMilliseconds(-r):m.setMinutes(m.getMinutes()-this.minDiff)}else m=this.actionObj.start}else this.isCursorAhead||h?(m.setMinutes(m.getMinutes()+(this.isTimelineDayProcess?1440:this.actionObj.slotInterval)),m.setMilliseconds(-r)):m.setMinutes(m.getMinutes()-this.cursorPointIndex*(this.isTimelineDayProcess?1440:this.actionObj.slotInterval));if(m=this.calculateIntervalTime(m),this.isTimelineDayProcess){var D=t[this.parent.eventFields.startTime];m.setHours(D.getHours(),D.getMinutes(),D.getSeconds())}if(this.parent.eventDragArea){var w=this.parent.getDateFromElement(e.target);if(!i.i(n.isNullOrUndefined)(w))if(this.parent.activeViewOptions.timeScale.enable&&"TimelineMonth"!==this.parent.currentView)m=w;else{var D=t[this.parent.eventFields.startTime];m=new Date(w.setHours(D.getHours(),D.getMinutes(),D.getSeconds()))}}var b=new Date(m.getTime());b.setMilliseconds(r);var C=[this.getUpdatedEvent(m,b,this.actionObj.event)];if(this.multiData.length>0){for(var S=C[0][this.parent.eventFields.startTime].getTime()-this.startTime,O=0;O<this.multiData.length;O++)this.updatedData[parseInt(O.toString(),10)]=this.updateMultipleData(this.multiData[parseInt(O.toString(),10)],S);C=this.updatedData}for(var E=0;E<C.length;E++){var x=this.multiData.length>0?this.actionObj.cloneElement[parseInt(E.toString(),10)]:this.actionObj.clone;if(i.i(n.isNullOrUndefined)(this.parent.eventDragArea)){var V=this.timelineEventModule.splitEvent(C[parseInt(E.toString(),10)],this.timelineEventModule.dateRender),A=V[0].data,I=this.timelineEventModule.getStartTime(V[0],A),M=this.timelineEventModule.getEndTime(V[0],A),k=this.timelineEventModule.getEventWidth(I,M,t[this.parent.eventFields.isAllDay],A.count),R=this.parent.getIndexOfDate(this.timelineEventModule.dateRender,d.b(new Date(I.getTime())));R=R<0?0:R;var _=this.timelineEventModule.getPosition(I,M,t[this.parent.eventFields.isAllDay],R);this.parent.enableRtl?x.style.right=i.i(n.formatUnit)(_):x.style.left=i.i(n.formatUnit)(_),this.isMorePopupOpened||(x.style.width=i.i(n.formatUnit)(k))}this.parent.activeViewOptions.group.resources.length>0&&this.calculateResourceGroupingPosition(e,x),this.actionObj.start=new Date(m.getTime()),this.actionObj.end=new Date(b.getTime()),this.updateTimePosition(this.actionObj.start,this.updatedData)}},t.prototype.getOffsetValue=function(e,t){if(this.scrollEdges.left||this.scrollEdges.right){var r=this.parent.element.querySelector("."+c.g);this.parent.enableRtl?(t=r.offsetWidth-r.scrollLeft,this.scrollEdges.right?t=t-r.offsetWidth+this.actionObj.clone.offsetWidth-(this.actionObj.clone.offsetWidth-this.widthUptoCursorPoint):(t+=this.widthUptoCursorPoint)-this.widthUptoCursorPoint>=r.scrollWidth&&(this.actionObj.clone.style.width=i.i(n.formatUnit)(this.actionObj.clone.offsetWidth-this.widthUptoCursorPoint+this.actionObj.cellWidth),t=r.scrollLeft-r.scrollWidth),i.i(n.isNullOrUndefined)(this.parent.eventDragArea)&&(this.actionObj.clone.style.left=i.i(n.formatUnit)(t))):(this.scrollEdges.left?(e=r.scrollLeft-this.widthUptoCursorPoint+this.actionObj.cellWidth,r.scrollLeft+r.offsetWidth>=r.offsetWidth?r.scrollLeft=r.scrollLeft-1:0===this.actionObj.clone.offsetLeft&&(e=r.scrollLeft)):e=r.scrollLeft+r.offsetWidth-this.actionObj.clone.offsetWidth+(this.actionObj.clone.offsetWidth-this.widthUptoCursorPoint),e=e<0?0:e,i.i(n.isNullOrUndefined)(this.parent.eventDragArea)&&(this.actionObj.clone.style.left=i.i(n.formatUnit)(e)))}return e},t.prototype.getWidthDiff=function(e,t){var i=this.scrollArgs.element.getBoundingClientRect();if(i.left<=this.actionObj.pageX&&i.right>=this.actionObj.pageX){var n=e.children[parseInt(t.toString(),10)].offsetLeft,r=this.actionObj.pageX-i.left;return this.parent.enableRtl?n+this.actionObj.cellWidth-(this.scrollArgs.element.scrollLeft+r):this.scrollArgs.element.scrollLeft+r-n}return 0},t.prototype.getColumnIndex=function(e){var t=Math.floor(e/Math.trunc(this.actionObj.cellWidth));return this.isHeaderRows?t:this.getIndex(t)},t.prototype.getCursorCurrentIndex=function(e,t,i){var n=e+t;if(this.isHeaderRows){var r=Math.floor(i.offsetWidth/this.actionObj.cellWidth);return n>r-1?r-1:n}return n>i.children.length-1?i.children.length-1:n},t.prototype.cursorIndex=function(e,t,r,a){var s=i.i(n.closest)(e.target,".e-work-cells");if(i.i(n.isNullOrUndefined)(s)||this.isMorePopupOpened)this.cursorPointIndex=0;else{var o=this.parent.getDateFromElement(s);if(this.isHeaderRows){var l=Math.floor(r/this.actionObj.cellWidth);o=new Date(this.timelineEventModule.dateRender[l+a].getTime())}var c=o.getTime()-t[this.parent.eventFields.startTime].getTime();if(this.isTimelineDayProcess)this.cursorPointIndex=Math.abs(Math.ceil(c/d.c));else{var p=Math.floor(c/d.g/(this.actionObj.slotInterval/this.actionObj.cellWidth));this.cursorPointIndex=Math.floor(p/this.actionObj.cellWidth),this.cursorPointIndex=this.cursorPointIndex<0?0:this.cursorPointIndex}}},t.prototype.calculateResourceGroupingPosition=function(e,t){var r=this.parent.element.querySelector("."+c.g),a=[].slice.call(this.parent.element.querySelectorAll(".e-content-wrap .e-content-table tr:not(.e-hidden)")),s=d.j(r.querySelector("table"));s=i.i(n.isNullOrUndefined)(s)?0:s;var o=this.parent.rowAutoHeight?~~(r.querySelector("table").offsetHeight/a.length):this.actionObj.cellHeight,l=Math.floor(Math.floor(this.actionObj.Y+(r.scrollTop-s-(window.scrollY||window.pageYOffset))-r.getBoundingClientRect().top)/o);l=l<0?0:l>a.length-1?a.length-1:l,this.actionObj.index=l;var p=this.parent.element.querySelectorAll(".e-appointment-container:not(.e-hidden)").item(l),h=p.querySelector("."+c.C);h||(h=i.i(n.createElement)("div",{className:c.C}),p.appendChild(h)),this.appendCloneElement(h,t);var u=i.i(n.closest)(this.actionObj.target,"td");if(this.actionObj.groupIndex=u&&!isNaN(parseInt(u.getAttribute("data-group-index"),10))?parseInt(u.getAttribute("data-group-index"),10):this.actionObj.groupIndex,i.i(n.isNullOrUndefined)(this.parent.eventDragArea)){var g=a[parseInt(l.toString(),10)].getBoundingClientRect().height*l;if(this.parent.rowAutoHeight){var v=this.getCursorElement(e);v&&(g=v.classList.contains(c.n)?v.offsetTop:v.offsetParent&&v.offsetParent.classList.contains(c.D)?v.offsetParent.offsetTop:g)}t.style.top=i.i(n.formatUnit)(g)}},t.prototype.appendCloneElement=function(e,t){void 0===t&&(t=null),t=i.i(n.isNullOrUndefined)(t)?this.actionObj.clone:t;var r=document.querySelector(this.parent.eventDragArea);this.parent.eventDragArea&&r?r.appendChild(t):e.appendChild(t)},t.prototype.getEventWrapper=function(e,t){var r;if(i.i(n.isNullOrUndefined)(t)&&(t=this.actionObj.clone.classList.contains(c._30)),this.parent.activeViewOptions.timeScale.enable){var a=t?"."+c._6:"."+c.C;r=this.parent.element.querySelectorAll(a).item(e)}else{var s=this.parent.element.querySelectorAll("."+c.n).item(e);r=s.querySelector("."+c.C),r||(r=i.i(n.createElement)("div",{className:c.C}),s.appendChild(r))}return r},t.prototype.getAllDayEventHeight=function(){var e=i.i(n.createElement)("div",{className:c.D});this.parent.element.querySelector("."+c._6).appendChild(e);var t=e.offsetHeight;return i.i(n.remove)(e),t},t.prototype.isAllowDrop=function(e){if(!this.actionObj.excludeSelectors)return!1;for(var t=this.actionObj.excludeSelectors.split(","),i=!1,n=0,r=t;n<r.length;n++){var a=r[n];if(e.target.classList.contains(a)){i=!0;break}}return i},t.prototype.getModuleName=function(){return"dragAndDrop"},t}(r.a)},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(0),r=(i.n(n),i(2)),a=i(1),s=i(3),o=function(){function e(e){this.selectedCells=[],this.keyConfigs={downArrow:"downarrow",upArrow:"uparrow",rightArrow:"rightarrow",leftArrow:"leftarrow",shiftDownArrow:"shift+downarrow",shiftUpArrow:"shift+uparrow",shiftRightArrow:"shift+rightarrow",shiftLeftArrow:"shift+leftarrow",ctrlLeftArrow:"ctrl+leftarrow",ctrlRightArrow:"ctrl+rightarrow",altOne:"alt+1",altTwo:"alt+2",altThree:"alt+3",altFour:"alt+4",altFive:"alt+5",altSix:"alt+6",altSeven:"alt+7",altEight:"alt+8",altNine:"alt+9",enter:"enter",escape:"escape",delete:"delete",backspace:"backspace",home:"home",pageUp:"pageup",pageDown:"pagedown",tab:"tab",shiftTab:"shift+tab",ctrlShiftUpArrow:"ctrl+shift+uparrow",ctrlShiftDownArrow:"ctrl+shift+downarrow",ctrlShiftLeftArrow:"ctrl+shift+leftarrow",ctrlShiftRightArrow:"ctrl+shift+rightarrow"},this.parent=e,this.parent.element.tabIndex=-1===this.parent.element.tabIndex?0:this.parent.element.tabIndex,this.keyboardModule=new n.KeyboardEvents(this.parent.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"}),this.addEventListener()}return e.prototype.keyActionHandler=function(e){switch(e.action){case"downArrow":case"shiftDownArrow":this.processDown(e,e.shiftKey);break;case"upArrow":case"shiftUpArrow":this.processUp(e,e.shiftKey);break;case"leftArrow":case"shiftLeftArrow":this.processLeft(e,e.shiftKey);break;case"rightArrow":case"shiftRightArrow":this.processRight(e,e.shiftKey);break;case"ctrlLeftArrow":this.parent.changeDate(this.parent.activeView.getNextPreviousDate("previous"),e),this.parent.headerModule&&this.parent.headerModule.element.querySelector(".e-prev button").focus();break;case"ctrlRightArrow":this.parent.changeDate(this.parent.activeView.getNextPreviousDate("next"),e),this.parent.headerModule&&this.parent.headerModule.element.querySelector(".e-next button").focus();break;case"altOne":case"altTwo":case"altThree":case"altFour":case"altFive":case"altSix":case"altSeven":case"altEight":case"altNine":this.processViewNavigation(e);break;case"enter":this.processEnter(e);break;case"home":this.focusFirstCell();break;case"tab":case"shiftTab":this.processTab(e,e.shiftKey);break;case"delete":case"backspace":this.processDelete(e);break;case"ctrlShiftUpArrow":case"ctrlShiftDownArrow":case"ctrlShiftLeftArrow":case"ctrlShiftRightArrow":this.processCtrlShiftNavigationArrows(e);break;case"escape":this.processEscape(e);break;case"fTwelve":this.parent.allowInline&&this.parent.inlineModule&&(e.preventDefault(),this.processFTwelve(e))}},e.prototype.processFTwelve=function(e){var t=e.target;if(t.classList.contains(s.n)||t.classList.contains(s._4)){this.parent.activeCellsData=this.getSelectedElements(t);var a=i.i(n.extend)(this.parent.activeCellsData,{cancel:!1,event:e}),o={element:a.element,groupIndex:a.groupIndex,type:"Cell"};this.parent.notify(r.w,o)}if(t.classList.contains(s.D))return void t.click()},e.prototype.addEventListener=function(){this.parent.on(r.J,this.onCellMouseDown,this)},e.prototype.removeEventListener=function(){this.parent.off(r.J,this.onCellMouseDown)},e.prototype.onCellMouseDown=function(e){if(!e.event.shiftKey&&(this.initialTarget=this.getClosestCell(e.event),!this.parent.activeViewOptions.readonly&&"MonthAgenda"!==this.parent.currentView&&this.initialTarget&&(e.event.target.classList.contains(s.n)&&3!==e.event.which&&(this.parent.removeSelectedClass(),n.EventHandler.add(this.parent.getContentTable(),"mousemove",this.onMouseSelection,this),n.EventHandler.add(this.parent.getContentTable(),"mouseup",this.onMoveUp,this)),e.event.target.classList.contains(s._4)&&3!==e.event.which))){this.parent.removeSelectedClass();var t=this.parent.getAllDayRow();n.EventHandler.add(t,"mousemove",this.onMouseSelection,this),n.EventHandler.add(t,"mouseup",this.onMoveUp,this)}},e.prototype.onMouseSelection=function(e){var t=[].slice.call(this.parent.element.querySelectorAll("."+s.D));i.i(n.addClass)(t,"e-allow-select");var r=this.parent.boundaryValidation(e.pageY,e.pageX);if(r.bottom||r.top||r.left||r.right){var a=this.parent.element.querySelector("."+s.g),o=a.offsetHeight<=a.scrollHeight&&a.scrollTop>=0&&a.scrollTop+a.offsetHeight<=a.scrollHeight,l=a.offsetWidth<=a.scrollWidth&&a.scrollLeft>=0&&a.scrollLeft+a.offsetWidth<=a.scrollWidth;o&&(r.top||r.bottom)&&(a.scrollTop+=r.top?-e.target.offsetHeight:e.target.offsetHeight),l&&(r.left||r.right)&&(a.scrollLeft+=r.left?-e.target.offsetWidth:e.target.offsetWidth)}var c=this.getClosestCell(e);c&&this.selectCells(!0,c)},e.prototype.getClosestCell=function(e){return i.i(n.closest)(e.target,"."+s.n+",."+s._4)},e.prototype.onMoveUp=function(e){var t=this,a=[].slice.call(this.parent.element.querySelectorAll("."+s.D));if(i.i(n.removeClass)(a,"e-allow-select"),e.target.classList.contains(s.n)&&(n.EventHandler.remove(this.parent.getContentTable(),"mousemove",this.onMouseSelection),n.EventHandler.remove(this.parent.getContentTable(),"mouseup",this.onMoveUp)),e.target.classList.contains(s._4)){var o=this.parent.getAllDayRow();n.EventHandler.remove(o,"mousemove",this.onMouseSelection),n.EventHandler.remove(o,"mouseup",this.onMoveUp)}if(!this.isPreventAction(e)){var l="."+s.n+",."+s._4+",."+s.e,c=i.i(n.closest)(e.target,l);if("TimelineYear"!==this.parent.currentView||!c.classList.contains(s.t)){this.parent.activeCellsData=this.getSelectedElements(c);var p={};this.parent.eventWindow&&this.parent.eventWindow.convertToEventData(this.parent.activeCellsData,p);var d=this.parent.getSelectedCells(),h={data:p,element:this.parent.activeCellsData.element,event:e,requestType:r.x,showQuickPopup:!1};this.parent.trigger(r.d,h,function(a){if((a.showQuickPopup||t.parent.quickInfoOnSelectionEnd)&&d.length>1){var s=i.i(n.extend)(t.parent.activeCellsData,{cancel:!1,event:e,name:"cellClick"});t.parent.notify(r.a,s)}})}}},e.prototype.processEnter=function(e){if(!(this.parent.activeViewOptions.readonly&&!e.target.classList.contains(s.D)||this.isPreventAction(e)||"TimelineYear"===this.parent.currentView&&e.target.classList.contains(s.t))){var t=e.target;if(i.i(n.closest)(t,"."+s._84))return void(t.classList.contains(s._114)||t.classList.contains(s._115)||t.classList.contains(s._116)||t.classList.contains(s._118)||t.classList.contains(s._108)?(t.click(),e.preventDefault()):t.classList.contains(s.H)&&(this.parent.element.querySelector("."+s._115).click(),e.preventDefault()));if(t.classList.contains(s._83)&&t.classList.contains(s.u)){var a=t.querySelector("."+s._63);return void(a&&a.click())}if(!t.classList.contains(s.n)&&!t.classList.contains(s._4))return t.classList.contains(s._1)&&this.parent.inlineModule?void this.parent.inlineModule.inlineCrudActions(t):t.classList.contains(s.D)||t.classList.contains(s._86)||t.classList.contains(s._25)||t.classList.contains(s.z)?void t.click():t.classList.contains(s._89)?(this.parent.setProperties({selectedDate:this.parent.getDateFromElement(t)},!0),this.parent.changeView(this.parent.getNavigateView(),e),void this.processEscape(e)):void 0;this.parent.activeCellsData=this.getSelectedElements(t);var o=i.i(n.extend)(this.parent.activeCellsData,{cancel:!1,event:e});if(this.parent.allowInline){var l={element:o.element,groupIndex:o.groupIndex,type:"Cell"};this.parent.notify(r.w,l)}else"Year"===this.parent.currentView?t.click():this.parent.notify(r.a,o)}},e.prototype.getSelectedElements=function(e){var t;if(this.selectedCells.length>1&&e.classList.contains(s._37)){var i=this.parent.getCellDetails(this.selectedCells[0]),n=this.parent.getCellDetails(this.selectedCells.slice(-1)[0]);i.endTime=n.endTime,i.element=e,t=i}else t=this.parent.getCellDetails(e);return t},e.prototype.getCells=function(e,t,i){var n=this.parent.getContentTable(),r="TimelineYear"===this.parent.currentView,a=r&&!e?"."+s.n+":not(."+s.t+")":"td",o=[].slice.call(n.querySelectorAll(a)),l=n.rows.length,c=n.rows[0].cells.length;if(t&&t.classList.contains(s._4)){var p=this.parent.getAllDayRow();o=[].slice.call(p.cells),l=1,c=p.cells.length}var d=o.indexOf(t),h=o.indexOf(i),u=[];if(e){for(var g=0;g<c;g++)for(var v=0;v<l;v++){var f=o[c*v+g];r&&f.classList.contains(s.t)||u.push(f)}d=u.indexOf(t),h=u.indexOf(i)}if(d>h){var m=d;d=h,h=m}return(e?u:o).slice(d,h+1)},e.prototype.focusFirstCell=function(){if("Agenda"===this.parent.currentView){var e=this.parent.getContentTable().querySelector("."+s._46);return e.setAttribute("tabindex","0"),void e.focus()}if(this.parent.eventBase.removeSelectedAppointmentClass(),this.parent.activeView.isTimelineView()&&"TimelineYear"!==this.parent.currentView){var t=this.parent.element.querySelector("."+s.h+" tr:not(."+s._67+") ."+s.n+":not(."+s.v+")");this.selectCells(!1,t)}else if(this.parent.currentView.indexOf("Year")>-1){var i="."+s.n+":not(."+s.t+"):not(."+s.v+")",n="TimelineYear"===this.parent.currentView&&"Vertical"===this.parent.activeViewOptions.orientation;i+=n?'[data-date="'+this.parent.activeView.startDate().getTime()+'"]':"",this.selectCells(!1,this.parent.element.querySelector(i))}else this.selectCells(!1,this.parent.getWorkCellElements()[0])},e.prototype.isInverseTableSelect=function(){return this.parent.activeView.isInverseTableSelect},e.prototype.selectCells=function(e,t){var i=this;this.parent.removeSelectedClass();var n=t instanceof Array?t.slice(-1)[0]:t;if(e){var a,o=["Day","Week","WorkWeek","TimelineDay","TimelineWeek","TimelineWorkWeek","TimelineMonth","TimelineYear"],l={element:t,requestType:"mousemove",allowMultipleRow:!0};this.parent.inlineModule.removeInlineAppointmentElement(),this.parent.trigger(r.d,l,function(e){if(!e.allowMultipleRow||!i.parent.allowMultiRowSelection){var t="TimelineYear"===i.parent.currentView;if(t&&"Horizontal"===i.parent.activeViewOptions.orientation||"Month"===i.parent.currentView){var r=t&&i.parent.activeViewOptions.group.resources.length>0;n=r?i.initialTarget:i.initialTarget.parentElement.children[n.cellIndex]}else o.indexOf(i.parent.currentView)>-1&&(n=n.parentElement.children[i.initialTarget.cellIndex])}var l=i.getCells(i.isInverseTableSelect(),i.initialTarget,n);if(i.parent.activeViewOptions.group.resources.length>0){a=i.initialTarget.getAttribute("data-group-index");for(var c=[],p=0,d=l;p<d.length;p++){var h=d[p];h.getAttribute("data-group-index")===a&&c.push(h)}l=c}if(i.parent.allowMultiCellSelection||(l=[i.initialTarget]),i.selectedCells=l,l.length>2&&!n.classList.contains(s._4)){var u=i.getAllDayCells(l);if(i.parent.activeViewOptions.group.resources.length>0){for(var g=[],v=0,f=u;v<f.length;v++){var h=f[v];h.getAttribute("data-group-index")===a&&g.push(h)}u=g}l=l.concat(u)}n.getAttribute("data-group-index")!==a&&i.parent.activeViewOptions.group.resources.length>0&&(n=i.selectedCells[i.selectedCells.length-1]),i.parent.addSelectedClass(l,n)})}else{var l={element:n,requestType:r.x};this.parent.trigger(r.d,l,function(){i.initialTarget=n,i.selectedCells=[n],i.parent.addSelectedClass([n],n)})}},e.prototype.selectAppointment=function(e,t){var r=this.getAppointmentElements();if(!(r.length<0)){this.parent.eventBase.removeSelectedAppointmentClass();var a;if(t.classList.contains(s.D)){var o=r.indexOf(t);a=r[e?o-1:o+1]}else a=e?r[r.length-1]:r[0];a&&(this.parent.eventBase.addSelectedAppointments([a],!0),a.focus(),i.i(n.addClass)([a],s.S))}},e.prototype.selectAppointmentElementFromWorkCell=function(e,t){var i=this;if(this.parent.eventBase.removeSelectedAppointmentClass(),this.parent.removeSelectedClass(),t.classList.contains(s.n)||t.classList.contains(s._4)){var n=this.getUniqueAppointmentElements(),r=[],a=this.parent.getDateFromElement(t).getTime();if(this.parent.eventsProcessed.filter(function(t){return e?t[i.parent.eventFields.startTime].getTime()<=a:t[i.parent.eventFields.startTime].getTime()>=a}).filter(function(e){n.filter(function(t){JSON.stringify(e.Guid)===JSON.stringify(t.getAttribute("data-guid"))&&r.push(t)})}),r.length>0){var o=e?r[r.length-1]:r[0],l=this.getAppointmentElementsByGuid(o.getAttribute("data-guid"));this.parent.eventBase.addSelectedAppointments(l,!0),l[l.length-1].focus()}}},e.prototype.getAllDayCells=function(e){var t=this.parent.getAllDayRow();if(!t)return[];var i=e[0],n=e[e.length-1],r=this.parent.getCellDetails(i);if(this.parent.getCellDetails(n).endTime.getTime()-r.startTime.getTime()>=a.c)return[].slice.call(t.cells).slice(i.cellIndex,n.cellIndex+1);return[]},e.prototype.getAppointmentElements=function(){return[].slice.call(this.parent.element.querySelectorAll("."+s.D))},e.prototype.getAppointmentElementsByGuid=function(e){return[].slice.call(this.parent.element.querySelectorAll('div[data-guid="'+e+'"]'))},e.prototype.getUniqueAppointmentElements=function(){var e=this.getAppointmentElements(),t=[];return e.map(function(e){return e.getAttribute("data-guid")}).filter(function(i,n,r){r.indexOf(i)===n&&t.push(e[parseInt(n.toString(),10)])}),t},e.prototype.getWorkCellFromAppointmentElement=function(e){var t=this.parent.eventBase.getEventByGuid(e.getAttribute("data-guid"));return this.parent.eventBase.selectWorkCellByTime([t])},e.prototype.processViewNavigation=function(e){var t=parseInt(e.key,10)-1;if(t<this.parent.views.length){var i=this.parent.viewCollections[parseInt(t.toString(),10)].option;this.parent.changeView(i,e,void 0,t),this.parent.headerModule&&this.parent.headerModule.element.querySelector(".e-active-view button").focus()}},e.prototype.cancelUpDownAction=function(e){var t=e&&"Vertical"===this.parent.activeViewOptions.orientation,i=this.parent.activeViewOptions.group.resources.length>0;return!!(t&&i||e&&this.initialTarget.classList.contains(s.t))||!((!this.parent.activeView.isTimelineView()||e)&&"MonthAgenda"!==this.parent.currentView)},e.prototype.processUp=function(e,t){var i="TimelineYear"===this.parent.currentView;if(!t||!this.cancelUpDownAction(i)){var n=e.target,r=this.parent.getSelectedCells(),a=this.parent.eventBase.getSelectedAppointments(),o=this.parent.element.querySelector("."+s._90),l=this.getQuickPopupElement();if(r.length>0&&!e.target.classList.contains(s.n)&&(n=r[r.length-1]),a.length>0&&!o.classList.contains(s.T)&&!l.classList.contains(s.T)&&-1!==["Day","Week","WorkWeek","Month"].indexOf(this.parent.currentView)&&(n=this.getWorkCellFromAppointmentElement(a[a.length-1]),this.parent.eventBase.removeSelectedAppointmentClass()),n)if(n.classList.contains(s.n)&&!this.parent.element.querySelector("."+s.T)){var c=this.parent.getTableRows(),p=c.indexOf(n.parentElement),d=void 0;if(i&&t&&0===this.parent.activeViewOptions.group.resources.length&&(d=this.isInverseTableSelect()?this.getVerticalUpDownCell(c,n,p,!0):this.getHorizontalUpDownCell(c,n,p,!0)),(p>0||d)&&p<c.length){if(d=d||c[p-1].cells[n.cellIndex],"Year"===this.parent.currentView&&d.classList.contains(s.t)){if(!(this.parent.activeView.getStartDate().getTime()<+d.getAttribute("data-date")))return;d=this.getYearUpDownCell(c,p-1,n.cellIndex,!0)}this.selectCells(t,d)}}else"Agenda"!==this.parent.currentView&&"MonthAgenda"!==this.parent.currentView||this.selectAppointment(!0,n)}},e.prototype.processDown=function(e,t){var i="TimelineYear"===this.parent.currentView;if(!t||!this.cancelUpDownAction(i)){var n=e.target,r=this.parent.getSelectedCells(),a=this.parent.eventBase.getSelectedAppointments(),o=this.parent.element.querySelector("."+s._90),l=this.getQuickPopupElement();r.length>0&&!e.target.classList.contains(s.n)&&(n=r[r.length-1]),a.length>0&&!o.classList.contains(s.T)&&!l.classList.contains(s.T)&&-1!==["Day","Week","WorkWeek","Month"].indexOf(this.parent.currentView)&&(n=this.getWorkCellFromAppointmentElement(a[a.length-1]),this.parent.eventBase.removeSelectedAppointmentClass());var c=this.parent.getTableRows();if(n)if(n.classList.contains(s.n)&&!this.parent.element.querySelector("."+s.T)){var p=c.indexOf(n.parentElement),d=void 0;if(i&&t&&0===this.parent.activeViewOptions.group.resources.length&&(d=this.isInverseTableSelect()?this.getVerticalUpDownCell(c,n,p,!1):this.getHorizontalUpDownCell(c,n,p,!1)),p>=0&&(p<c.length-1||d)){if(d=d||c[p+1].cells[n.cellIndex],"Year"===this.parent.currentView&&d.classList.contains(s.t)){if(!(this.parent.activeView.getEndDate().getTime()>+d.getAttribute("data-date")))return;d=this.getYearUpDownCell(c,p+1,n.cellIndex,!1)}this.selectCells(t,d)}}else"Agenda"!==this.parent.currentView&&"MonthAgenda"!==this.parent.currentView||this.selectAppointment(!1,n)}},e.prototype.getYearUpDownCell=function(e,t,i,n){for(;e[parseInt(t.toString(),10)]&&e[parseInt(t.toString(),10)].cells[parseInt(i.toString(),10)].classList.contains(s.t);)t+=n?-1:1;return e[parseInt(t.toString(),10)].cells[parseInt(i.toString(),10)]},e.prototype.getHorizontalUpDownCell=function(e,t,i,n){var r=e[i+(n?-1:1)],a=r?r.cells[t.cellIndex]:t;if(a.classList.contains(s.t)){var o=r.querySelector("."+s.n+":not(."+s.t+")"),l=new Date(+o.getAttribute("data-date")),c='[data-date="'+new Date(l.getFullYear(),l.getMonth()+1,0).getTime()+'"]';a=a.cellIndex<o.cellIndex?o:r.querySelector(c)}return a},e.prototype.getVerticalUpDownCell=function(e,t,i,n){var r=n&&i>0||!n&&i<e.length-1,o=r?e[i+(n?-1:1)].cells[t.cellIndex]:void 0;if(!o||o.classList.contains(s.t)){if(e[parseInt(i.toString(),10)].cells[t.cellIndex-(n?1:-1)]){var l=+t.getAttribute("data-date")-(n?a.c:-a.c);return this.parent.getContentTable().querySelector("."+s.n+'[data-date="'+l+'"]')}o=t}return o},e.prototype.processLeftRight=function(e){var t="Year"===this.parent.currentView?e.closest("tbody"):this.parent.getContentTable(),i=e.parentNode.sectionRowIndex;return{element:t,rowIndex:i,columnIndex:e.cellIndex,maxIndex:t.rows[parseInt(i.toString(),10)].cells.length}},e.prototype.getQuickPopupElement=function(){return(this.parent.isAdaptive?document.body:this.parent.element).querySelector("."+s._84)},e.prototype.isCancelLeftRightAction=function(e,t,i){var n="MonthAgenda"===this.parent.currentView||i&&this.initialTarget.classList.contains(s.t);if("Agenda"===this.parent.currentView||t&&n)return!0;if(this.isPreventAction(e)&&t)return!0;var r=this.parent.element.querySelector("."+s._90),a=this.getQuickPopupElement();return!(!r.classList.contains(s.T)&&!a.classList.contains(s.T))},e.prototype.processRight=function(e,t){var r="TimelineYear"===this.parent.currentView;if(!this.isCancelLeftRightAction(e,t,r)){var o,l=this.parent.getSelectedCells(),c=this.parent.eventBase.getSelectedAppointments(),p=e.target;if(l.length>0&&!p.classList.contains(s.n)&&!p.classList.contains(s._4)&&(p=l[l.length-1]),!(c.length>0)||(p=this.getWorkCellFromAppointmentElement(c[c.length-1]),this.parent.eventBase.removeSelectedAppointmentClass(),p))if(p.classList.contains(s.n)&&e.target.classList.contains(s.n)){var d=this.processLeftRight(p),h=new Date(+p.getAttribute("data-date")),u="Year"===this.parent.currentView&&h.getTime()===a.o(h).getTime();if(d.columnIndex>=0&&d.columnIndex<d.maxIndex-1&&!u)o=this.calculateNextPrevDate(p,d.element.rows[d.rowIndex].cells[p.cellIndex+1],"right"),r&&t&&o.classList.contains(s.t)&&(o=this.getTimelineYearTargetCell(d,p,!0)),i.i(n.isNullOrUndefined)(o)||this.selectCells(t,o);else if(d.columnIndex===d.maxIndex-1||u)if(!this.isInverseTableSelect()&&d.rowIndex<d.element.rows.length-1&&!u){o=this.calculateNextPrevDate(p,d.element.rows[d.rowIndex+1].cells[0],"right");var g=r&&t&&o.classList.contains(s.t);o=g?this.getHorizontalLeftRightCell(d,p,!0):o,i.i(n.isNullOrUndefined)(o)||this.selectCells(t,o)}else if(!t){if(u&&h.getTime()!==this.parent.activeView.getEndDate().getTime())return void this.selectCells(t,this.parent.element.querySelector(":not(."+s.t+')[data-date="'+(h.getTime()+a.c)+'"]'));var v=this.isInverseTableSelect()?d.rowIndex:0;this.parent.changeDate(this.parent.activeView.getNextPreviousDate("next"),e);var f=this.parent.getContentTable(),m=u?f.rows[parseInt(v.toString(),10)].querySelector("."+s.n+":not(."+s.t+")"):f.rows[parseInt(v.toString(),10)].cells[0];this.selectCells(!1,m)}}else if(p.classList.contains(s._4)){var y=p.cellIndex,T=this.parent.getAllDayRow(),D=T.cells.length;if(y>=0&&y<D-1)this.selectCells(t,T.cells[y+1]);else if(y===D-1&&!t){this.parent.changeDate(this.parent.activeView.getNextPreviousDate("next"),e);var w=this.parent.getAllDayRow();this.selectCells(!1,w.cells[0])}}}},e.prototype.processLeft=function(e,t){var r="TimelineYear"===this.parent.currentView;if(!this.isCancelLeftRightAction(e,t,r)){var o,l=e.target,c=this.parent.getSelectedCells();c.length>0&&!l.classList.contains(s.n)&&!l.classList.contains(s._4)&&(l=c[c.length-1]);var p=this.parent.eventBase.getSelectedAppointments();if(!(p.length>0)||(l=this.getWorkCellFromAppointmentElement(p[p.length-1]),this.parent.eventBase.removeSelectedAppointmentClass(),l))if(e.target.classList.contains(s.n)&&l.classList.contains(s.n)){var d=this.processLeftRight(l),h=new Date(+l.getAttribute("data-date")),u="Year"===this.parent.currentView&&h.getTime()===a.n(h).getTime();if(d.columnIndex>0&&d.columnIndex<d.maxIndex&&!u)o=this.calculateNextPrevDate(l,d.element.rows[d.rowIndex].cells[l.cellIndex-1],"left"),r&&t&&o.classList.contains(s.t)&&(o=this.getTimelineYearTargetCell(d,l,!1)),i.i(n.isNullOrUndefined)(o)||this.selectCells(t,o);else if(0===d.columnIndex||u)if(!this.isInverseTableSelect()&&d.rowIndex>0){o=this.calculateNextPrevDate(l,d.element.rows[d.rowIndex-1].cells[d.maxIndex-1],"left");var g=r&&t&&o.classList.contains(s.t);o=g?this.getHorizontalLeftRightCell(d,l,!1):o,i.i(n.isNullOrUndefined)(o)||this.selectCells(t,o)}else if(!t){if(u&&h.getTime()!==this.parent.activeView.getStartDate().getTime())return void this.selectCells(t,this.parent.element.querySelector('[data-date="'+(h.getTime()-a.c)+'"]'));this.parent.changeDate(this.parent.activeView.getNextPreviousDate("previous"),e);var v=this.parent.getContentTable(),f=this.isInverseTableSelect()?d.rowIndex:v.rows.length-1,m=v.rows[parseInt(f.toString(),10)].cells[d.maxIndex-1];if(u){var y=this.parent.element.querySelectorAll("."+s.h+" tbody");m=y.item(y.length-1).querySelector(":not(."+s.t+')[data-date="'+this.parent.activeView.getEndDate().getTime()+'"]')}this.selectCells(!1,m)}}else if(l.classList.contains(s._4)){var T=l.cellIndex,D=this.parent.getAllDayRow(),w=D.cells.length;if(T>0&&T<w)this.selectCells(t,D.cells[T-1]);else if(0===T&&!t){this.parent.changeDate(this.parent.activeView.getNextPreviousDate("previous"),e);var b=this.parent.getAllDayRow();this.selectCells(!1,b.cells[w-1])}}}},e.prototype.getTimelineYearTargetCell=function(e,t,i){return this.isInverseTableSelect()?this.getVerticalLeftRightCell(t,i):this.getHorizontalLeftRightCell(e,t,i)},e.prototype.getHorizontalLeftRightCell=function(e,t,i){var n=e.element.rows[t.parentNode.sectionRowIndex+(i?1:-1)];if(n){var r=i?"."+s.n+":not(."+s.t+")":'[data-date="'+(+t.getAttribute("data-date")-a.c)+'"]';return n.querySelector(r)}return t},e.prototype.getVerticalLeftRightCell=function(e,t){var i=new Date(+e.getAttribute("data-date")),n=new Date(i.getFullYear(),i.getMonth()+(t?1:-1),1),r=this.parent.getContentTable(),a=r.querySelector('[data-date="'+n.getTime()+'"]');return a.parentNode.sectionRowIndex>e.parentNode.sectionRowIndex?a:r.querySelector('[data-date="'+new Date(n.getFullYear(),n.getMonth()+1,0).getTime()+'"]')},e.prototype.calculateNextPrevDate=function(e,t,i){var n=this.initialTarget.getAttribute("data-group-index");if(this.parent.activeViewOptions.group.resources.length>0&&"Month"===this.parent.currentView&&e&&t&&t.getAttribute("data-group-index")!==n){var r=this.parent.getDateFromElement(e),a="right"===i?new Date(r.setDate(r.getDate()+1)):new Date(r.setDate(r.getDate()-1));t=[].slice.call(this.parent.element.querySelectorAll('td[data-date="'+a.getTime().toString()+'"][data-group-index="'+n+'"]'))[0]}return t},e.prototype.getFocusableElements=function(e){return[].slice.call(e.querySelectorAll('a[href]:not([tabindex="-1"]),input:not([disabled]):not([tabindex="-1"]),textarea:not([disabled]):not([tabindex="-1"]),button:not([disabled]):not([tabindex="-1"]),select:not([disabled]):not([tabindex="-1"]),[tabindex]:not([tabindex="-1"]),[contentEditable=true]:not([tabindex="-1"])'))},e.prototype.processTabOnPopup=function(e,t){var r=this,a=this.getFocusableElements(t);a=a.filter(function(e){var t=r.parent.element.querySelector("."+s._137);return t&&t.offsetParent?!(e.classList.contains(s._109)||e.classList.contains(s._110)):!(e.classList.contains(s._116)||e.classList.contains(s._118))});var o=a[0],l=a[a.length-1];i.i(n.isNullOrUndefined)(l)||document.activeElement!==l||e.shiftKey||(e.preventDefault(),o.focus()),!i.i(n.isNullOrUndefined)(o)&&document.activeElement===o&&e.shiftKey&&(e.preventDefault(),l.focus())},e.prototype.processTab=function(e,t){var r=e.target;if(r.classList.contains(s._1)&&this.parent.inlineModule&&(r=r.closest(".e-appointment"),this.parent.inlineModule.inlineCrudActions(e.target)),"TimelineYear"===this.parent.currentView&&r.classList.contains(s.t))return void(r.classList.contains(s._37)&&this.parent.removeSelectedClass());var a=i.i(n.closest)(r,"."+s._84+",."+s._90);if(a&&a.classList.contains(s.T))return a.classList.contains(s._90)&&this.parent.eventBase.removeSelectedAppointmentClass(),void this.processTabOnPopup(e,a);if(r.classList.contains(s._74))return void this.parent.eventBase.removeSelectedAppointmentClass();if(r.classList.contains(s._83)&&this.parent.activeView.isTimelineView()&&this.parent.activeViewOptions.group.resources.length>0){var o=parseInt(r.getAttribute("data-group-index"),10),l="."+s.D+'[data-group-index="'+(t?o-1:o)+'"]',c=[].slice.call(this.parent.element.querySelectorAll(l));if(c.length>0){this.parent.eventBase.removeSelectedAppointmentClass();var p=t?c.slice(-1)[0]:c[0];this.parent.eventBase.addSelectedAppointments([p],!0),p.focus(),e.preventDefault()}else if(o+1===this.parent.resourceBase.lastResourceLevel.length)this.parent.element.focus(),e.preventDefault();else if(this.parent.virtualScrollModule){var d=this.parent.element.querySelector("."+s._170),h=Math.round(d.offsetHeight/this.parent.resourceBase.expandedResources.length);this.parent.element.querySelector(".e-content-wrap").scrollTop=(t?o-1:o+1)*h,this.parent.virtualScrollModule.virtualScrolling()}else this.setScrollPosition(o)}else{if(r.classList.contains(s.D)){var c=[].slice.call(this.parent.element.querySelectorAll("."+s.D)),u="TimelineYear"===this.parent.currentView;if((this.parent.activeView.isTimelineView()&&!u||u&&"Vertical"===this.parent.activeViewOptions.orientation)&&this.parent.activeViewOptions.group.resources.length>0){var o=parseInt(r.getAttribute("data-group-index"),10);c=[].slice.call(this.parent.element.querySelectorAll("."+s.D+'[data-group-index="'+o+'"]'));var g="."+s._83+'[data-group-index="'+(t?o:o+1)+'"]',v=this.parent.element.querySelector(g);if(v&&(t&&r.getAttribute("data-guid")===c[0].getAttribute("data-guid")||!t&&r.getAttribute("data-guid")===c.slice(-1)[0].getAttribute("data-guid")))return this.parent.eventBase.removeSelectedAppointmentClass(),this.parent.virtualScrollModule?v.focus({preventScroll:!0}):v.focus(),this.parent.activeView.isTimelineView()&&this.parent.activeViewOptions.group.resources.length>0&&i.i(n.isNullOrUndefined)(this.parent.virtualScrollModule)&&this.setScrollPosition(o),void e.preventDefault()}var f=this.parent.eventBase.getSelectedAppointments();if(f.length>0&&(r=f[f.length-1]),this.parent.eventBase.removeSelectedAppointmentClass(),!t&&r.getAttribute("data-guid")===c[c.length-1].getAttribute("data-guid")||t&&r.getAttribute("data-guid")===c[0].getAttribute("data-guid"))return;return void("Agenda"!==this.parent.currentView&&"MonthAgenda"!==this.parent.currentView||(this.selectAppointment(t,r),e.preventDefault()))}var m=this.parent.getSelectedCells();if(m.length>0&&!r.classList.contains(s.D))return r=m[m.length-1],this.selectAppointmentElementFromWorkCell(t,r),void e.preventDefault();r&&!r.classList.contains(s._83)&&this.parent.activeView.isTimelineView()&&this.parent.activeViewOptions.group.resources.length>0&&this.processTabOnResourceCells(r,t)}},e.prototype.processDelete=function(e){var t=document.activeElement;if("MonthAgenda"===this.parent.currentView){var r=this.parent.eventBase.getSelectedEvents().element;t=r&&i.i(n.isNullOrUndefined)(r.length)?r:r[0]}if(t&&t.classList.contains(s.D)){if(i.i(n.addClass)([t],s.R),this.parent.activeEventData=this.parent.eventBase.getSelectedEvents(),this.parent.activeViewOptions.readonly||t.classList.contains(s._55)||!this.parent.eventSettings.allowDeleting)return;this.parent.quickPopup.deleteClick(e)}},e.prototype.processCtrlShiftNavigationArrows=function(e){if(this.parent.activeViewOptions.group.resources.length>0&&document.activeElement.classList.contains(s.D)){var t=parseInt(document.activeElement.getAttribute("data-group-index"),10),i="ctrlShiftLeftArrow"===e.action||"ctrlShiftUpArrow"===e.action?t-1:t+1;i=i<0?0:i>this.parent.resourceBase.lastResourceLevel.length?this.parent.resourceBase.lastResourceLevel.length:i;for(var n=[];0===n.length&&i>=0&&i<=this.parent.resourceBase.lastResourceLevel.length;)n=[].slice.call(this.parent.element.querySelectorAll("."+s.D+'[data-group-index="'+i+'"]')),i="ctrlShiftLeftArrow"===e.action||"ctrlShiftUpArrow"===e.action?i-1:i+1;var r=n[0];r&&(this.parent.eventBase.removeSelectedAppointmentClass(),this.parent.eventBase.addSelectedAppointments([r],!0),r.focus())}else if(this.parent.activeViewOptions.group.resources.length>0&&!document.activeElement.classList.contains(s.D)){var i=this.parent.resourceBase.renderedResources[0].groupIndex,a="."+s.D+'[data-group-index="'+i+'"]',o=[].slice.call(this.parent.element.querySelectorAll(a));if(o.length>0){this.parent.eventBase.removeSelectedAppointmentClass();var l=o[0];this.parent.eventBase.addSelectedAppointments([l],!0),l.focus(),e.preventDefault()}}},e.prototype.processEscape=function(e){this.parent.quickPopup.onClosePopup(e),this.parent.quickPopup.morePopup.hide(),this.parent.headerModule&&this.parent.headerModule.hideHeaderPopup(),this.parent.inlineModule&&this.parent.inlineModule.removeInlineAppointmentElement()},e.prototype.isPreventAction=function(e){var t=i.i(n.closest)(e.target,"."+s.v);return!(!this.parent.activeView.isTimelineView()||i.i(n.isNullOrUndefined)(t))},e.prototype.processTabOnResourceCells=function(e,t){var i=[].slice.call(this.parent.element.querySelectorAll('[tabIndex="0"]')),n=i.indexOf(e),r=t?i[n-1]:i[n+1];if(r&&r.classList.contains(s._83)){var a=parseInt(r.getAttribute("data-group-index"),10);if(this.parent.virtualScrollModule){var o=this.parent.element.querySelector("."+s.x);[].slice.call(this.parent.element.querySelectorAll("."+s._83)).forEach(function(e){e.getBoundingClientRect().top<o.getBoundingClientRect().top&&e.setAttribute("tabindex","-1")})}else this.setScrollPosition(a)}},e.prototype.setScrollPosition=function(e){var t=this.parent.element.querySelector("."+s.n+'[data-group-index="'+e+'"]');t&&(this.parent.element.querySelector("."+s.g).scrollTop=t.offsetTop)},e.prototype.getModuleName=function(){return"keyboard"},e.prototype.destroy=function(){this.removeEventListener(),this.selectedCells=[],this.keyboardModule.destroy()},e}()},function(e,t,i){"use strict";i.d(t,"a",function(){return p});var n=i(0),r=(i.n(n),i(21)),a=i(5),s=i(1),o=i(2),l=i(3),c=this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.wireResizeEvent=function(e){for(var t=[].slice.call(e.querySelectorAll("."+l.U)),i=0,r=t;i<r.length;i++){var a=r[i];n.EventHandler.add(a,n.Browser.touchStartEvent,this.resizeStart,this)}},t.prototype.resizeHelper=function(){if(this.parent.activeViewOptions.group.resources.length>0&&this.parent.activeViewOptions.group.allowGroupEdit)for(var e=0,t=this.actionObj.originalElement.length;e<t;e++){var i=this.createCloneElement(this.actionObj.originalElement[parseInt(e.toString(),10)]);this.actionObj.cloneElement[parseInt(e.toString(),10)]=i,this.actionObj.element===this.actionObj.originalElement[parseInt(e.toString(),10)]&&(this.actionObj.clone=i)}else this.actionObj.element&&(this.actionObj.clone=this.createCloneElement(this.actionObj.element)),this.actionObj.cloneElement=[this.actionObj.clone],this.actionObj.originalElement=[this.actionObj.element]},t.prototype.resizeStart=function(e){var t=this;this.actionObj.action="resize",this.actionObj.slotInterval=this.parent.activeViewOptions.timeScale.interval/this.parent.activeViewOptions.timeScale.slotCount,this.actionObj.interval=this.actionObj.slotInterval;var r=i.i(n.closest)(e.target,"."+l.U);this.actionObj.element=i.i(n.closest)(r,"."+l.D),this.actionObj.event=this.parent.eventBase.getEventByGuid(this.actionObj.element.getAttribute("data-guid"));var s=i.i(n.extend)({},this.actionObj.event,null,!0),c={cancel:!1,data:s,element:this.actionObj.element,event:e,interval:this.actionObj.interval,scroll:{enable:!0,scrollBy:30,timeDelay:100}};this.parent.trigger(o.t,c,function(i){if(!i.cancel){t.actionClass("addClass"),t.parent.uiStateValues.action=!0,t.resizeEdges={left:r.classList.contains(l.W),right:r.classList.contains(l.V),top:r.classList.contains(l.X),bottom:r.classList.contains(l.Y)},t.actionObj.groupIndex=t.parent.uiStateValues.isGroupAdaptive?t.parent.uiStateValues.groupIndex:0;var o=t.parent.element.querySelector("."+l.n).getBoundingClientRect();t.actionObj.cellWidth=o.width,t.actionObj.cellHeight=o.height;var c=t.parent.activeViewOptions.headerRows.map(function(e){return e.option});if(t.parent.activeView.isTimelineView()&&c.length>0&&["Date","Hour"].indexOf(c.slice(-1)[0])<0){for(var p=t.parent.getContentTable().querySelector("tr"),d=0,h=[].slice.call(p.children),u=0,g=h;u<g.length;u++){var v=g[u];d+=parseInt(v.getAttribute("colspan"),10)}var f=p.getBoundingClientRect();t.actionObj.cellWidth=f.width/d,t.actionObj.cellHeight=f.height}var m=t.parent.eventBase.getPageCoordinates(e);t.actionObj.X=m.pageX,t.actionObj.Y=m.pageY,t.actionObj.groupIndex=parseInt(t.actionObj.element.getAttribute("data-group-index")||"0",10),t.actionObj.interval=i.interval,t.actionObj.scroll=i.scroll,t.actionObj.start=new Date(s[t.parent.eventFields.startTime].getTime()),t.actionObj.end=new Date(s[t.parent.eventFields.endTime].getTime()),t.actionObj.originalElement=t.getOriginalElement(t.actionObj.element),"Month"===t.parent.currentView&&(t.daysVariation=-1,t.monthEvent=new a.a(t.parent));var y=t.parent.element.querySelector("."+l.g);t.scrollArgs={element:y,width:y.scrollWidth,height:y.scrollHeight},n.EventHandler.add(document,n.Browser.touchMoveEvent,t.resizing,t),n.EventHandler.add(document,n.Browser.touchEndEvent,t.resizeStop,t)}})},t.prototype.resizing=function(e){if(this.parent.quickPopup&&this.parent.quickPopup.quickPopupHide(),0===this.parent.element.querySelectorAll("."+l._0).length&&this.resizeHelper(),i.i(n.isNullOrUndefined)(e.target)||!e.target.classList.contains(l.r)){var t=this.parent.eventBase.getPageCoordinates(e);if("Month"===this.parent.currentView||"TimelineYear"===this.parent.currentView){var r=document.documentElement,a=(window.pageXOffset||r.scrollLeft)-(r.clientLeft||0),s=(window.pageYOffset||r.scrollTop)-(r.clientTop||0);this.actionObj.pageX=t.pageX-a,this.actionObj.pageY=t.pageY-s}else this.actionObj.pageX=t.pageX,this.actionObj.pageY=t.pageY;this.updateScrollPosition(e),this.updateResizingDirection(e);var c=i.i(n.extend)({},this.actionObj.event,null,!0),p={cancel:!1,data:c,element:this.actionObj.element,event:e,startTime:this.actionObj.start,endTime:this.actionObj.end};this.parent.group.resources.length>0&&(p.groupIndex=this.actionObj.groupIndex),this.parent.trigger(o.u,p)}},t.prototype.updateResizingDirection=function(e){if("Month"===this.parent.currentView||"TimelineYear"===this.parent.currentView)return void this.monthResizing();var t=this.resizeValidation(e);if(this.resizeEdges.left){if(t){var r=this.getLeftRightStyles(e,!0);if(parseInt(r.width,10)<1)return;for(var a=0,s=this.actionObj.cloneElement;a<s.length;a++){var o=s[a];i.i(n.setStyleAttribute)(o,r),i.i(n.addClass)([o],l.W)}}this.horizontalResizing(!this.parent.enableRtl)}if(this.resizeEdges.right){if(t){var c=this.getLeftRightStyles(e,!1);if(parseInt(c.width,10)<1)return;for(var p=0,d=this.actionObj.cloneElement;p<d.length;p++){var o=d[p];i.i(n.setStyleAttribute)(o,c),i.i(n.addClass)([o],l.V)}}this.horizontalResizing(this.parent.enableRtl)}if(this.resizeEdges.top){if(t){var h=this.getTopBottomStyles(e,!0);if(parseInt(h.height,10)<1)return;for(var u=0,g=this.actionObj.cloneElement;u<g.length;u++){var o=g[u];i.i(n.setStyleAttribute)(o,h),i.i(n.addClass)([o],l.X)}}this.verticalResizing(!0)}if(this.resizeEdges.bottom){if(t){var v=this.getTopBottomStyles(e,!1);if(parseInt(v.height,10)<1)return;for(var f=0,m=this.actionObj.cloneElement;f<m.length;f++){var o=m[f];i.i(n.setStyleAttribute)(o,v),i.i(n.addClass)([o],l.Y)}}this.verticalResizing(!1)}},t.prototype.monthResizing=function(){if(this.removeCloneElement(),!i.i(n.isNullOrUndefined)(this.actionObj.pageX)&&!i.i(n.isNullOrUndefined)(this.actionObj.pageY)){var e=document.elementFromPoint(this.actionObj.pageX,this.actionObj.pageY);if(!i.i(n.isNullOrUndefined)(e)){var t=this.parent.getDateFromElement(e),r=!(this.parent.activeViewOptions.group.resources.length>0)||parseInt(e.getAttribute("data-group-index"),10)===this.actionObj.groupIndex,a=new Date(this.actionObj.event[this.parent.eventFields.startTime].getTime()),o=new Date(this.actionObj.event[this.parent.eventFields.endTime].getTime());if(!this.parent.enableRtl&&this.resizeEdges.left||this.parent.enableRtl&&this.resizeEdges.right||this.resizeEdges.top?a=t:(!this.parent.enableRtl&&this.resizeEdges.right||this.parent.enableRtl&&this.resizeEdges.left||this.resizeEdges.bottom)&&(o=s.d(t,1)),r&&a<o){this.actionObj.start=a,this.actionObj.end=o;var l=this.getUpdatedEvent(this.actionObj.start,this.actionObj.end,this.actionObj.event);"TimelineYear"===this.parent.currentView?this.yearEventsRendering(l):this.dynamicEventsRendering(l),this.updateOriginalElement(this.actionObj.clone)}}}},t.prototype.yearEventsRendering=function(e){for(var t=[].slice.call(this.parent.element.querySelectorAll("."+l._75)),r=0,a=t;r<a.length;r++){var o=a[r];i.i(n.remove)(o)}var c=new Date(e[this.parent.eventFields.endTime]),p=0;0===this.parent.activeViewOptions.group.resources.length&&(p=this.getMonthDiff(e[this.parent.eventFields.startTime],s.d(c,-1)));for(var d=0;d<=p;d++){var h=void 0;0===this.parent.activeViewOptions.group.resources.length?h=this.getEventCount(e,this.actionObj.start.getMonth()+d):(h=i.i(n.extend)({},e,null,!0),c=this.resizeEdges.left||this.resizeEdges.right?s.d(c,-1):c,h.count=this.getMonthDiff(e[this.parent.eventFields.startTime],c)+1),this.dynamicYearlyEventsRendering(h,!0)}},t.prototype.getMonthDiff=function(e,t){var i;return i=12*(t.getFullYear()-e.getFullYear()),i-=e.getMonth(),i+=t.getMonth(),i<=0?0:i},t.prototype.getEventCount=function(e,t){var r=i.i(n.extend)({},e,null,!0),a=r[this.parent.eventFields.startTime],o=r[this.parent.eventFields.endTime],l=new Date(this.parent.selectedDate.getFullYear(),t,1),c=s.d(new Date(this.parent.selectedDate.getFullYear(),t+1,0),1),p=1;return a.getTime()<l.getTime()&&(r[this.parent.eventFields.startTime]=l),o.getTime()>c.getTime()&&(r[this.parent.eventFields.endTime]=c),0===this.parent.activeViewOptions.group.resources.length&&(p=Math.ceil((r[this.parent.eventFields.endTime].getTime()-r[this.parent.eventFields.startTime].getTime())/s.c)),r.count=p,r},t.prototype.resizeStop=function(e){var t=this;n.EventHandler.remove(document,n.Browser.touchMoveEvent,this.resizing),n.EventHandler.remove(document,n.Browser.touchEndEvent,this.resizeStop),clearInterval(this.actionObj.scrollInterval),this.actionObj.scrollInterval=null,this.removeCloneElementClasses(),this.removeCloneElement(),this.actionClass("removeClass"),this.parent.uiStateValues.action=!1;var i={cancel:!1,data:this.getChangedData(),element:this.actionObj.element,event:e};this.parent.trigger(o.v,i,function(e){e.cancel||(t.parent.isSpecificResourceEvents()&&(t.parent.crudModule.crudObj.sourceEvent=[t.parent.resourceBase.lastResourceLevel[parseInt(e.element.getAttribute("data-group-index"),10)]],t.parent.crudModule.crudObj.targetEvent=t.parent.crudModule.crudObj.sourceEvent,t.parent.crudModule.crudObj.isCrudAction=!0),t.saveChangedData(e))})},t.prototype.verticalResizing=function(e){var t=this.actionObj.clone.offsetTop;e||(t+=this.actionObj.clone.offsetHeight);var r=t/this.actionObj.cellHeight*this.actionObj.slotInterval,a=this.actionObj.clone.offsetParent;if(!i.i(n.isNullOrUndefined)(a)){var o=s.b(this.parent.getDateFromElement(a));o.setHours(this.parent.activeView.getStartHour().getHours()),o.setMinutes(r+this.parent.activeView.getStartHour().getMinutes()),e?this.actionObj.start=this.calculateIntervalTime(o):this.actionObj.end=this.calculateIntervalTime(o),this.updateTimePosition(o)}},t.prototype.horizontalResizing=function(e){var t,r=new Date(this.actionObj.event[this.parent.eventFields.startTime].getTime()),a=new Date(this.actionObj.event[this.parent.eventFields.endTime].getTime()),o=!1,l=this.parent.currentView,c=["TimelineDay","TimelineWeek","TimelineWorkWeek"].indexOf(this.parent.currentView)>-1,p="TimelineMonth"===this.parent.currentView,d=p||c&&!this.parent.activeViewOptions.timeScale.enable;if(this.parent.activeView.isTimelineView()){var h=this.parent.getContentTable().querySelector("tr");if(this.parent.activeViewOptions.headerRows.length>0){var u=this.parent.activeViewOptions.headerRows.map(function(e){return e.option});l=u.slice(-1)[0],p&&"Hour"===l&&(l=u.slice(-2)[0]||"Month")}t=e?r:a;var g=0,v=[].slice.call(h.children),f=!1,m=this.actionObj.cellWidth/(this.parent.activeViewOptions.timeScale.interval/this.parent.activeViewOptions.timeScale.slotCount),y=parseFloat(this.parent.enableRtl?this.actionObj.clone.style.right:this.actionObj.clone.style.left);if(y=Math.round(y/m)*m,-1!==["Year","Month","Week","Date"].indexOf(l)){for(var T=0,D=0,w=v;D<w.length;D++){var b=w[D];T+=parseInt(b.getAttribute("colspan"),10)}var C=this.parent.enableRtl?parseInt(this.actionObj.clone.style.right,10):parseInt(this.actionObj.clone.style.left,10);C=Math.round(C/this.actionObj.cellWidth)*this.actionObj.cellWidth,e||(C+=this.actionObj.clone.getBoundingClientRect().width-this.actionObj.cellWidth),g=Math.floor(C/Math.floor(h.getBoundingClientRect().width/T)),o=c&&"Date"===l,g=e?g:p?g+1:g,f=g===v.length,g=g<0?0:g>=T?T-1:g}else{var S=this.actionObj.cellWidth;if(g=e?Math.floor(y/this.actionObj.cellWidth):Math.ceil((y+(this.actionObj.clone.getBoundingClientRect().width-S))/this.actionObj.cellWidth),this.parent.enableRtl){var O=0;"TimelineMonth"!==l&&(this.parent.activeViewOptions.timeScale.enable||p)||(O=this.actionObj.cellWidth);var E=Math.floor(y/this.actionObj.cellWidth)*this.actionObj.cellWidth+(e?0:this.actionObj.clone.getBoundingClientRect().width-O);g=Math.floor(E/this.actionObj.cellWidth)}f=g===v.length,g=this.getIndex(g)}var x=void 0;if(x=-1!==["Year","Month","Week","Date"].indexOf(l)?new Date(this.parent.activeView.renderDates[parseInt(g.toString(),10)].getTime()):this.parent.getDateFromElement(h.children[parseInt(g.toString(),10)]),-1===["TimelineMonth","Year","Month","Week","Date"].indexOf(l)&&this.parent.activeViewOptions.timeScale.enable){e||(y+=this.actionObj.clone.getBoundingClientRect().width);var V=Math.ceil(this.actionObj.slotInterval/this.actionObj.cellWidth*(y-Math.floor(y/this.actionObj.cellWidth)*this.actionObj.cellWidth));V=f||!e&&0===V?this.actionObj.slotInterval:V,t=new Date(x.getTime()),t.setMinutes(t.getMinutes()+V),this.updateTimePosition(t)}else t=new Date(x.setHours(t.getHours(),t.getMinutes(),t.getSeconds()))}else{var A=i.i(n.closest)(this.actionObj.clone,"td").cellIndex,I=Math.ceil((e?this.actionObj.element.getBoundingClientRect().width:0)/this.actionObj.cellWidth)*this.actionObj.cellWidth,T=Math.ceil((this.actionObj.clone.getBoundingClientRect().width-I)/this.actionObj.cellWidth),h=i.i(n.closest)(this.actionObj.clone,"tr"),M=e?A-T:A+T-1;M=this.getIndex(M),t=this.parent.getDateFromElement(h.children[parseInt(M.toString(),10)]),e?t.setHours(r.getHours(),r.getMinutes(),r.getSeconds()):t.setHours(a.getHours(),a.getMinutes(),a.getSeconds())}var k=-1!==["TimelineMonth","Year","Month","Week","Date"].indexOf(l)||!this.parent.activeViewOptions.timeScale.enable;if(e)a.getTime()-t.getTime()<=0&&(t=d?s.b(a):r),this.actionObj.start=k?t:this.calculateIntervalTime(t);else{var R=c&&this.parent.activeViewOptions.timeScale.enable,_=(!R||o||c&&["Week","Month","Year"].indexOf(l)>-1)&&0===t.getHours()&&0===t.getMinutes()?s.d(t,1):t;d&&_.getTime()-r.getTime()<=0&&(_=s.d(s.b(r),1)),this.actionObj.end=k?_:this.calculateIntervalTime(_)}},t.prototype.getTopBottomStyles=function(e,t){var r=this.parent.element.querySelector("."+l.g),a=this.actionObj.cellHeight/this.actionObj.slotInterval*this.actionObj.interval,s=t?this.actionObj.element.offsetHeight+(this.actionObj.Y-this.actionObj.pageY):this.actionObj.element.offsetHeight+(this.actionObj.pageY-this.actionObj.Y),o=t?this.actionObj.element.offsetTop-(this.actionObj.Y-this.actionObj.pageY):this.actionObj.clone.offsetTop;return s=o<0?this.actionObj.clone.offsetHeight:this.actionObj.clone.offsetTop+this.actionObj.clone.offsetHeight>this.scrollArgs.height?this.actionObj.clone.offsetHeight:s,o=o<0?0:o,o=t?Math.floor(o/a)*a:o,s=o+s>=r.scrollHeight?r.scrollHeight-o:Math.ceil(s/a)*a,!t&&this.actionObj.clone.offsetTop+s>=this.parent.getContentTable().offsetHeight&&(s=this.parent.getContentTable().offsetHeight-this.actionObj.clone.offsetTop),{height:i.i(n.formatUnit)(s<this.actionObj.cellHeight?Math.floor(s/a)*a:s),top:i.i(n.formatUnit)(s<this.actionObj.cellHeight&&t?Math.ceil(o/a)*a:o),left:"0px",right:"0px",width:"100%"}},t.prototype.getLeftRightStyles=function(e,t){var r={},a=this.parent.activeView.isTimelineView(),s=["TimelineDay","TimelineWeek","TimelineWorkWeek"].indexOf(this.parent.currentView)>-1&&this.parent.activeViewOptions.timeScale.enable,o=this.actionObj.cellWidth/this.actionObj.slotInterval*this.actionObj.interval,l=t?this.actionObj.X-this.actionObj.pageX:this.actionObj.pageX-this.actionObj.X,c=a?this.actionObj.element.getBoundingClientRect().width/this.actionObj.cellWidth*this.actionObj.cellWidth:"Month"===this.parent.currentView?this.actionObj.element.getBoundingClientRect().width:Math.ceil(this.actionObj.element.getBoundingClientRect().width/this.actionObj.cellWidth)*this.actionObj.cellWidth,p=c+Math.ceil(l/this.actionObj.cellWidth)*this.actionObj.cellWidth,d=this.parent.enableRtl?parseInt(this.actionObj.element.style.right,10):this.actionObj.clone.offsetLeft;s&&(p=c+Math.ceil(l/o)*o,p=Math.round((d+p)/o)*o-d,this.actionObj.event[this.parent.eventFields.isAllDay]=!1);var h=!t&&p+this.actionObj.clone.offsetLeft>this.scrollArgs.width?this.actionObj.clone.getBoundingClientRect().width:(this.actionObj.cellWidth,p);if(this.parent.enableRtl){var u=a?parseInt(this.actionObj.element.style.right,10):-(p-this.actionObj.cellWidth);u=a?u:t?0:u>0?0:u,a&&!t&&(u=Math.ceil((this.actionObj.element.offsetLeft+(this.actionObj.element.getBoundingClientRect().width+(this.actionObj.pageX-this.actionObj.X)))/o)*o,u=u<0?Math.abs(u):-u),u=u>=this.scrollArgs.width?this.scrollArgs.width-this.actionObj.cellWidth:u,r.right=i.i(n.formatUnit)(u),h=h+u>this.scrollArgs.width?this.actionObj.clone.getBoundingClientRect().width:h}else{var g=t?this.actionObj.element.offsetLeft-(this.actionObj.X-this.actionObj.pageX):this.parent.enableRtl?this.actionObj.element.offsetLeft:0;a&&(g=t?g:parseInt(this.actionObj.clone.style.left,10),g=this.parent.enableRtl?t?g:this.actionObj.pageX<this.actionObj.X-this.actionObj.clone.getBoundingClientRect().width?parseInt(this.actionObj.clone.style.right,10):g:t&&this.actionObj.pageX>this.actionObj.X+this.actionObj.clone.getBoundingClientRect().width&&this.actionObj.clone.getBoundingClientRect().width===this.actionObj.cellWidth?parseInt(this.actionObj.clone.style.left,10):g);var v=g;g=a?s?t?Math.floor(g/o)*o:g:Math.floor(g/this.actionObj.cellWidth)*this.actionObj.cellWidth:Math.ceil(Math.abs(g)/this.actionObj.cellWidth)*this.actionObj.cellWidth,g<0&&(g=0,h=this.actionObj.clone.getBoundingClientRect().width);var f=Math.ceil(this.actionObj.clone.getBoundingClientRect().width/this.actionObj.cellWidth)*this.actionObj.cellWidth;t&&(r.left=i.i(n.formatUnit)(a?g:t?v<0?-g:Math.ceil((c-f)/this.actionObj.cellWidth)*this.actionObj.cellWidth:g))}return r.width=i.i(n.formatUnit)(h),r},t.prototype.resizeValidation=function(e){var t=this.parent.eventBase.getPageCoordinates(e),i=this.getContentAreaDimension(),n=this.parent.activeView.isTimelineView()&&this.parent.activeViewOptions.timeScale.enable,r=this.actionObj.cellWidth,a=!1;return this.resizeEdges.left&&(t.pageX<i.leftOffset&&t.pageX>=i.left&&n&&(r=0),a=t.pageX-r>=i.left),this.resizeEdges.right&&(t.pageX>i.rightOffset&&t.pageX<=i.right&&n&&(r=0),a=t.pageX+r<=i.right),this.resizeEdges.top&&(a=this.actionObj.clone.offsetTop>=i.top),this.resizeEdges.bottom&&(a=this.actionObj.clone.offsetTop+this.actionObj.clone.offsetHeight<=this.scrollArgs.height),a},t.prototype.getModuleName=function(){return"resize"},t}(r.a)},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(0),r=(i.n(n),i(2)),a=function(){function e(e){this.parent=e,this.addEventListener()}return e.prototype.getModuleName=function(){return"scroll"},e.prototype.setWidth=function(){this.parent.element.style.width=i.i(n.formatUnit)(this.parent.width)},e.prototype.setHeight=function(){this.parent.element.style.height=i.i(n.formatUnit)(this.parent.height)},e.prototype.addEventListener=function(){this.parent.on(r.D,this.setDimensions,this),this.parent.on(r.H,this.onPropertyChanged,this)},e.prototype.removeEventListener=function(){this.parent.off(r.D,this.setDimensions),this.parent.off(r.H,this.onPropertyChanged)},e.prototype.setDimensions=function(){this.setWidth(),this.setHeight();var e={cssProperties:this.parent.getCssProperties(),module:this.getModuleName()};this.parent.notify(r.G,e)},e.prototype.onPropertyChanged=function(){this.setDimensions()},e.prototype.destroy=function(){this.removeEventListener()},e}()},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(0),r=(i.n(n),i(2)),a=i(3),s=i(1),o=function(){function e(e){this.parent=e,this.element=this.parent.element.querySelector("."+a._53),this.touchObj=new n.Touch(this.element,{scroll:this.scrollHandler.bind(this),swipe:this.swipeHandler.bind(this),tapHold:this.tapHoldHandler.bind(this),swipeSettings:{swipeThresholdDistance:1}}),n.EventHandler.add(this.element,"transitionend",this.onTransitionEnd,this),this.touchLeftDirection=this.parent.enableRtl?"Right":"Left",this.touchRightDirection=this.parent.enableRtl?"Left":"Right"}return e.prototype.scrollHandler=function(e){if(!("Agenda"===this.parent.currentView||this.parent.uiStateValues.action||!this.parent.allowSwiping||e.originalEvent&&e.originalEvent.target&&(e.originalEvent.target.classList.contains(a.D)||i.i(n.closest)(e.originalEvent.target,"."+a.D))&&!this.parent.isAdaptive)){if(this.timeStampStart||(this.timeStampStart=Date.now()),this.element.classList.contains(a._162)&&this.onTransitionEnd(),"Left"===e.scrollDirection||"Right"===e.scrollDirection){var t={requestType:"dateNavigate",cancel:!1,event:e.originalEvent};if(this.parent.trigger(r.f,t),t.cancel)return;var s=this.element.querySelector("."+a.g);if(s&&s.scrollWidth>s.clientWidth)return;this.isScrollTriggered=!0,e.originalEvent.preventDefault(),e.originalEvent.stopPropagation()}if(e.scrollDirection===this.touchLeftDirection){this.nextPanel||(this.renderPanel(a._163,"next"),this.nextPanel={element:this.parent.activeView.getPanel(),selectedDate:new Date(this.parent.selectedDate.getTime()),renderDates:this.parent.activeView.renderDates,colLevels:this.parent.activeView.colLevels},this.setDimensions(this.nextPanel.element));var o=this.parent.enableRtl?e.distanceX:-e.distanceX;this.element.style.transform="translatex("+(this.getTranslateX(this.element)+o)+"px)"}else if(e.scrollDirection===this.touchRightDirection){var l=0;this.previousPanel||(this.renderPanel(a._58,"previous"),this.previousPanel={element:this.parent.activeView.getPanel(),selectedDate:new Date(this.parent.selectedDate.getTime()),renderDates:this.parent.activeView.renderDates,colLevels:this.parent.activeView.colLevels},this.setDimensions(this.previousPanel.element),l=this.previousPanel.element.offsetWidth);var o=this.parent.enableRtl?l-e.distanceX:-l+e.distanceX;this.element.style.transform="translatex("+(this.getTranslateX(this.element)+o)+"px)"}}},e.prototype.swipeHandler=function(e){if(this.isScrollTriggered&&!this.parent.uiStateValues.action&&this.parent.allowSwiping){this.isScrollTriggered=!1;var t="Left"===e.swipeDirection?this.parent.activeView.renderDates[0]:this.parent.activeView.renderDates.slice(-1)[0];if("Left"===e.swipeDirection&&t<this.parent.maxDate||"Right"===e.swipeDirection&&t>=this.parent.minDate){var i=Date.now()-this.timeStampStart,a=e.distanceX*(n.Browser.isDevice?6:1.66);a>i||e.distanceX>this.parent.element.offsetWidth/2?(this.swapPanels(e.swipeDirection),a>i&&e.distanceX>this.parent.element.offsetWidth/2&&(this.element.style.transitionDuration=(n.Browser.isDevice?e.distanceX:a)/i/10+"s"),this.confirmSwipe(e.swipeDirection)):this.cancelSwipe();var s={requestType:"dateNavigate",cancel:!1,event:e.originalEvent};this.parent.trigger(r.g,s)}else this.cancelSwipe();this.timeStampStart=null}},e.prototype.tapHoldHandler=function(e){var t=i.i(n.closest)(e.originalEvent.target,"."+a.D);if(!i.i(n.isNullOrUndefined)(t)&&this.parent.isAdaptive)return void this.parent.quickPopup.tapHoldEventPopup(e.originalEvent)},e.prototype.renderPanel=function(e,t){this.currentPanel?this.parent.setProperties({selectedDate:this.currentPanel.selectedDate},!0):(this.currentPanel={element:this.parent.activeView.getPanel(),selectedDate:new Date(this.parent.selectedDate.getTime()),renderDates:this.parent.activeView.renderDates,colLevels:this.parent.activeView.colLevels},this.setDimensions(this.currentPanel.element)),this.parent.setProperties({selectedDate:this.parent.activeView.getNextPreviousDate(t)},!0),this.parent.headerModule&&this.parent.headerModule.setCalendarDate(this.parent.selectedDate),this.parent.activeView.getRenderDates(),this.parent.activeView.renderLayout(e)},e.prototype.swapPanels=function(e){if(e===this.touchLeftDirection){var t=this.nextPanel;this.nextPanel=this.currentPanel,this.currentPanel=t}else{var t=this.previousPanel;this.previousPanel=this.currentPanel,this.currentPanel=t}},e.prototype.confirmSwipe=function(e){var t=this,s=e===this.touchLeftDirection?this.nextPanel.selectedDate:this.previousPanel.selectedDate,o={action:"date",cancel:!1,previousDate:s,currentDate:this.currentPanel.selectedDate};this.parent.trigger(r.i,o,function(r){if(r.cancel)t.swapPanels(e),t.cancelSwipe();else{t.parent.activeView.setPanel(t.currentPanel.element),t.parent.setProperties({selectedDate:t.currentPanel.selectedDate},!0);var s=void 0;s=t.parent.enableRtl?e===t.touchLeftDirection?t.previousPanel?t.previousPanel.element.offsetLeft:t.currentPanel.element.offsetWidth:0:e===t.touchLeftDirection?-t.currentPanel.element.offsetLeft:0,t.parent.activeView.renderDates=t.currentPanel.renderDates,t.parent.activeView.colLevels=t.currentPanel.colLevels,i.i(n.addClass)([t.element],a._162),t.element.style.transform="translatex("+s+"px)",t.parent.headerModule&&t.parent.headerModule.updateDateRange(),t.parent.renderTemplates(),t.parent.crudModule.refreshDataManager()}})},e.prototype.cancelSwipe=function(){this.parent.activeView.setPanel(this.currentPanel.element),this.parent.setProperties({selectedDate:this.currentPanel.selectedDate},!0),this.parent.activeView.renderDates=this.currentPanel.renderDates,this.parent.activeView.colLevels=this.currentPanel.colLevels,i.i(n.addClass)([this.element],a._162);var e=this.previousPanel?this.previousPanel.element.offsetWidth:0;this.element.style.transform="translatex("+(this.parent.enableRtl?e:-this.currentPanel.element.offsetLeft)+"px)"},e.prototype.onTransitionEnd=function(){i.i(n.removeClass)([this.element],a._162),this.element.style.transitionDuration="",this.element.style.transform="",this.previousPanel&&(i.i(n.remove)(this.previousPanel.element),this.previousPanel=null,i.i(n.removeClass)([this.currentPanel.element],a._58),i.i(n.addClass)([this.currentPanel.element],a._164)),this.nextPanel&&(i.i(n.remove)(this.nextPanel.element),this.nextPanel=null,i.i(n.removeClass)([this.currentPanel.element],a._163),i.i(n.addClass)([this.currentPanel.element],a._164)),this.currentPanel=null,this.parent.activeView.getPanel().style.width=""},e.prototype.getTranslateX=function(e){var t=window.getComputedStyle(e);return new WebKitCSSMatrix(t.webkitTransform).m41},e.prototype.setDimensions=function(e){e.style.width=this.parent.element.clientWidth+"px"},e.prototype.resetValues=function(){this.currentPanel=null,this.previousPanel=null,this.nextPanel=null,this.timeStampStart=null,this.element.style.transform="",this.element.style.transitionDuration="",s.D(this.element),i.i(n.removeClass)([this.element],a._162)},e.prototype.destroy=function(){this.touchObj&&(this.touchObj.destroy(),this.touchObj=null),n.EventHandler.remove(this.element,"transitionend",this.onTransitionEnd),this.resetValues()},e}()},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(0),r=(i.n(n),i(2)),a=i(3),s=i(1),o=function(){function e(e){this.translateY=0,this.itemSize=60,this.bufferCount=3,this.renderedLength=0,this.averageRowHeight=0,this.startIndex=0,this.parent=e,this.addEventListener()}return e.prototype.addEventListener=function(){!this.parent||this.parent&&this.parent.isDestroyed||this.parent.on(r.F,this.virtualScrolling,this)},e.prototype.removeEventListener=function(){!this.parent||this.parent&&this.parent.isDestroyed||this.parent.off(r.F,this.virtualScrolling)},e.prototype.getRenderedCount=function(){this.setItemSize();var e=this.isHorizontalScroll?this.parent.element.clientWidth:this.parent.element.clientHeight;return this.renderedLength=Math.ceil(e/this.itemSize)+this.bufferCount,this.renderedLength},e.prototype.renderVirtualTrack=function(e){var t=i.i(n.createElement)("div",{className:a._170});if(this.isHorizontalScroll){var r=this.parent.activeView.colLevels[this.parent.activeView.colLevels.length-1].length;t.style.width=r*this.itemSize+"px"}else t.style.height=this.parent.resourceBase.expandedResources.length*this.itemSize+"px";e.appendChild(t)},e.prototype.updateVirtualScrollHeight=function(){var e=this.parent.element.querySelector("."+a._170),t=this.parent.resourceBase.expandedResources[this.parent.resourceBase.expandedResources.length-1].groupIndex;if(this.parent.resourceBase.renderedResources[this.parent.resourceBase.renderedResources.length-1].groupIndex!==t){var i=this.parent.element.querySelector("."+a.h);this.renderedLength=i.querySelector("tbody").children.length,e.style.height=i.offsetHeight+(this.parent.resourceBase.expandedResources.length-this.renderedLength)*i.offsetHeight/this.renderedLength+"px"}else e.style.height="";this.averageRowHeight=e.offsetHeight/this.parent.resourceBase.expandedResources.length},e.prototype.updateVirtualTrackHeight=function(e){var t=this.parent.resourceBase.renderedResources.length;if(t!==this.getRenderedCount()){e.style.height=this.parent.element.querySelector(".e-content-wrap").clientHeight+"px";var i=this.parent.element.querySelector("."+a.x),n=this.parent.element.querySelector("."+a.g),r=this.parent.element.querySelector("."+a.i);this.translateY=0,this.setTranslate(i,n,r)}else{var s=this.parent.resourceBase.renderedResources[t-1].groupIndex,o=this.parent.resourceBase.expandedResources[this.parent.resourceBase.expandedResources.length-1].groupIndex,l=t+(o-s);l=l>this.parent.resourceBase.expandedResources.length?this.parent.resourceBase.expandedResources.length:l,e.style.height=l*this.itemSize+"px"}},e.prototype.setItemSize=function(){this.isHorizontalScroll?this.itemSize=s.i(this.parent.activeView.element,a.n)||this.itemSize:this.itemSize=s.h(this.parent.activeView.element,a.n)||this.itemSize},e.prototype.renderEvents=function(){this.setTabIndex(),this.parent.crudModule&&this.parent.crudModule.refreshProcessedData(!0),"Month"!==this.parent.currentView&&this.parent.notify(r.D,{}),this.parent.hideSpinner()},e.prototype.virtualScrolling=function(){var e=this;this.parent.quickPopup&&(this.parent.quickPopup.quickPopupHide(),this.parent.quickPopup.morePopup.hide());var t=this.parent.element.querySelector("."+a.g);if(this.isHorizontalScroll)this.horizontalScrolling(t);else{var r=this.parent.element.querySelector("."+a.x),s=this.parent.element.querySelector("."+a.i),o=this.parent.element.querySelector("."+a._13),l=this.parent.element.querySelector("."+a.h);i.i(n.addClass)([t],"e-transition"),this.renderedLength=r.querySelector("tbody").children.length;var c=parseInt(r.querySelector("tbody td").getAttribute("data-group-index"),10),p=this.parent.rowAutoHeight?l.offsetHeight-t.offsetHeight:this.bufferCount*this.itemSize,d=[];if(t.scrollTop-this.translateY<0?d=this.upScroll(t,c):t.scrollTop-this.translateY>p&&(d=this.downScroll(t,c)),!i.i(n.isNullOrUndefined)(d)&&d.length>0){this.parent.showSpinner();var h=this.parent.getSelectedCells();this.focusedEle=h[h.length-1]||this.focusedEle,this.updateContent(r,t,s,d),this.setTranslate(r,t,s,o),this.parent.dragAndDropModule&&"drag"===this.parent.dragAndDropModule.actionObj.action&&this.parent.dragAndDropModule.navigationWrapper(),window.clearTimeout(this.timeValue),this.timeValue=window.setTimeout(function(){e.renderEvents()},250)}}},e.prototype.horizontalScrolling=function(e){var t=this,r=[],a=this.bufferCount*this.itemSize;if(Math.abs(e.scrollLeft)-Math.abs(this.translateY)<0?r=this.leftScroll(e):Math.abs(e.scrollLeft)-Math.abs(this.translateY)>a&&(r=this.rightScroll(e)),!i.i(n.isNullOrUndefined)(r)&&r.length>0){if(this.parent.resourceBase.expandedResources.length!==r.length||this.parent.resourceBase.expandedResources[0]!==r[0]||this.parent.resourceBase.expandedResources[this.parent.resourceBase.expandedResources.length-1]!==r[r.length-1]){this.parent.showSpinner();var s=this.parent.activeView.colLevels.slice(0);this.updateHorizontalContent(e,r),i.i(n.setStyleAttribute)(e.querySelector("table"),{transform:"translateX("+this.translateY+"px)"}),this.parent.activeView.colLevels=s,this.parent.dragAndDropModule&&"drag"===this.parent.dragAndDropModule.actionObj.action&&this.parent.dragAndDropModule.navigationWrapper()}window.clearTimeout(this.timeValue),this.timeValue=window.setTimeout(function(){t.renderEvents()},250)}},e.prototype.upScroll=function(e,t){var i=0;i=~~(e.scrollTop/this.itemSize)+Math.ceil(e.clientHeight/this.itemSize)-this.renderedLength,this.parent.rowAutoHeight&&(i=i>t?t-this.bufferCount:i),i=i>0?i:0;var n=this.getBufferCollection(i,i+this.renderedLength);if(this.parent.resourceBase.renderedResources=n,0===t)this.translateY=e.scrollTop;else{var r=this.parent.rowAutoHeight?this.averageRowHeight:this.itemSize;r=r>0?r:this.itemSize,this.translateY=e.scrollTop-this.bufferCount*r>0?e.scrollTop-this.bufferCount*r:0}return n},e.prototype.downScroll=function(e,t){if(this.parent.resourceBase.renderedResources[this.parent.resourceBase.renderedResources.length-1].groupIndex===this.parent.resourceBase.expandedResources[this.parent.resourceBase.expandedResources.length-1].groupIndex)return null;var i=0;i=~~(e.scrollTop/this.itemSize),this.parent.rowAutoHeight&&(i=~~((e.scrollTop-this.translateY)/this.averageRowHeight)+t,i=i>t+this.bufferCount?i:t+this.bufferCount);var n=i+this.renderedLength;n=n>this.parent.resourceBase.expandedResources.length?i+(this.parent.resourceBase.expandedResources.length-i):n;var r=this.getBufferCollection(n-this.renderedLength,n);return this.translateY=e.scrollTop,r},e.prototype.leftScroll=function(e){var t=0;return t=~~(Math.abs(e.scrollLeft)/this.itemSize)+Math.ceil(e.clientWidth/this.itemSize)-this.renderedLength,t=t>0?t:0,this.getCollection(t,t+this.renderedLength)},e.prototype.rightScroll=function(e){var t=this.parent.activeView.colLevels[this.parent.activeView.colLevels.length-1],i=0;i=~~(Math.abs(e.scrollLeft)/this.itemSize);var n=i+this.renderedLength;return n=n>t.length-1?t.length-1:n,this.getCollection(n-this.renderedLength,n)},e.prototype.getCollection=function(e,t){this.translateY=e*this.itemSize;var i=this.getResCollection(e,t);return this.parent.enableRtl&&(this.translateY=-this.translateY),i},e.prototype.getResCollection=function(e,t){var i=this.parent.activeView.colLevels[this.parent.activeView.colLevels.length-1],n=[],r={startIndex:0,endIndex:0};if(this.parent.activeViewOptions.group.byDate){if(i[parseInt(e.toString(),10)].date.getTime()===this.parent.resourceBase.expandedResources[0].date.getTime()&&i[parseInt(t.toString(),10)].date.getTime()===this.parent.resourceBase.expandedResources[this.parent.resourceBase.expandedResources.length-1].date.getTime())return this.parent.resourceBase.expandedResources;n=this.getByDateCollection(i[parseInt(e.toString(),10)],i[parseInt(t.toString(),10)],r),this.setRenderedDates(n)}else{if(i[parseInt(e.toString(),10)].groupIndex===this.parent.resourceBase.expandedResources[0].groupIndex&&i[parseInt(t.toString(),10)].groupIndex===this.parent.resourceBase.expandedResources[this.parent.resourceBase.expandedResources.length-1].groupIndex)return this.parent.resourceBase.expandedResources;n=this.getByIdCollection(i[parseInt(e.toString(),10)],i[parseInt(t.toString(),10)],r)}return"Month"!==this.parent.currentView&&(this.startIndex=r.startIndex,n=i.slice(r.startIndex,r.endIndex)),this.translateY=r.startIndex*this.itemSize,n},e.prototype.getByDateCollection=function(e,t,i){var n=this.parent.activeView.colLevels[0].filter(function(i){return e.date.getTime()<=i.date.getTime()&&i.date.getTime()<=t.date.getTime()});return this.setStartEndIndex(this.parent.activeView.colLevels[0],n[0],n[n.length-1],i),n},e.prototype.getByIdCollection=function(e,t,i){var n=this.parent.resourceBase.lastResourceLevel.filter(function(i){return e.groupIndex<=i.groupIndex&&i.groupIndex<=t.groupIndex});return this.parent.resourceBase.renderedResources=n,this.setStartEndIndex(this.parent.resourceBase.lastResourceLevel,n[0],n[n.length-1],i),n},e.prototype.setStartEndIndex=function(e,t,i,n){var r=0;e.filter(function(e){t===e?n.startIndex=r:i===e&&(n.endIndex=r+e.colSpan),r+=e.colSpan}),t===i&&(n.endIndex=n.startIndex+i.colSpan)},e.prototype.updateContent=function(e,t,r,s){var o=e.querySelector("tbody").children.length;document.activeElement&&document.activeElement.classList.contains(a._83)&&(this.isResourceCell=!0,this.parent.element.focus());for(var l=0;l<o;l++)i.i(n.remove)(e.querySelector("tbody tr")),i.i(n.remove)(t.querySelector("tbody tr")),i.i(n.remove)(r.querySelector("div"));this.parent.resourceBase.renderedResources=s;var c=this.parent.resourceBase.getContentRows(s,!0),p=this.parent.activeView.getContentRows(),d=this.parent.activeView.getEventRows(s.length);i.i(n.append)(c,e.querySelector("tbody")),i.i(n.append)(p,t.querySelector("tbody")),i.i(n.append)(d,r)},e.prototype.updateHorizontalContent=function(e,t){this.parent.resourceBase.expandedResources=t;var r=this.parent.getSelectedCells();this.focusedEle=r[r.length-1]||this.focusedEle;for(var a=e.querySelectorAll("tbody tr").length,s=0;s<a;s++)i.i(n.remove)(e.querySelector("tbody tr"));if("Month"===this.parent.currentView){this.parent.activeViewOptions.group.byDate?this.parent.activeView.colLevels[0]=t:this.parent.activeView.colLevels[this.parent.activeView.colLevels.length-2]=t;var o=this.parent.activeView.getContentRows();i.i(n.append)(o,e.querySelector("tbody"))}else{for(var l=[].slice.call(e.querySelector("colgroup").children),s=0;s<l.length;s++)i.i(n.remove)(l[parseInt(s.toString(),10)]);this.parent.activeView.colLevels[this.parent.activeView.colLevels.length-1]=t;var o=this.parent.activeView.getContentRows(),c=e.querySelector("table"),p=e.querySelector("thead"),d=e.querySelector("colgroup");t.forEach(function(){d.appendChild(i.i(n.createElement)("col"))}),p.appendChild(this.parent.eventBase.createEventWrapper("",this.startIndex>0?this.startIndex:0)),this.parent.activeViewOptions.timeScale.enable&&p.appendChild(this.parent.eventBase.createEventWrapper("timeIndicator")),i.i(n.prepend)([p],c),i.i(n.append)(o,e.querySelector("tbody"))}},e.prototype.getBufferCollection=function(e,t){return this.parent.resourceBase.expandedResources.slice(e,t)},e.prototype.setTranslate=function(e,t,r,a){i.i(n.setStyleAttribute)(e.querySelector("table"),{transform:"translateY("+this.translateY+"px)"}),i.i(n.setStyleAttribute)(t.querySelector("table"),{transform:"translateY("+this.translateY+"px)"}),i.i(n.setStyleAttribute)(r,{transform:"translateY("+this.translateY+"px)"}),i.i(n.isNullOrUndefined)(a)||i.i(n.setStyleAttribute)(a,{transform:"translateY("+this.translateY+"px)"})},e.prototype.updateFocusedWorkCell=function(){if(this.focusedEle){var e=parseInt(this.focusedEle.getAttribute("data-date"),10),t=parseInt(this.focusedEle.getAttribute("data-group-index"),10),i=this.parent.element.querySelector("."+a.n+'[data-date="'+e+'"][data-group-index="'+t+'"]');i&&this.parent.addSelectedClass([i],i,!0),this.focusedEle=null}},e.prototype.setRenderedDates=function(e){if("Month"!==this.parent.currentView){var t=e.map(function(e){return e.date});this.parent.resourceBase.renderedResources.forEach(function(e){return e.renderDates=t})}else{var i=e.map(function(e){return e.date.getDay()}),n=this.parent.activeView.renderDates.filter(function(e){return i.indexOf(e.getDay())>=0});this.parent.resourceBase.renderedResources.forEach(function(e){return e.renderDates=n})}},e.prototype.setTabIndex=function(){var e=this.parent.element.querySelector("."+a.x),t=[].slice.call(this.parent.element.querySelectorAll("."+a._83));t&&e&&t.forEach(function(t){t.getBoundingClientRect().top>=e.getBoundingClientRect().top&&t.setAttribute("tabindex","0")});var i=this.parent.element.querySelector("."+a._83+'[tabindex="0"]');this.isResourceCell&&i&&(i.focus(),this.isResourceCell=!1)},e.prototype.destroy=function(){this.removeEventListener(),this.focusedEle=null},e}()},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(0),r=(i.n(n),i(2)),a=i(3),s=function(){function e(e){this.parent=e,n.EventHandler.add(this.parent.element,"mouseover",this.onHover,this)}return e.prototype.cellMouseDown=function(e){this.isPreventAction(e)||this.parent.notify(r.J,{event:e})},e.prototype.cellClick=function(e){var t=this;if(!this.isPreventAction(e)){var s="."+a.n+",."+a._4+",."+a.e,o=i.i(n.closest)(e.target,s);if(!i.i(n.isNullOrUndefined)(o)){if(!i.i(n.isNullOrUndefined)(i.i(n.closest)(e.target,"."+a._81)))return void this.parent.eventWindow.openEditor(this.parent.activeCellsData,"Add");var l=i.i(n.closest)(e.target,"."+a.p),c=this.parent.getNavigateView(),p=this.parent.currentView===c;if(i.i(n.isNullOrUndefined)(l)||p||i.i(n.isNullOrUndefined)(this.parent.viewOptions[c.charAt(0).toLowerCase()+c.slice(1)])){if(this.parent.activeViewOptions.readonly&&"MonthAgenda"!==this.parent.currentView)return void(this.parent.quickPopup&&this.parent.quickPopup.quickPopupHide());if(this.parent.isAdaptive&&(e.target.classList.contains(a.z)||i.i(n.closest)(e.target,"."+a.z)))return;var d=o.classList.contains(a.n)||o.classList.contains(a._4);if(d&&e.shiftKey&&1===e.which&&this.parent.keyboardInteractionModule)return void this.parent.keyboardInteractionModule.onMouseSelection(e);this.parent.activeCellsData=this.parent.getCellDetails(o);var h=i.i(n.extend)(this.parent.activeCellsData,{cancel:!1,event:e,name:"cellClick"});this.parent.trigger(r.a,h,function(e){if(e.cancel)t.parent.quickPopup&&t.parent.quickPopup.quickPopupHide();else if(d&&t.parent.selectCell(o),t.parent.allowInline){var i={element:e.element,groupIndex:e.groupIndex,type:"Cell"};t.parent.notify(r.w,i)}else t.parent.notify(r.a,e)})}else{var u=this.parent.getDateFromElement(o);i.i(n.isNullOrUndefined)(u)||this.parent.isAdaptive||!this.parent.isMinMaxDate(u)||(this.parent.setProperties({selectedDate:u},!0),this.parent.changeView(this.parent.getNavigateView(),e))}}}},e.prototype.cellDblClick=function(e){var t=this,s="."+a.n+",."+a._4+",."+a.e,o=i.i(n.closest)(e.target,s);if(!(this.parent.activeViewOptions.readonly||this.isPreventAction(e)||i.i(n.isNullOrUndefined)(o))){var l=i.i(n.extend)(this.parent.activeCellsData,{cancel:!1,event:e,name:"cellDoubleClick"});this.parent.trigger(r.b,l,function(e){var i=new Date(e.startTime.getTime());t.parent.isMinMaxDate(new Date(i.setHours(0,0,0,0)))&&(e.cancel||t.parent.eventWindow.openEditor(t.parent.activeCellsData,"Add"))})}},e.prototype.onHover=function(e){var t="."+a.n+",."+a._11+",."+a._4+",."+a.e+",."+a._83+",."+a.D+",."+a.E+",."+a.m,s=i.i(n.closest)(e.target,t);if(s){var o={element:s,event:e};this.parent.trigger(r.e,o)}},e.prototype.isPreventAction=function(e){if(i.i(n.closest)(e.target,"."+a.p))return!1;if(i.i(n.closest)(e.target,"."+a.C)&&!i.i(n.closest)(e.target,"."+a.z))return!0;var t=i.i(n.closest)(e.target,"."+a.D+",."+a.v);return!i.i(n.isNullOrUndefined)(t)||(t=i.i(n.closest)(e.target,"."+a.e),!(!this.parent.activeView.isTimelineView()||i.i(n.isNullOrUndefined)(t)))},e.prototype.destroy=function(){n.EventHandler.remove(this.parent.element,"mouseover",this.onHover)},e}()},function(e,t,i){"use strict";i.d(t,"a",function(){return d});var n=i(0),r=(i.n(n),i(11)),a=(i.n(r),i(39)),s=(i.n(a),i(6)),o=(i.n(s),i(22)),l=i(3),c=i(2),p=i(1),d=function(){function e(e){this.resourceCollection=[],this.leftPixel=25,this.resourceDateTree=[],this.parent=e}return e.prototype.renderResourceHeaderIndent=function(e){var t=i.i(n.createElement)("td",{className:l._165}),r=i.i(n.createElement)("div",{className:l._166});if(this.parent.activeViewOptions.headerIndentTemplate){var a={className:[t.className],type:"emptyCells"};this.parent.renderHeaderIndentTemplate(a,t)}else t.appendChild(r);var s={elementType:"emptyCells",element:t};this.parent.trigger(c.j,s),e.appendChild(t)},e.prototype.hideResourceRows=function(e){if(!(this.resourceCollection.length<=1||this.parent.virtualScrollModule))for(var t=this.lastResourceLevel.length,r=0;r<t;r++){var a=this.lastResourceLevel[parseInt(r.toString(),10)].resourceData,s=this.lastResourceLevel[parseInt(r.toString(),10)].resource;if(a.ClassName===l.u&&!a[s.expandedField]&&!i.i(n.isNullOrUndefined)(a[s.expandedField])){var o=[].slice.call(e.children),c=o.slice(r+1,r+(parseInt(a.Count,10)+1));i.i(n.addClass)(c,l._67)}}},e.prototype.createResourceColumn=function(){var e=this.resourceCollection,t=i.i(n.createElement)("div",{className:l.x}),r=this.parent.activeView.createTableLayout(l.y);!this.parent.uiStateValues.isGroupAdaptive&&this.parent.rowAutoHeight&&this.parent.activeView.isTimelineView()&&this.parent.activeViewOptions.group.resources.length>0&&i.i(n.addClass)([r],l.k);var a=r.querySelector("tbody"),s=this.generateTreeData(!0);if(this.countCalculation(e.slice(0,-2),e.slice(0,-1)),this.renderedResources=this.lastResourceLevel,this.parent.virtualScrollModule){var o=this.parent.virtualScrollModule.getRenderedCount();this.setExpandedResources(),s=this.expandedResources.slice(0,o),this.renderedResources=s}return i.i(n.append)(this.getContentRows(s),a),this.hideResourceRows(a),r.appendChild(a),t.appendChild(r),t},e.prototype.setRenderedResources=function(){var e=this.resourceCollection;this.generateTreeData(!0);this.countCalculation(e.slice(0,-2),e.slice(0,-1)),this.renderedResources=this.lastResourceLevel},e.prototype.setExpandedResources=function(){for(var e=[],t=0;t<this.lastResourceLevel.length;t++){var r=this.lastResourceLevel[parseInt(t.toString(),10)].resourceData,a=r.Count;e.push(this.lastResourceLevel[parseInt(t.toString(),10)]);var s=r[this.lastResourceLevel[parseInt(t.toString(),10)].resource.expandedField];!i.i(n.isNullOrUndefined)(s)&&!s&&a>0&&(t+=a)}this.expandedResources=e},e.prototype.getContentRows=function(e,t){for(var r,a,s=[],o=this.resourceCollection,d=i.i(n.createElement)("tr"),h=i.i(n.createElement)("td",{attrs:{tabindex:t?"-1":"0"}}),u=0;u<e.length;u++){var g=h.cloneNode();if(a=p.B(o,"name",e[parseInt(u.toString(),10)].resource.name),a===o.length-1?(i.i(n.extend)(e[parseInt(u.toString(),10)].resourceData,{ClassName:l._167}),this.renderedResources[parseInt(u.toString(),10)].className=[l._167]):(i.i(n.extend)(e[parseInt(u.toString(),10)].resourceData,{ClassName:l.u}),this.renderedResources[parseInt(u.toString(),10)].className=[l.u]),r=a*this.leftPixel+"px",e[parseInt(u.toString(),10)].resourceData.ClassName===l.u&&!i.i(n.isNullOrUndefined)(e[parseInt(u.toString(),10)].resourceData.Count)&&e[parseInt(u.toString(),10)].resourceData.Count>0){var v=void 0;v=e[parseInt(u.toString(),10)].resourceData[o[parseInt(a.toString(),10)].expandedField]||i.i(n.isNullOrUndefined)(e[parseInt(u.toString(),10)].resourceData[o[parseInt(a.toString(),10)].expandedField])?l._168:l._169;var f=i.i(n.createElement)("div");i.i(n.addClass)([f],[l._63,v]),this.setMargin(f,r),g.appendChild(f),this.resourceCollection.length>1&&n.EventHandler.add(f,"click",this.onTreeIconClick,this)}this.parent.activeView.setResourceHeaderContent(g,e[parseInt(u.toString(),10)],l._166),g.setAttribute("data-group-index",e[parseInt(u.toString(),10)].groupIndex.toString()),g.setAttribute("aria-label",e[parseInt(u.toString(),10)].resourceData[e[parseInt(u.toString(),10)].resource.textField]+" resource"),this.parent.activeViewOptions.resourceHeaderTemplate||this.setMargin(g.querySelector("."+l._166),r);var m=[l._83,e[parseInt(u.toString(),10)].resourceData.ClassName];i.i(n.addClass)([g],m);var y={elementType:"resourceHeader",element:g,groupIndex:e[parseInt(u.toString(),10)].groupIndex};this.parent.trigger(c.j,y);var T=d.cloneNode();T.appendChild(g),s.push(T)}return s},e.prototype.setMargin=function(e,t){this.parent.enableRtl?e.style.marginRight=t:e.style.marginLeft=t},e.prototype.countCalculation=function(e,t){for(var a,s=0;s<e.length;s++){for(var o=e[e.length-(s+1)].dataSource,l=0;l<o.length;l++){var c=0;if(this.parent.activeViewOptions.group.byGroupID){var p=(new r.Query).where(t[t.length-1].groupIDField,"equal",o[parseInt(l.toString(),10)][e[e.length-(s+1)].idField]);a=new r.DataManager(t[t.length-1].dataSource).executeLocal(p)}else a=t[t.length-1].dataSource;for(var d=0;d<a.length;d++)c+=parseInt(a[parseInt(d.toString(),10)].Count,10);c+=parseInt(o[parseInt(l.toString(),10)].Count,10),i.i(n.extend)(o[parseInt(l.toString(),10)],{Count:c})}t=t.slice(0,-1)}},e.prototype.onTreeIconClick=function(e){var t=this;this.parent.eventTooltip&&this.parent.eventTooltip.close();var r,a=e.target,s=i.i(n.closest)(a,"."+l.u).parentElement,o=parseInt(s.children[0].getAttribute("data-group-index"),10),p={cancel:!1,event:e,groupIndex:o,requestType:a.classList.contains(l._168)?"resourceCollapse":"resourceExpand"};this.parent.trigger(c.f,p,function(s){if(!s.cancel){a.classList.contains(l._168)?(i.i(n.classList)(a,[l._169],[l._168]),r=!0):(i.i(n.classList)(a,[l._168],[l._169]),r=!1);for(var d=[].slice.call(t.parent.element.querySelectorAll("."+l.D+",."+l.z)),h=0,u=d;h<u.length;h++){var g=u[h];i.i(n.remove)(g)}t.parent.virtualScrollModule?t.updateVirtualContent(o,r,e,a):t.updateContent(o,r);var v={cssProperties:t.parent.getCssProperties(),module:"scroll"};t.parent.notify(c.G,v),p={cancel:!1,event:e,groupIndex:o,requestType:a.classList.contains(l._168)?"resourceExpanded":"resourceCollapsed"},t.parent.refreshEvents(!1),t.parent.trigger(c.g,p)}})},e.prototype.updateContent=function(e,t){for(var r,a=[],s=[],o=[],c=this.lastResourceLevel[parseInt(e.toString(),10)].resourceData,p=[].slice.call(this.parent.element.querySelectorAll("."+l.x+" tr")),d=[].slice.call(this.parent.element.querySelectorAll("."+l.g+" tbody tr")),h=[].slice.call(this.parent.element.querySelectorAll("."+l.g+" ."+l.l)),u=0;u<c.Count;u++)a.push(p[e+u+1]),s.push(d[e+u+1]),o.push(h[e+u+1]);for(var g=this.lastResourceLevel,v=0;v<a.length;v++){var f=!0;if(r=a[parseInt(v.toString(),10)].children[0].classList.contains(l.u),g[parseInt(e.toString(),10)].resourceData[g[parseInt(e.toString(),10)].resource.expandedField]=!t,t){if(r){var m=a[parseInt(v.toString(),10)].querySelector("."+l._63);m&&i.i(n.classList)(m,[l._169],[l._168])}a[parseInt(v.toString(),10)].classList.contains(l._67)||i.i(n.addClass)([a[parseInt(v.toString(),10)],s[parseInt(v.toString(),10)],o[parseInt(v.toString(),10)]],l._67)}else{if(r){var y=a[parseInt(v.toString(),10)].rowIndex;if(g[parseInt(y.toString(),10)].resourceData[g[parseInt(y.toString(),10)].resource.expandedField]||i.i(n.isNullOrUndefined)(g[parseInt(y.toString(),10)].resourceData[g[parseInt(y.toString(),10)].resource.expandedField])||(a.splice(v+1,parseInt(g[parseInt(y.toString(),10)].resourceData.Count,10)),s.splice(v+1,parseInt(g[parseInt(y.toString(),10)].resourceData.Count,10)),o.splice(v+1,parseInt(g[parseInt(y.toString(),10)].resourceData.Count,10)),f=!1),f){var m=a[parseInt(v.toString(),10)].querySelector("."+l._63);m&&i.i(n.classList)(m,[l._168],[l._169])}}a[parseInt(v.toString(),10)].classList.contains(l._67)&&i.i(n.removeClass)([a[parseInt(v.toString(),10)],s[parseInt(v.toString(),10)],o[parseInt(v.toString(),10)]],l._67)}}},e.prototype.updateVirtualContent=function(e,t,r,a){this.lastResourceLevel[parseInt(e.toString(),10)].resourceData[this.lastResourceLevel[parseInt(e.toString(),10)].resource.expandedField]=!t,this.setExpandedResources();var s=this.parent.virtualScrollModule.getRenderedCount(),o=this.expandedResources.indexOf(this.renderedResources[0]);if(this.renderedResources=this.expandedResources.slice(o,o+s),this.renderedResources.length<s){var c=this.expandedResources.length-s;c=c>0?c:0,this.renderedResources=this.expandedResources.slice(c,this.expandedResources.length)}var p=this.parent.element.querySelector("."+l._170);this.parent.virtualScrollModule.updateVirtualTrackHeight(p);var d=this.parent.element.querySelector("."+l.x+" table"),h=this.parent.element.querySelector("."+l.g+" table"),u=this.parent.element.querySelector("."+l.i);this.parent.virtualScrollModule.updateContent(d,h,u,this.renderedResources);var g=this.parent.element.querySelector("."+l._13);i.i(n.isNullOrUndefined)(g)||(g.style.height=this.parent.element.querySelector("."+l.h).offsetHeight+"px")},e.prototype.renderResourceHeader=function(){var e=i.i(n.createElement)("div",{className:l._24});if(e.innerHTML='<div class="'+l._38+'"><div class="'+l._171+'"><div class="e-icons '+l._172+'"></div></div><div class="'+l._173+'"></div></div>',"MonthAgenda"===this.parent.currentView){var t=this.parent.activeView.getPanel().querySelector("."+l.g);t.insertBefore(e,t.querySelector("."+l._35))}else this.parent.element.insertBefore(e,this.parent.element.querySelector("."+l._53));this.renderResourceHeaderText(),n.EventHandler.add(e.querySelector("."+l._172),"click",this.menuClick,this)},e.prototype.renderResourceTree=function(){this.popupOverlay=i.i(n.createElement)("div",{className:l._174});var e=i.i(n.createElement)("div",{className:l._175+" e-popup-close"});if("MonthAgenda"===this.parent.currentView){var t=this.parent.activeView.getPanel().querySelector("."+l._35);t.insertBefore(e,t.children[0]),t.appendChild(this.popupOverlay)}else this.parent.element.querySelector("."+l._53).appendChild(e),this.parent.element.querySelector("."+l._53).appendChild(this.popupOverlay);var r=i.i(n.createElement)("div",{className:l._176});e.appendChild(r),this.treeViewObj=new a.TreeView({cssClass:this.parent.cssClass,enableRtl:this.parent.enableRtl,enableHtmlSanitizer:this.parent.enableHtmlSanitizer,fields:{dataSource:[].slice.call(this.generateTreeData()),id:"resourceId",text:"resourceName",child:"resourceChild"},nodeTemplate:this.parent.resourceHeaderTemplate,nodeClicked:this.resourceClick.bind(this),created:this.resourceTreeCreated.bind(this)}),this.treeViewObj.appendTo(r),this.treeViewObj.expandAll(),this.treePopup=new s.Popup(e,{targetType:"relative",actionOnScroll:"none",content:this.treeViewObj.element,relateTo:this.parent.element.querySelector("."+l._53),enableRtl:this.parent.enableRtl,hideAnimation:{name:"SlideLeftOut",duration:500},showAnimation:{name:"SlideLeftIn",duration:500},viewPortElement:this.parent.element.querySelector("."+("MonthAgenda"===this.parent.currentView?l._35:l._53))}),this.parent.on(c.I,this.documentClick,this)},e.prototype.resourceTreeCreated=function(){this.parent.activeViewOptions.resourceHeaderTemplate&&this.parent.portals&&this.treeViewObj.portals&&(this.parent.portals=this.parent.portals.concat(this.treeViewObj.portals),this.parent.renderTemplates())},e.prototype.generateTreeData=function(e){for(var t=this,r=[],a=[],s=0,o=this,l=0,c=this.resourceTreeLevel.length;l<c;l++)!function(l,c){var p=function(r,o,l){var c,d,h=t.resourceCollection[parseInt(o.toString(),10)];e?(d={type:"resourceHeader",resource:r.resource,resourceData:r.resourceData,groupIndex:s,groupOrder:r.groupOrder},a.push(d),s++):c={resourceId:l,resourceName:r.resourceData[h.textField],resource:r.resource,resourceData:r.resourceData},r.child.length>0&&!e&&(c.resourceChild=[]);for(var u=1,g=0,v=r.child;g<v.length;g++){var f=v[g];e?p(f,o+1,l+"-"+u):c.resourceChild.push(p(f,o+1,l+"-"+u)),u+=1}return e&&i.i(n.extend)(d.resourceData,{Count:u-1}),c};e?p(o.resourceTreeLevel[parseInt(l.toString(),10)],0,(l+1).toString()):r.push(p(o.resourceTreeLevel[parseInt(l.toString(),10)],0,(l+1).toString()))}(l);return e?(this.lastResourceLevel=a,a):r},e.prototype.renderResourceHeaderText=function(){for(var e=this.lastResourceLevel[this.parent.uiStateValues.groupIndex],t=[],r=this,a=0,s=e.groupOrder.length;a<s;a++)!function(a,s){var o=r.resourceCollection[parseInt(a.toString(),10)],c=o.dataSource.filter(function(t){return t[o.idField]===e.groupOrder[parseInt(a.toString(),10)]}),p=i.i(n.createElement)("div",{className:l._45});r.parent.sanitize(c[0][o.textField],p),t.push(p);var d=i.i(n.createElement)("div",{className:"e-icons e-icon-next"});t.push(d)}(a);t.pop();var o="MonthAgenda"===this.parent.currentView?this.parent.activeView.getPanel():this.parent.element,c=o.querySelector("."+l._173);p.D(c);for(var d=0,h=t;d<h.length;d++){var u=h[d];c.appendChild(u)}1===this.lastResourceLevel.length&&i.i(n.addClass)([this.parent.element.querySelector("."+l._171)],l.J)},e.prototype.menuClick=function(e){if(this.parent.element.querySelector("."+l._175).classList.contains(l.T))this.treePopup.hide(),i.i(n.removeClass)([this.popupOverlay],l._160);else{var t=[].slice.call(this.treeViewObj.element.querySelectorAll(".e-list-item:not(.e-has-child)"));i.i(n.removeClass)(t,"e-active"),i.i(n.addClass)([t[this.parent.uiStateValues.groupIndex]],"e-active"),this.treePopup.show(),i.i(n.addClass)([this.popupOverlay],l._160)}},e.prototype.selectResourceByIndex=function(e){this.lastResourceLevel&&e>-1&&e<this.lastResourceLevel.length&&this.triggerEvents(e)},e.prototype.resourceClick=function(e){if(!e.node.classList.contains("e-has-child")){this.treePopup.hide(),i.i(n.removeClass)([this.popupOverlay],l._160);var t=[].slice.call(this.treeViewObj.element.querySelectorAll(".e-list-item:not(.e-has-child)")),r=t.indexOf(e.node);this.triggerEvents(r,e),e.event.preventDefault()}},e.prototype.triggerEvents=function(e,t){var i=this,n={cancel:!1,event:t?t.event:null,groupIndex:e,requestType:"resourceChange"};this.parent.trigger(c.f,n,function(e){e.cancel||(i.parent.uiStateValues.groupIndex=e.groupIndex,i.parent.renderModule.render(i.parent.currentView),n={cancel:!1,event:t?t.event:null,groupIndex:i.parent.uiStateValues.groupIndex,requestType:"resourceChanged"},i.parent.trigger(c.g,n))})},e.prototype.documentClick=function(e){if(!i.i(n.closest)(e.event.target,"."+l._175)){var t=this.parent.element.querySelector("."+l._175);t&&t.classList.contains(l.T)&&(this.treePopup.hide(),i.i(n.removeClass)([this.popupOverlay],l._160))}},e.prototype.bindResourcesData=function(e){var t=this;this.parent.showSpinner();for(var i=[],n=0,r=this.parent.resources;n<r.length;n++){var a=r[n],s=new o.a(this.parent,a.dataSource,a.query);i.push(s.getData(s.generateQuery()))}Promise.all(i).then(function(i){return t.dataManagerSuccess(i,e)}).catch(function(e){return t.parent.crudModule.dataManagerFailure(e)})},e.prototype.dataManagerSuccess=function(e,t){if(!(!this.parent||this.parent&&this.parent.isDestroyed)){this.parent.resourceCollection=[];for(var i=0,n=e.length;i<n;i++){var r=this.parent.resources[parseInt(i.toString(),10)],a=this.getResourceModel(r,e[parseInt(i.toString(),10)].result);this.parent.resourceCollection.push(a)}this.refreshLayout(t)}},e.prototype.getResourceModel=function(e,t){return{field:e.field,title:e.title,name:e.name,allowMultiple:e.allowMultiple,dataSource:t||e.dataSource,idField:e.idField,textField:e.textField,groupIDField:e.groupIDField,colorField:e.colorField,startHourField:e.startHourField,endHourField:e.endHourField,workDaysField:e.workDaysField,expandedField:e.expandedField,cssClassField:e.cssClassField}},e.prototype.refreshLayout=function(e){!i.i(n.isNullOrUndefined)(this.parent.uiStateValues.groupIndex)&&this.parent.enablePersistence||(this.parent.uiStateValues.groupIndex=0),this.parent.renderElements(e)},e.prototype.setResourceCollection=function(){var e=[];if(this.resourceCollection=[],this.colorIndex=null,this.parent.activeViewOptions.group.resources.length>0)for(var t=0,r=this.parent.activeViewOptions.group.resources;t<r.length;t++){var a=r[t],s=p.B(this.parent.resourceCollection,"name",a);s>=0&&e.push(this.parent.resourceCollection[parseInt(s.toString(),10)])}else this.parent.resourceCollection.length>0&&(e=this.parent.resourceCollection);for(var o=0,l=0,c=e;l<c.length;l++){var a=c[l],d=this.getResourceModel(a);a.name===this.parent.eventSettings.resourceColorField&&(this.colorIndex=o),o++,this.resourceCollection.push(d)}i.i(n.isNullOrUndefined)(this.colorIndex)&&(this.colorIndex=this.resourceCollection.length-1)},e.prototype.generateResourceLevels=function(e,t){var i=this,n=this.resourceCollection,r=[],a=[],s=function(t,n,o,l,c){var p=[],d=t[0];if(d){var h=void 0;if(l&&i.parent.activeViewOptions.group.byGroupID){var u=l[o.idField];h=d.dataSource.filter(function(e){return e[d.groupIDField]===u})}else h=d.dataSource;for(var g=0;g<h.length;g++){var v=[];c&&c.length>0&&(v=v.concat(c)),v.push(h[parseInt(g.toString(),10)][d.idField]);var f=s(t.slice(1),n+1,d,h[parseInt(g.toString(),10)],v);if(!(0===n&&0===f.length&&i.resourceCollection.length>1)){var m=[],y=i.parent.activeView.renderDates,T=void 0;if(!i.parent.activeViewOptions.group.byDate&&n+1===i.resourceCollection.length){var D=h[parseInt(g.toString(),10)][d.workDaysField],w=h[parseInt(g.toString(),10)][d.startHourField],b=h[parseInt(g.toString(),10)][d.endHourField];D&&D.length>0?(y=i.parent.activeView.getRenderDates(D),T=D,m=i.parent.activeView.getDateSlots(y,D)):(T=i.parent.activeViewOptions.workDays,m=e);var C=i.generateCustomHours(m,w,b,v);a=a.concat(C)}var S=h[parseInt(g.toString(),10)][d.cssClassField],O={type:"resourceHeader",className:["e-resource-cells"],resourceLevelIndex:n,groupOrder:v,resource:d,resourceData:h[parseInt(g.toString(),10)],colSpan:i.parent.activeViewOptions.group.byDate?1:m.length,renderDates:y,workDays:T,cssClass:S,child:f};p.push(O)}}return r[parseInt(n.toString(),10)]||(r[parseInt(n.toString(),10)]=[]),p.length>0&&r[parseInt(n.toString(),10)].push(p),p}return[]};return this.resourceTreeLevel=s(n,0),t?[]:this.generateHeaderLevels(r,a,e)},e.prototype.generateCustomHours=function(e,t,r,a){for(var s=i.i(n.extend)([],e,null,!0),o=0,l=s;o<l.length;o++){var c=l[o];t&&(c.startHour=this.parent.getStartEndTime(t)),r&&(c.endHour=this.parent.getStartEndTime(r)),a&&(c.groupOrder=a)}return s},e.prototype.generateHeaderLevels=function(e,t,r){for(var a=[],s=e.length-1;s>=0;s--)for(var o=0,l=0,c=e[parseInt(s.toString(),10)];l<c.length;l++)for(var p=c[l],d=0,h=p;d<h.length;d++){var u=h[d];if(e[s+1]&&e[s+1].length>0){var g=e[parseInt((s+1).toString(),10)][parseInt(o.toString(),10)];if(!g)continue;for(var v=0,f=0,m=g;f<m.length;f++){var y=m[f];(!this.parent.activeViewOptions.group.byGroupID||this.parent.activeViewOptions.group.byGroupID&&y.resourceData[y.resource.groupIDField]===u.resourceData[u.resource.idField])&&(v+=y.colSpan)}u.colSpan=v}u.groupIndex=o,o++,a[u.resourceLevelIndex]=a[u.resourceLevelIndex]||[],a[u.resourceLevelIndex].push(u)}if(this.lastResourceLevel=a.slice(-1)[0]||[],!this.parent.activeViewOptions.group.byDate){for(var T=0,D=0,w=this.lastResourceLevel;D<w.length;D++)for(var b=w[D],s=0;s<b.colSpan;s++)t[parseInt(T.toString(),10)].groupIndex=b.groupIndex,T++;return a.push(t),a}var C=[],S=i.i(n.extend)([],a,null,!0),O=[];if(this.parent.activeViewOptions.group.hideNonWorkingDays){for(var E=[],x=0,V=this,A=0,I=r;A<I.length;A++){var M=I[A];!function(e){V.resourceDateTree[parseInt(x.toString(),10)]=[];for(var t=[],r=0;r<V.lastResourceLevel.length;r++)!function(r){var a=V.lastResourceLevel[parseInt(r.toString(),10)].resourceData[V.lastResourceLevel[parseInt(r.toString(),10)].resource.workDaysField];if(a||(a=V.parent.activeViewOptions.workDays),-1!==a.indexOf(e.date.getDay())){var s=i.i(n.extend)({},V.lastResourceLevel[parseInt(r.toString(),10)],null,!0);s.date=e.date,V.lastResourceLevel[parseInt(r.toString(),10)].workDays=a,s.startHour=V.parent.getStartEndTime(s.resourceData[s.resource.startHourField])||e.startHour,s.endHour=V.parent.getStartEndTime(s.resourceData[s.resource.endHourField])||e.endHour,V.resourceDateTree[parseInt(x.toString(),10)].push(s);for(var o=0;o<s.groupOrder.length;o++)!function(a){if(t[parseInt(a.toString(),10)]||(t[parseInt(a.toString(),10)]=[]),a===s.groupOrder.length-1){E[parseInt(r.toString(),10)]||(E[parseInt(r.toString(),10)]=[]);var o=s.renderDates.filter(function(t){return t.getDay()===e.date.getDay()});return E[parseInt(r.toString(),10)]=E[parseInt(r.toString(),10)].concat(o),t[parseInt(a.toString(),10)].push(s),"continue"}var l=S[parseInt(a.toString(),10)],c=l.filter(function(e){return e.resourceData[e.resource.idField]===s.groupOrder[parseInt(a.toString(),10)]});if(c&&c.length>0){var p=t[parseInt(a.toString(),10)].filter(function(e){return e.resourceData[e.resource.idField]===s.groupOrder[parseInt(a.toString(),10)]});if(p&&p.length>0)p[0].colSpan+=1;else{var d=i.i(n.extend)({},c[0],null,!0);d.colSpan=1,t[parseInt(a.toString(),10)].push(d)}}}(o)}}(r);if(t.length>0){for(var a=0;a<S.length;a++)C[parseInt(a.toString(),10)]||(C[parseInt(a.toString(),10)]=[]),C[parseInt(a.toString(),10)]=C[parseInt(a.toString(),10)].concat(t[parseInt(a.toString(),10)]);e.colSpan=t[t.length-1].length,O.push(e)}x++}(M)}return this.resourceDateTree=this.resourceDateTree.filter(function(e){return e.length>0}),this.lastResourceLevel.forEach(function(e,t){E[parseInt(t.toString(),10)]&&(e.renderDates=E[parseInt(t.toString(),10)].sort(function(e,t){return e.getTime()-t.getTime()}))}),C.unshift(O),C}for(var k=0,R=0,_=S[0];R<_.length;R++){k+=_[R].colSpan}for(var P=0,H=r;P<H.length;P++){var M=H[P];M.colSpan=k,O.push(M);for(var j=i.i(n.extend)([],S,null,!0),L=0,q=j.length;L<q;L++){if(L===j.length-1)for(var N=0,F=j[parseInt(L.toString(),10)];N<F.length;N++){var U=F[N];U.date=M.date,U.workDays=M.workDays,U.startHour=this.parent.getStartEndTime(U.resourceData[U.resource.startHourField])||M.startHour,U.endHour=this.parent.getStartEndTime(U.resourceData[U.resource.endHourField])||M.endHour}C[parseInt(L.toString(),10)]||(C[parseInt(L.toString(),10)]=[]),C[parseInt(L.toString(),10)]=C[parseInt(L.toString(),10)].concat(j[parseInt(L.toString(),10)])}}return C.unshift(O),C},e.prototype.setResourceValues=function(e,t){var r=this,a=function(t,i,n){r.resourceCollection[parseInt(t.toString(),10)].allowMultiple&&r.parent.activeViewOptions.group.allowGroupEdit?e[""+i]=[n]:e[""+i]=n};if(void 0===t&&(t=this.parent.uiStateValues.isGroupAdaptive?this.parent.uiStateValues.groupIndex:this.parent.activeCellsData.groupIndex),this.parent.activeViewOptions.group.resources.length>0&&!i.i(n.isNullOrUndefined)(t))for(var s=this.lastResourceLevel[parseInt(t.toString(),10)].groupOrder,o=0;o<this.resourceCollection.length;o++)a(o,this.resourceCollection[parseInt(o.toString(),10)].field,s[parseInt(o.toString(),10)]);else if(this.parent.resourceCollection.length>0)for(var o=0;o<this.resourceCollection.length;o++){var l=this.resourceCollection[parseInt(o.toString(),10)].dataSource[0];l&&a(o,this.resourceCollection[parseInt(o.toString(),10)].field,l[this.resourceCollection[parseInt(o.toString(),10)].idField])}},e.prototype.getResourceColor=function(e,t){var r=!i.i(n.isNullOrUndefined)(t)&&this.colorIndex>t.length-1?t.length-1:this.colorIndex,a=this.resourceCollection[parseInt(r.toString(),10)];if(!(i.i(n.isNullOrUndefined)(t)&&this.parent.activeViewOptions.group.allowGroupEdit&&a.allowMultiple)){var s=i.i(n.isNullOrUndefined)(t)?e[a.field]:t[parseInt(r.toString(),10)],o=this.filterData(a.dataSource,a.idField,s);return o.length>0?o[0][a.colorField]:void 0}},e.prototype.getCssClass=function(e){var t=this.resourceCollection.slice(-1)[0];if(!this.parent.activeViewOptions.group.allowGroupEdit||!t.allowMultiple){var i=this.filterData(t.dataSource,t.idField,e[t.field]);return i.length>0?i[0][t.cssClassField]:void 0}},e.prototype.getResourceRenderDates=function(){var e=[].concat.apply([],this.lastResourceLevel.map(function(e){return e.renderDates})),t=function(e){return e.filter(function(e,t,i){return i.map(function(e){return e.getTime()}).indexOf(e.getTime())===t})}(e);return t.sort(function(e,t){return e.getTime()-t.getTime()}),t},e.prototype.filterData=function(e,t,i){return e.filter(function(e){return e[""+t]===i})},e.prototype.getResourceData=function(e,t,r){if(this.parent.activeViewOptions.group.allowGroupEdit){for(var a={},s=0,o=r;s<o.length;s++)for(var l=o[s],c=this.lastResourceLevel[parseInt(l.toString(),10)].groupOrder,p=0,d=c.length;p<d;p++){var h=this.resourceCollection[parseInt(p.toString(),10)].field;i.i(n.isNullOrUndefined)(a[""+h])&&(a[""+h]=[]),a[""+h].push(c[parseInt(p.toString(),10)])}e=i.i(n.extend)(e,a)}else for(var p=0,u=this.resourceCollection.length;p<u;p++)this.lastResourceLevel[parseInt(t.toString(),10)]&&(e[this.resourceCollection[parseInt(p.toString(),10)].field]=this.lastResourceLevel[parseInt(t.toString(),10)].groupOrder[parseInt(p.toString(),10)])},e.prototype.addResource=function(e,t,i){for(var n=e instanceof Array?e:[e],a=0,s=this.parent.resourceCollection;a<s.length;a++){var o=s[a];if("break"===function(e){if(e.name===t)return n.forEach(function(t,n){return new r.DataManager({json:e.dataSource}).insert(t,null,null,i+n)}),"break"}(o))break}this.refreshLayout(!0)},e.prototype.removeResource=function(e,t){for(var i=e instanceof Array?e:[e],n=0,a=this.parent.resourceCollection;n<a.length;n++){var s=a[n];if("break"===function(e){if(e.name===t)return i.forEach(function(t){return new r.DataManager({json:e.dataSource}).remove(e.idField,t)}),"break"}(s))break}this.refreshLayout(!0)},e.prototype.getIndexFromResourceId=function(e,t,r,a,s){if(t=t||this.parent.resourceCollection.slice(-1)[0].name,i.i(n.isNullOrUndefined)(r)&&(r=this.resourceCollection.filter(function(e){return e.name===t})[0],i.i(n.isNullOrUndefined)(r)))return null;var o=r.dataSource.filter(function(t){return a&&t[r.idField]===e?t[r.groupIDField]===a[""+s]?t[r.idField]===e:null:t[r.idField]===e})[0];return this.lastResourceLevel.map(function(e){return e.resourceData}).indexOf(o)},e.prototype.resourceExpand=function(e,t,i){var n=this.parent.resourceCollection.filter(function(e){return e.name===t?e:null})[0],r=0,a=n.dataSource.filter(function(t){return t[n.idField]===e})[0];r=this.parent.activeViewOptions.group.byGroupID?this.lastResourceLevel.map(function(e){return e.resourceData}).indexOf(a):this.getIndexFromResourceId(e,t,n);var s=this.parent.element.querySelector("."+l.x+' [data-group-index="'+r+'"] .'+l._63);s&&(s.classList.contains(l._169)&&!i?s.click():s.classList.contains(l._168)&&i&&s.click())},e.prototype.resourceScroll=function(e,t){if(!(this.parent.isAdaptive||["Agenda","MonthAgenda"].indexOf(this.parent.currentView)>-1)){var i=t||this.parent.resourceCollection.slice(-1)[0].name,n=this.parent.resourceCollection.length-1,r=this.parent.resourceCollection.filter(function(e,t){return e.name===i?(n=t,e):null})[0],a=this.parent.element.querySelector("."+l.g),s=0;if(this.parent.activeView.isTimelineView()){if(this.parent.activeViewOptions.group.byGroupID){var o=r.dataSource.filter(function(t){return t[r.idField]===e})[0];s=this.lastResourceLevel.map(function(e){return e.resourceData}).indexOf(o)}else s=this.getIndexFromResourceId(e,i,r);if(this.parent.virtualScrollModule){var c=this.parent.element.querySelector("."+l._170),p=Math.round(c.offsetHeight/this.expandedResources.length);if(this.parent.rowAutoHeight&&(a.scrollTop=0,this.parent.virtualScrollModule.virtualScrolling()),a.scrollTop=s*p-(this.parent.virtualScrollModule.bufferCount-1)*p,this.parent.virtualScrollModule.virtualScrolling(),this.parent.rowAutoHeight){var d=this.parent.element.querySelector("."+l.n+'[data-group-index="'+s+'"]');d&&!d.parentElement.classList.contains(l._67)&&(a.scrollTop=a.scrollTop<d.offsetTop?d.offsetTop:a.scrollTop+d.offsetTop)}else a.scrollTop=s*p}else{var d=this.parent.element.querySelector("."+l.n+'[data-group-index="'+s+'"]');d&&!d.parentElement.classList.contains(l._67)&&(a.scrollTop=d.offsetTop)}}else{s=this.parent.activeViewOptions.group.byGroupID?i===this.parent.resourceCollection.slice(-1)[0].name?this.lastResourceLevel.map(function(e){return e.resourceData[r.idField]}).indexOf(e):r.dataSource.map(function(e){return e[r.idField]}).indexOf(e):this.getIndexFromResourceId(e,i,r);var h=this.parent.element.querySelector("."+l._3+":nth-child("+(n+1)+")"),u=[].slice.call(h.children).map(function(e){return e.offsetLeft});a.scrollLeft=u[parseInt(s.toString(),10)]}}},e.prototype.destroy=function(){if(this.parent.off(c.I,this.documentClick),this.treeViewObj){if(this.treeViewObj.portals&&this.treeViewObj.portals.length>0){var e=this.treeViewObj.portals.map(function(e){return e.propName});e.length>0&&this.parent.resetTemplates(e)}this.treeViewObj.destroy(),this.treeViewObj=null}this.treePopup&&(this.treePopup.destroy(),this.treePopup=null,i.i(n.remove)(this.parent.element.querySelector("."+l._175)),i.i(n.remove)(this.parent.element.querySelector("."+l._174)));var t=this.parent.element.querySelector("."+l._24);t&&i.i(n.remove)(t)},e}()},function(e,t,i){"use strict";i.d(t,"a",function(){return p});var n=i(0),r=(i.n(n),i(15)),a=i(5),s=i(7),o=i(3),l=i(2),c=i(1),p=function(){function e(e){this.parent=e,this.parent.on(l.w,this.inlineEdit,this)}return e.prototype.inlineEdit=function(e){if(this.parent.quickPopup&&this.parent.quickPopup.quickPopupHide(),"Cell"===e.type){var t=this.parent.element.querySelector("."+o._90);t&&t.classList.contains(o.T)&&this.parent.quickPopup.morePopup.hide(),this.removeInlineAppointmentElement(),this.cellEdit(e)}else this.parent.element.querySelector("."+o._1)!==e.element.querySelector("."+o._1)&&this.removeInlineAppointmentElement(),this.eventEdit(e)},e.prototype.cellEdit=function(e){var t=this.generateEventData(),i=e.element.cellIndex,n=this.getEventDaysCount(t);n>1&&(n=Math.round(n),n--,i-=n);var r=c.b(new Date(""+t[this.parent.eventFields.startTime])).getTime(),a=c.b(new Date(""+t[this.parent.eventFields.endTime])).getTime(),s=e.groupIndex||0,l="Day"===this.parent.currentView||"Week"===this.parent.currentView||"WorkWeek"===this.parent.currentView;if(this.parent.activeViewOptions.timeScale.enable&&l){var p=t[this.parent.eventFields.startTime].getDay();this.createVerticalViewInline(t,p,s,i)}else"Month"===this.parent.currentView||!this.parent.activeViewOptions.timeScale.enable&&l?this.createMonthViewInline(t,s,r,a):this.createTimelineViewInline(t,r,a,s);var d=this.parent.element.querySelector("."+o._1);d&&d.focus()},e.prototype.eventEdit=function(e){var t,r=e.element.querySelector("."+o._1);if(r)t=r.value;else{var a=e.element.querySelector("."+o.H);if(i.i(n.isNullOrUndefined)(a)?t=e.data[this.parent.eventFields.subject]:(i.i(n.addClass)([a],o.J),t=a.innerText),r=i.i(n.createElement)("input",{className:o._1,attrs:{value:t}}),i.i(n.closest)(e.element,"."+o._90))e.element.insertBefore(r,a);else if(["Agenda","MonthAgenda"].indexOf(this.parent.currentView)>-1){var s=e.element.querySelector("."+o._43);i.i(n.isNullOrUndefined)(s)&&(s=i.i(n.createElement)("div",{className:o._43}),e.element.prepend(s)),s.insertBefore(r,s.firstChild)}else e.element.querySelector(".e-appointment-details").prepend(r);r.focus()}r.setSelectionRange(t.length,t.length)},e.prototype.createVerticalViewInline=function(e,t,i,n){var a,s=this.getEventDaysCount(e),l=new r.a(this.parent);l.initializeValues();var c=l.dateRender[parseInt(i.toString(),10)].map(function(e){return e.getDay()}).indexOf(t);if(s>=1){l.allDayElement=[].slice.call(this.parent.element.querySelectorAll("."+o._4)),(a=l.slots).push.apply(a,this.parent.activeView.renderDates.map(function(e){return+e}));var p=[].slice.call(this.parent.element.querySelectorAll("."+o._30)),d=0;p.length>0&&(d=Math.floor(this.parent.element.querySelector("."+o._27).getBoundingClientRect().height/p[0].offsetHeight)-1),l.allDayLevel=d,l.renderAllDayEvents(e,c,i,n,this.parent.allowInline)}else l.renderNormalEvents(e,c,i,n,this.parent.allowInline)},e.prototype.createMonthViewInline=function(e,t,i,n){var r=this.getEventDaysCount(e),s=this.parent.eventBase.cloneEventObject(e,i,n,r,!1,!1),l=new a.a(this.parent);l.dateRender=this.parent.activeView.renderDates,l.inlineValue=this.parent.allowInline;var p=this.parent.activeView.renderDates,d=this.parent.activeViewOptions.workDays,h="."+o.n;if(this.parent.activeViewOptions.group.resources.length>0){h+='[data-group-index="'+t+'"]';var u=this.parent.resourceBase.lastResourceLevel[parseInt(t.toString(),10)];p=u.renderDates,d=u.workDays}l.dateRender=p,l.workCells=[].slice.call(this.parent.element.querySelectorAll(h)),l.cellWidth=l.workCells[0].offsetWidth,l.cellHeight=l.workCells[0].offsetHeight,l.eventHeight=c.h(this.parent.monthModule.element||l.element,o.D),l.getSlotDates(d);for(var g=l.getRenderedDates(p),v=l.splitEvent(s,g||p),f=0,m=v;f<m.length;f++){var y=m[f];l.renderEvents(y,t)}this.parent.element.querySelector("."+o._1).focus()},e.prototype.createTimelineViewInline=function(e,t,i,n){var r=this.getEventDaysCount(e),a=this.parent.eventBase.cloneEventObject(e,t,i,r,!1,!1),l=new s.a(this.parent,this.parent.activeViewOptions.timeScale.enable?"hour":"day");l.dateRender=this.parent.activeView.renderDates,l.eventContainers=[].slice.call(this.parent.element.querySelectorAll("."+o.l));var p=this.parent.element.querySelector("."+o.n);l.inlineValue=this.parent.allowInline,l.cellWidth=p.offsetWidth,l.cellHeight=p.offsetHeight;var d=0===this.parent.element.querySelectorAll("."+o.h+" tbody tr").length?0:this.parent.element.querySelectorAll("."+o.h+" tbody tr")[0].children.length;l.slotsPerDay=d/l.dateRender.length,l.eventHeight=c.h(l.element,o.D),l.renderEvents(a,n)},e.prototype.getEventDaysCount=function(e){var t=e[this.parent.eventFields.startTime],i=e[this.parent.eventFields.endTime];return Math.abs(i.getTime()-t.getTime())/c.c},e.prototype.generateEventData=function(e){var t=this.parent.element.querySelector("."+o._1),i=t?t.value:e?e.innerHTML:"",n={};return n[this.parent.eventFields.id]=this.parent.eventBase.getEventMaxID(),n[this.parent.eventFields.subject]=i,n[this.parent.eventFields.startTime]=this.parent.activeCellsData.startTime,n[this.parent.eventFields.endTime]=this.parent.activeCellsData.endTime,n[this.parent.eventFields.isAllDay]=this.parent.activeCellsData.isAllDay,this.parent.eventWindow.setDefaultValueToObject(n),this.parent.resourceBase&&this.parent.resourceBase.setResourceValues(n,this.parent.activeCellsData.groupIndex),n},e.prototype.documentClick=function(){var e=this.parent.element.querySelector("."+o._1);e&&""!==e.value?this.inlineCrudActions(e):this.removeInlineAppointmentElement()},e.prototype.inlineCrudActions=function(e){if(i.i(n.closest)(e,"."+o._2)){var t=this.generateEventData(e);this.parent.addEvent(t)}else{var r=i.i(n.closest)(e,"."+o.D),a=this.parent.getEventDetails(r);a[this.parent.eventFields.subject]=e.value;var s=void 0;a[this.parent.eventFields.id]===a[this.parent.eventFields.recurrenceID]&&(s="EditOccurrence",a[this.parent.eventFields.id]=this.parent.eventBase.getEventMaxID()),this.parent.saveEvent(a,s)}this.removeInlineAppointmentElement()},e.prototype.createInlineAppointmentElement=function(e){var t=i.i(n.createElement)("div",{className:o.D+" "+o._2}),r=i.i(n.createElement)("div",{className:o.G});t.appendChild(r);var a=i.i(n.createElement)("input",{className:o._1});return r.appendChild(a),e&&this.parent.eventBase.applyResourceColor(t,e,"backgroundColor"),t},e.prototype.removeInlineAppointmentElement=function(){var e=[].slice.call(this.parent.element.querySelectorAll("."+o._2));e.length>0&&e.forEach(function(e){return i.i(n.remove)(e)});var t=this.parent.element.querySelector("."+o._1);if(t){var r=i.i(n.closest)(t,"."+o.D),a=r.querySelector("."+o.H);i.i(n.isNullOrUndefined)(a)||i.i(n.removeClass)([a],o.J),i.i(n.remove)(t)}},e.prototype.destroy=function(){this.parent.off(l.w,this.inlineEdit)},e}()},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(0),r=(i.n(n),i(4)),a=function(){function e(e){this.parent=e}return e.prototype.initializeCalendarExport=function(e,t){var i=this.getCalendarString(e,t);this.download(i,e)},e.prototype.getCalendarString=function(e,t){var a=this,s=t||i.i(n.extend)([],this.parent.eventsData,null,!0);s=this.parent.eventBase.sortByTime(s);var o=-1!==navigator.appVersion.indexOf("Win")?"\r\n":"\n",l=[],c=[],p=this.parent.timezone||this.parent.tzModule.getLocalTimezoneName(),d=this.parent.eventFields;return s.forEach(function(e){var t=e[d.id]||e.Guid||a.parent.eventBase.generateGuid(),h=[];if(e[d.recurrenceID]){var u=a.filterEvents(c,d.id,e[d.recurrenceID]);t=u.length>0?u[0].UID:t}if(!e[d.recurrenceID]&&e[d.recurrenceRule]&&e[d.recurrenceException]){var g=e[d.recurrenceException].split(",");a.filterEvents(s,d.recurrenceID,e[d.id]).forEach(function(e){h.push(i.i(r.f)(e[d.startTime]))});var v=g.filter(function(e){return-1===h.indexOf(e)});e[d.recurrenceException]=v.length>0?v.join(",")+",":""}var f=e[d.startTimezone]||p,m=e[d.endTimezone]||p,y=!!e[d.isReadonly]&&e[d.isReadonly],T=["BEGIN:VEVENT","LOCATION:"+(e[d.location]||""),"SUMMARY:"+(e[d.subject]||""),"UID:"+t,"DESCRIPTION:"+(e[d.description]||""),"ISREADONLY:"+y,"END:VEVENT"];if(e[d.isAllDay]?(T.splice(4,0,"DTEND;VALUE=DATE:"+a.convertDateToString(e[d.endTime],!0)),T.splice(4,0,"DTSTART;VALUE=DATE:"+a.convertDateToString(e[d.startTime],!0))):e[d.isAllDay]||e[d.recurrenceRule]?(T.splice(4,0,'DTEND;TZID="'+m+'":'+a.convertDateToString(e[d.endTime])),T.splice(4,0,'DTSTART;TZID="'+f+'":'+a.convertDateToString(e[d.startTime]))):(T.splice(4,0,"DTEND:"+a.convertDateToString(e[d.endTime])),T.splice(4,0,"DTSTART:"+a.convertDateToString(e[d.startTime]))),e[d.recurrenceRule]&&T.splice(4,0,"RRULE:"+e[d.recurrenceRule]),e[d.recurrenceException])for(var g=e[d.recurrenceException].split(","),D=0;D<g.length-1;D++)T.splice(5,0,"EXDATE:"+a.convertDateToString(i.i(r.c)(g[parseInt(D.toString(),10)]),e[d.isAllDay]));e[d.recurrenceID]&&T.splice(4,0,'RECURRENCE-ID;TZID="'+f+'":'+a.convertDateToString(e[d.startTime],e[d.isAllDay]));var w=a.customFieldFilter(e,d);w.length>0&&w.forEach(function(t){return T.splice(4,0,t+":"+(e[""+t]||""))});var b=i.i(n.extend)({},e);b.UID=t,c.push(b),l.push(T.join(o))}),["BEGIN:VCALENDAR","PRODID:-//Syncfusion Inc//Scheduler//EN","VERSION:2.0","CALSCALE:GREGORIAN","METHOD:PUBLISH","X-WR-CALNAME:"+(e||"Calendar"),"X-WR-TIMEZONE:"+p].join(o)+o+l.join(o)+o+"END:VCALENDAR"},e.prototype.customFieldFilter=function(e,t){var i=Object.keys(t).map(function(e){return t[""+e]});return Object.keys(e).filter(function(e){return-1===i.indexOf(e)&&"Guid"!==e})},e.prototype.convertDateToString=function(e,t){var i=("0000"+e.getFullYear().toString()).slice(-4),n=("00"+(e.getMonth()+1).toString()).slice(-2),r=("00"+e.getDate().toString()).slice(-2),a=("00"+e.getHours().toString()).slice(-2),s=("00"+e.getMinutes().toString()).slice(-2),o=("00"+e.getSeconds().toString()).slice(-2);return t?i+n+r:i+n+r+"T"+a+s+o},e.prototype.download=function(e,t){var i=new Blob([e],{type:"data:text/calendar;charset=utf8"});if(t=(t||"Calendar")+".ics",navigator.msSaveBlob)navigator.msSaveBlob(i,t);else{var n=document.createElementNS("http://www.w3.org/1999/xhtml","a");n.download=t,n.href=URL.createObjectURL(i);var r=document.createEvent("MouseEvent");r.initEvent("click",!0,!0),n.dispatchEvent(r),setTimeout(function(){URL.revokeObjectURL(n.href),n.href=void 0})}},e.prototype.filterEvents=function(e,t,i){return e.filter(function(e){return e[""+t]===i})},e.prototype.getModuleName=function(){return"iCalendarExport"},e.prototype.destroy=function(){!this.parent||this.parent&&this.parent.isDestroyed||(this.parent=null)},e}()},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(0),r=(i.n(n),i(4)),a=function(){function e(e){this.allDay=!1,this.parent=e}return e.prototype.initializeCalendarImport=function(e){var t=this;if(e&&e instanceof Blob){var i=new FileReader;i.onload=function(){var e=i.result;t.iCalendarParser(e)},i.readAsText(e,"UTF-8")}else e&&"string"==typeof e&&this.iCalendarParser(e)},e.prototype.iCalendarParser=function(e){var t,a=this,s=this.parent.eventFields,o=[],l=e.replace(new RegExp("\\r","g"),"").split("\n"),c=!1,p=this.parent.eventBase.getEventMaxID(),d=0;l.forEach(function(e){var l,h,u;if(c||"BEGIN:VEVENT"!==e||(c=!0,t={}),c&&"END:VEVENT"===e&&(c=!1,o.push(t),t=null),c)if(l=e.indexOf(":"),h=e.substr(0,l).replace(/^\s\s*/,"").replace(/\s\s*$/,""),u=e.substr(l+1,e.length-(l+1)).replace(/^\s\s*/,"").replace(/\s\s*$/,""),-1!==e.indexOf("SUMMARY")&&(h="SUMMARY"),-1!==e.indexOf("DTSTART"))t[s.startTime]=a.dateParsing(e),t[s.isAllDay]=a.allDay,a.allDay=!1;else if(-1!==e.indexOf("DTEND"))t[s.endTime]=a.dateParsing(e);else if(-1!==e.indexOf("EXDATE"))u=i.i(r.f)(a.dateParsing(e)),t[s.recurrenceException]=i.i(n.isNullOrUndefined)(t[s.recurrenceException])?u:t[s.recurrenceException]+","+u;else if(-1!==e.indexOf("RECURRENCE-ID"))u=i.i(r.f)(a.dateParsing(e)),t[s.recurrenceException]=u,t[s.recurrenceID]=u;else switch(h){case"BEGIN":break;case"UID":t.UID=u,"number"==typeof p?(t[s.id]=parseInt(u,10),isNaN(t[s.id])&&(t[s.id]=p+d,d++)):t[s.id]=u;break;case"SUMMARY":t[s.subject]=u;break;case"LOCATION":t[s.location]=u;break;case"DESCRIPTION":t[s.description]=u;break;case"ISREADONLY":t[s.isReadonly]=u.indexOf("true")>-1;break;case"RRULE":t[s.recurrenceRule]=u;break;default:if(a.parent.resourceCollection.length>0){var g=a.parent.resourceCollection.filter(function(e){return e.field===h});t[""+h]=g.length>0&&"number"==typeof g[0].dataSource[0][g[0].idField]?parseInt(u,10):u}else t[""+h]=u}});var h=i.i(n.extend)([],o,null,!0);this.parent.addEvent(this.processOccurrence(h,p))},e.prototype.processOccurrence=function(e,t){var r=this,a=[],s=this.parent.eventFields,o=[];return this.parent.eventsData.forEach(function(e){o.push(e[s.id])}),e.forEach(function(l){var c,p;if(l.hasOwnProperty(s.recurrenceID)||(c=l,p=l[s.id]),o.indexOf(l[s.id])<0){var d=e.filter(function(e){return e.UID===l.UID});if(d.length>1&&i.i(n.isNullOrUndefined)(l[s.recurrenceID])){p="number"==typeof t?t++:p;for(var h=0;h<d.length;h++)if(d[parseInt(h.toString(),10)].hasOwnProperty(s.recurrenceID)){var u=d[parseInt(h.toString(),10)][s.recurrenceID];d[parseInt(h.toString(),10)][s.id]="number"==typeof t?t++:r.parent.eventBase.generateGuid(),d[parseInt(h.toString(),10)][s.recurrenceID]=p,d[parseInt(h.toString(),10)][s.recurrenceException]=null,c[s.recurrenceException]=r.getExcludeDateString(c[s.recurrenceException],u),delete d[parseInt(h.toString(),10)].UID,a.push(d[parseInt(h.toString(),10)])}delete c.UID,c[s.id]=p,a.push(c)}else l.hasOwnProperty(s.recurrenceID)||(delete l.UID,l[s.id]="number"==typeof t?t++:p,a.push(l))}}),a},e.prototype.getExcludeDateString=function(e,t){if(i.i(n.isNullOrUndefined)(e))return t;if(i.i(n.isNullOrUndefined)(t))return e;var r=e.split(",").map(function(e){return e.split("T")[0]}),a=t.split(",").map(function(e){return e.split("T")[0]});return r.filter(function(e){return a.indexOf(e)>-1}).length>0?e:e+","+t},e.prototype.getDateString=function(e){return e=e||"",e.replace(/\\\,/g,",").replace(/\\\;/g,";").replace(/\\[nN]/g,"\n").replace(/\\\\/g,"\\")},e.prototype.dateParsing=function(e){var t=e.split(":"),i=t[t.length-1],n=new Date(this.getDateString(i));if(e&&(e.indexOf("VALUE=DATE")>-1||e.indexOf("RECURRENCE-ID;TZID")>-1)){var r=/^(\d{4})(\d{2})(\d{2})$/.exec(i);null!==r&&(n=new Date(parseInt(r[1],10),parseInt(r[2],10)-1,parseInt(r[3],10))),e.indexOf("DTSTART")>-1&&(this.allDay=!0)}var a=/^(\d{4})(\d{2})(\d{2})T(\d{2})(\d{2})(\d{2})(Z)?$/.exec(i);return null!==a&&(n="Z"===a[7]?new Date(Date.UTC(parseInt(a[1],10),parseInt(a[2],10)-1,parseInt(a[3],10),parseInt(a[4],10),parseInt(a[5],10),parseInt(a[6],10))):new Date(parseInt(a[1],10),parseInt(a[2],10)-1,parseInt(a[3],10),parseInt(a[4],10),parseInt(a[5],10),parseInt(a[6],10))),n},e.prototype.getModuleName=function(){return"iCalendarImport"},e.prototype.destroy=function(){!this.parent||this.parent&&this.parent.isDestroyed},e}()},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(71),r=(i.n(n),i(0)),a=(i.n(r),function(){function e(e){this.parent=e}return e.prototype.initializeExcelExport=function(e){void 0===e&&(e={});var t,n=this.getExportColumns(e),a=e.fileName||"Schedule",s=e.exportType||"xlsx",o=e.includeOccurrences||!1;i.i(r.isNullOrUndefined)(e.separator)||","===e.separator||(t=e.separator);var l;l=e.customData?o?this.parent.eventBase.getProcessedEvents(e.customData):e.customData:o?this.parent.eventsProcessed:this.parent.eventsData,this.processWorkbook(n,a,s,l,t)},e.prototype.processWorkbook=function(e,t,a,s,o){var l=this,c=[],p=[],d=[];e.forEach(function(e,t){c.push({index:t+1,width:"Id"===e.name?50:150})});var h={fontSize:12,borders:{color:"#E0E0E0"},bold:!0};e.forEach(function(e,t){d.push({index:t+1,value:e.text,style:h})}),p.push({index:1,cells:d}),s.forEach(function(t,n){var a=[];e.forEach(function(e,n){var s={index:n+1,value:t[e.name]||""};if(e.name===l.parent.eventFields.startTime||e.name===l.parent.eventFields.endTime){var o={fontSize:12,numberFormat:"m/d/yyyy h:mm AM/PM"};s=i.i(r.extend)({},s,{style:o},!0)}a.push(s)}),p.push({index:n+2,cells:a})});var u=[{columns:c,rows:p}];new n.Workbook({worksheets:u},a,this.parent.locale,void 0,o).save(t+"."+a)},e.prototype.getExportColumns=function(e){var t=this,i=e.fieldsInfo||[];if(0===i.length){(e.fields||Object.keys(this.parent.eventFields).map(function(e){return t.parent.eventFields[""+e]})).forEach(function(e){i.push({name:e,text:e})})}return i},e.prototype.getModuleName=function(){return"excelExport"},e.prototype.destroy=function(){this.parent=null},e}())},function(e,t,i){"use strict";var n=i(54);i.d(t,"a",function(){return n.a});var r=i(55);i.d(t,"b",function(){return r.a});var a=i(56);i.d(t,"c",function(){return a.a});var s=i(58);i.d(t,"d",function(){return s.a})},function(e,t,i){"use strict";i.d(t,"a",function(){return f});var n=i(0),r=(i.n(n),i(23)),a=i(35),s=i(16),o=i(33),l=i(34),c=i(31),p=i(28),d=i(9),h=i(37),u=i(36),g=i(29),v=i(2),f=function(){function e(e){this.parent=e}return e.prototype.print=function(e){i.i(n.isNullOrUndefined)(e)?this.printScheduler():this.printSchedulerWithModel(e)},e.prototype.printScheduler=function(){var e=this.parent.element.cloneNode(!0);e.id=this.parent.element.id+"_print",document.body.appendChild(e);for(var t="MonthAgenda"===this.parent.currentView?".e-appointment-wrap":".e-content-wrap",r=this.parent.element.querySelector(t),a=[].slice.call(document.getElementsByTagName("head")[0].querySelectorAll("link, style")),s="",o=0,l=a;o<l.length;o++){s+=l[o].outerHTML}var c=i.i(n.createElement)("div");e.style.width=this.parent.element.offsetWidth+"px";var p=100*Math.round(parseInt(e.style.width,10)/100);c.appendChild(e);var d=window.open("","print","height=550,width="+p+",tabbar=no");d.document.write("<!DOCTYPE html><html><head>"+s+"</head><body>"+c.innerHTML+"<script>(function() { window.ready = true; })();<\/script></body></html>"),d.document.close(),d.focus(),setTimeout(function(){if(d.ready&&r){r.scrollLeft=r.scrollLeft,r.scrollTop=r.scrollTop;var e=d.document.querySelector(".e-date-header-wrap");e&&(e.scrollLeft=r.scrollLeft);var t=d.document.querySelector(".e-time-cells-wrap");t&&(t.scrollTop=r.scrollTop),d.print(),d.close()}},500)},e.prototype.printSchedulerWithModel=function(e){var t=i.i(n.createElement)("div",{id:this.parent.element.id+"_print",className:"e-print-schedule"});document.body.appendChild(t),r.a.Inject(g.a,u.a,h.a,d.a,p.a,c.a,l.a,o.a,s.a,a.a),this.printInstance=new r.a(this.getPrintScheduleModel(e)),this.printInstance.isPrinting=!0,this.printInstance.appendTo(t),this.printInstance.on(v.A,this.contentReady,this),this.printWindow=window.open("","print","height="+window.outerHeight+",width="+window.outerWidth+",tabbar=no"),this.printWindow.moveTo(0,0),this.printWindow.resizeTo(screen.availWidth,screen.availHeight)},e.prototype.getPrintScheduleModel=function(e){for(var t,r,a,s,o={},l=["agendaDaysCount","calendarMode","cssClass","currentView","dateFormat","enableRtl","endHour","eventSettings","firstDayOfWeek","firstMonthOfYear","group","height","locale","maxDate","minDate","readonly","resources","rowAutoHeight","selectedDate","showHeaderBar","showTimeIndicator","showWeekNumber","showWeekend","startHour","timeFormat","timeScale","timezone","views","width","workDays","workHours","dateHeaderTemplate","dateRangeTemplate","cellHeaderTemplate","dayHeaderTemplate","monthHeaderTemplate","cellTemplate","resourceHeaderTemplate","headerIndentTemplate","actionBegin","actionComplete","actionFailure","created","dataBinding","dataBound","destroyed","eventRendered","moreEventsClick","navigating","popupOpen","popupClose","renderCell"],c=["cellHeaderTemplate","dayHeaderTemplate","monthHeaderTemplate","cellTemplate","dateHeaderTemplate","dateRangeTemplate","eventTemplate","resourceHeaderTemplate","headerIndentTemplate"],p=["actionBegin","actionComplete","actionFailure","created","dataBinding","dataBound","destroyed","eventRendered","moreEventsClick","navigating","popupOpen","popupClose","renderCell"],d=0,h=l;d<h.length;d++){var u=h[d];switch(u){case"eventSettings":t=Object.assign({},this.parent.eventSettings.properties),t.dataSource=this.parent.eventsData;var g=i.i(n.isNullOrUndefined)(e.eventSettings)||i.i(n.isNullOrUndefined)(e.eventSettings.template)?t.template:e.eventSettings.template;t.template="function"==typeof g?null:g,o.eventSettings=t;break;case"group":r=i.i(n.isNullOrUndefined)(e.group)?this.parent.group:e.group,r.headerTooltipTemplate=null,o.group=r;break;case"timeScale":a=i.i(n.isNullOrUndefined)(e.timeScale)?this.parent.timeScale:e.timeScale,a.majorSlotTemplate="function"==typeof a.majorSlotTemplate?null:a.majorSlotTemplate,a.minorSlotTemplate="function"==typeof a.minorSlotTemplate?null:a.minorSlotTemplate,e.timeScale=a;break;case"views":if((s=i.i(n.isNullOrUndefined)(e.views)?this.parent.views:e.views)&&s.length>0&&"object"==typeof s[0])for(var v=0,f=s;v<f.length;v++){var m=f[v];!function(e){c.forEach(function(t){i.i(n.isNullOrUndefined)(e[""+t])||(e[""+t]="function"==typeof e[""+t]?null:e[""+t])})}(m)}o.views=s;break;default:if(c.indexOf(u)>-1){o[""+u]=i.i(n.isNullOrUndefined)(e[""+u])?"function"==typeof this.parent[""+u]?null:this.parent[""+u]:"function"==typeof e[""+u]?null:e[""+u];break}if(p.indexOf(u)>-1){o[""+u]=e[""+u];break}o[""+u]=i.i(n.isNullOrUndefined)(e[""+u])?this.parent[""+u]:e[""+u]}}return o},e.prototype.contentReady=function(){var e=this;this.printWindow=i.i(n.print)(this.printInstance.element,this.printWindow),this.printWindow.onbeforeunload=function(){e.printInstance.off(v.A,e.contentReady),e.printInstance.element.remove(),e.printInstance.destroy(),e.printInstance=null,e.printWindow=null}},e.prototype.getModuleName=function(){return"print"},e.prototype.destroy=function(){this.parent=null},e}()},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(0),r=(i.n(n),i(61)),a=this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),s=this&&this.__decorate||function(e,t,i,n){var r,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(a<3?r(s):a>3?r(t,i,s):r(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),s([i.i(n.Property)()],t.prototype,"template",void 0),s([i.i(n.Property)([])],t.prototype,"dataSource",void 0),s([i.i(n.Property)()],t.prototype,"query",void 0),s([i.i(n.Complex)({},r.a)],t.prototype,"fields",void 0),s([i.i(n.Property)(!1)],t.prototype,"enableTooltip",void 0),s([i.i(n.Property)("AllDayRow")],t.prototype,"spannedEventPlacement",void 0),s([i.i(n.Property)(1)],t.prototype,"minimumEventDuration",void 0),s([i.i(n.Property)()],t.prototype,"tooltipTemplate",void 0),s([i.i(n.Property)()],t.prototype,"resourceColorField",void 0),s([i.i(n.Property)(!1)],t.prototype,"editFollowingEvents",void 0),s([i.i(n.Property)(!0)],t.prototype,"allowAdding",void 0),s([i.i(n.Property)(!0)],t.prototype,"allowEditing",void 0),s([i.i(n.Property)(!0)],t.prototype,"allowDeleting",void 0),s([i.i(n.Property)(!1)],t.prototype,"enableMaxHeight",void 0),s([i.i(n.Property)(!1)],t.prototype,"enableIndicator",void 0),s([i.i(n.Property)(!1)],t.prototype,"ignoreWhitespace",void 0),s([i.i(n.Property)()],t.prototype,"sortComparer",void 0),s([i.i(n.Property)()],t.prototype,"includeFiltersInQuery",void 0),t}(n.ChildProperty)},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(0),r=(i.n(n),this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}()),a=this&&this.__decorate||function(e,t,i,n){var r,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(a<3?r(s):a>3?r(t,i,s):r(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),a([i.i(n.Property)()],t.prototype,"name",void 0),a([i.i(n.Property)()],t.prototype,"default",void 0),a([i.i(n.Property)()],t.prototype,"title",void 0),a([i.i(n.Property)({})],t.prototype,"validation",void 0),t}(n.ChildProperty)},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(0),r=(i.n(n),i(60)),a=this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),s=this&&this.__decorate||function(e,t,i,n){var r,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(a<3?r(s):a>3?r(t,i,s):r(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),s([i.i(n.Property)("Id")],t.prototype,"id",void 0),s([i.i(n.Property)("IsBlock")],t.prototype,"isBlock",void 0),s([i.i(n.Complex)({name:"Subject"},r.a)],t.prototype,"subject",void 0),s([i.i(n.Complex)({name:"StartTime"},r.a)],t.prototype,"startTime",void 0),s([i.i(n.Complex)({name:"EndTime"},r.a)],t.prototype,"endTime",void 0),s([i.i(n.Complex)({name:"StartTimezone"},r.a)],t.prototype,"startTimezone",void 0),s([i.i(n.Complex)({name:"EndTimezone"},r.a)],t.prototype,"endTimezone",void 0),s([i.i(n.Complex)({name:"Location"},r.a)],t.prototype,"location",void 0),s([i.i(n.Complex)({name:"Description"},r.a)],t.prototype,"description",void 0),s([i.i(n.Complex)({name:"IsAllDay"},r.a)],t.prototype,"isAllDay",void 0),s([i.i(n.Complex)({name:"RecurrenceID"},r.a)],t.prototype,"recurrenceID",void 0),s([i.i(n.Complex)({name:"RecurrenceRule"},r.a)],t.prototype,"recurrenceRule",void 0),s([i.i(n.Complex)({name:"RecurrenceException"},r.a)],t.prototype,"recurrenceException",void 0),s([i.i(n.Property)("IsReadonly")],t.prototype,"isReadonly",void 0),s([i.i(n.Property)("FollowingID")],t.prototype,"followingID",void 0),t}(n.ChildProperty)},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(0),r=(i.n(n),this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}()),a=this&&this.__decorate||function(e,t,i,n){var r,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(a<3?r(s):a>3?r(t,i,s):r(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),a([i.i(n.Property)(!1)],t.prototype,"byDate",void 0),a([i.i(n.Property)(!0)],t.prototype,"byGroupID",void 0),a([i.i(n.Property)(!1)],t.prototype,"allowGroupEdit",void 0),a([i.i(n.Property)([])],t.prototype,"resources",void 0),a([i.i(n.Property)(!0)],t.prototype,"enableCompactView",void 0),a([i.i(n.Property)()],t.prototype,"headerTooltipTemplate",void 0),a([i.i(n.Property)(!1)],t.prototype,"hideNonWorkingDays",void 0),t}(n.ChildProperty)},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(0),r=(i.n(n),this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}()),a=this&&this.__decorate||function(e,t,i,n){var r,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(a<3?r(s):a>3?r(t,i,s):r(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),a([i.i(n.Property)()],t.prototype,"option",void 0),a([i.i(n.Property)()],t.prototype,"template",void 0),t}(n.ChildProperty)},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(0),r=(i.n(n),this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}()),a=this&&this.__decorate||function(e,t,i,n){var r,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(a<3?r(s):a>3?r(t,i,s):r(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),a([i.i(n.Property)("Both")],t.prototype,"templateType",void 0),a([i.i(n.Property)()],t.prototype,"header",void 0),a([i.i(n.Property)()],t.prototype,"content",void 0),a([i.i(n.Property)()],t.prototype,"footer",void 0),t}(n.ChildProperty)},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(0),r=(i.n(n),this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}()),a=this&&this.__decorate||function(e,t,i,n){var r,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(a<3?r(s):a>3?r(t,i,s):r(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),a([i.i(n.Property)()],t.prototype,"field",void 0),a([i.i(n.Property)()],t.prototype,"title",void 0),a([i.i(n.Property)()],t.prototype,"name",void 0),a([i.i(n.Property)(!1)],t.prototype,"allowMultiple",void 0),a([i.i(n.Property)([])],t.prototype,"dataSource",void 0),a([i.i(n.Property)()],t.prototype,"query",void 0),a([i.i(n.Property)("Id")],t.prototype,"idField",void 0),a([i.i(n.Property)("Text")],t.prototype,"textField",void 0),a([i.i(n.Property)("Expanded")],t.prototype,"expandedField",void 0),a([i.i(n.Property)("GroupID")],t.prototype,"groupIDField",void 0),a([i.i(n.Property)("Color")],t.prototype,"colorField",void 0),a([i.i(n.Property)("StartHour")],t.prototype,"startHourField",void 0),a([i.i(n.Property)("EndHour")],t.prototype,"endHourField",void 0),a([i.i(n.Property)("WorkDays")],t.prototype,"workDaysField",void 0),a([i.i(n.Property)("CssClass")],t.prototype,"cssClassField",void 0),t}(n.ChildProperty)},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(0),r=(i.n(n),this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}()),a=this&&this.__decorate||function(e,t,i,n){var r,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(a<3?r(s):a>3?r(t,i,s):r(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),a([i.i(n.Property)(!0)],t.prototype,"enable",void 0),a([i.i(n.Property)(60)],t.prototype,"interval",void 0),a([i.i(n.Property)(2)],t.prototype,"slotCount",void 0),a([i.i(n.Property)()],t.prototype,"minorSlotTemplate",void 0),a([i.i(n.Property)()],t.prototype,"majorSlotTemplate",void 0),t}(n.ChildProperty)},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(0),r=(i.n(n),this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}()),a=this&&this.__decorate||function(e,t,i,n){var r,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(a<3?r(s):a>3?r(t,i,s):r(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),a([i.i(n.Property)(!0)],t.prototype,"highlight",void 0),a([i.i(n.Property)("09:00")],t.prototype,"start",void 0),a([i.i(n.Property)("18:00")],t.prototype,"end",void 0),t}(n.ChildProperty)},function(e,t,i){"use strict";i.d(t,"a",function(){return v});var n=i(0),r=(i.n(n),i(11)),a=(i.n(r),i(18)),s=(i.n(a),i(6)),o=(i.n(s),i(38)),l=(i.n(o),i(12)),c=(i.n(l),i(19)),p=(i.n(c),i(27)),d=i(20),h=i(3),u=i(2),g=i(1),v=function(){function e(e){this.parent=e,this.l10n=this.parent.localeObj,this.fields=this.parent.eventFields,this.eventWindowTime={startTime:new Date,endTime:new Date},this.renderEventWindow()}return e.prototype.renderEventWindow=function(){this.element=i.i(n.createElement)("div",{id:this.parent.element.id+"_dialog_wrapper"}),this.parent.element.appendChild(this.element);var e={animationSettings:{effect:"Zoom"},content:this.getEventWindowContent(),cssClass:h._140,enableRtl:this.parent.enableRtl,enableHtmlSanitizer:this.parent.enableHtmlSanitizer,height:this.parent.isAdaptive?"100%":"auto",minHeight:"300px",isModal:!0,showCloseIcon:!this.parent.isAdaptive,target:document.body,visible:!1,width:"500px",beforeOpen:this.onBeforeOpen.bind(this),beforeClose:this.onBeforeClose.bind(this)};this.parent.isAdaptive?(e.cssClass=h._140+" "+h._79,e.header='<div class="e-title-header"><div class="e-back-icon e-icons"></div><div class="e-title-text">'+this.l10n.getConstant("newEvent")+'</div><div class="e-save-icon e-icons"></div></div>'):(e.buttons=[{buttonModel:{content:this.l10n.getConstant("deleteButton"),cssClass:h._118,disabled:!this.parent.eventSettings.allowDeleting||this.parent.readonly},click:this.eventDelete.bind(this)},{buttonModel:{content:this.l10n.getConstant("saveButton"),cssClass:"e-primary "+h._141,isPrimary:!0,disabled:!this.parent.eventSettings.allowAdding||this.parent.readonly},click:this.eventSave.bind(this)},{buttonModel:{cssClass:h._138,content:this.l10n.getConstant("cancelButton")},click:this.dialogClose.bind(this)}],e.header='<div class="e-title-text">'+this.l10n.getConstant("newEvent")+"</div>"),this.dialogObject=new s.Dialog(e,this.element),this.dialogObject.element.querySelector(".e-dlg-closeicon-btn")&&this.dialogObject.element.querySelector(".e-dlg-closeicon-btn").setAttribute("title",this.l10n.getConstant("close")),i.i(n.addClass)([this.element.parentElement],h._140+"-container"),this.parent.isAdaptive&&(n.EventHandler.add(this.element.querySelector("."+h._142),"click",this.dialogClose,this),n.EventHandler.add(this.element.querySelector("."+h._143),"click",this.eventSave,this)),n.EventHandler.add(this.dialogObject.element,"keydown",this.preventEventSave,this),this.applyFormValidation()},e.prototype.refresh=function(){this.destroy(!0),this.renderEventWindow()},e.prototype.refreshRecurrenceEditor=function(){if(this.recurrenceEditor){var e=this.recurrenceEditor.element;this.recurrenceEditor.destroy(),this.createRecurrenceEditor(e)}},e.prototype.setRecurrenceEditor=function(e){this.parent.editorTemplate&&(this.recurrenceEditor=e)},e.prototype.openEditor=function(e,t,r,a){if(this.parent.currentAction=t,this.parent.removeNewEventElement(),this.parent.quickPopup&&this.parent.quickPopup.quickPopupHide(!0),this.parent.inlineModule.removeInlineAppointmentElement(),"Add"===t){var s={};this.cellClickAction=!r,this.parent.activeCellsData=e;var o=e;this.cellClickAction?this.convertToEventData(o,s):(this.parent.activeCellsData={startTime:o.startTime||o[this.fields.startTime],endTime:o.endTime||o[this.fields.endTime],isAllDay:o.isAllDay||o[this.fields.isAllDay],element:o.element,groupIndex:o.groupIndex},s=o),e=s}switch(i.i(n.isNullOrUndefined)(this.parent.editorTemplate)||this.renderFormElements(this.element.querySelector(".e-schedule-form"),e),!this.parent.isAdaptive&&i.i(n.isNullOrUndefined)(this.parent.editorTemplate)&&i.i(n.removeClass)([this.dialogObject.element.querySelector(".e-recurrenceeditor")],h.J),this.recurrenceEditor&&(this.recurrenceEditor.firstDayOfWeek=this.parent.activeViewOptions.firstDayOfWeek),t){case"Add":this.onCellDetailsUpdate(e,a);break;case"Save":case"EditOccurrence":case"EditSeries":case"EditFollowingEvents":"EditOccurrence"===t&&!this.parent.isAdaptive&&i.i(n.isNullOrUndefined)(this.parent.editorTemplate)&&i.i(n.addClass)([this.dialogObject.element.querySelector(".e-recurrenceeditor")],h.J),this.cellClickAction=!1,this.onEventDetailsUpdate(e)}},e.prototype.setDialogContent=function(){this.dialogObject.content=this.getEventWindowContent(),this.dialogObject.dataBind(),this.applyFormValidation()},e.prototype.preventEventSave=function(e){this.parent&&!this.parent.allowKeyboardInteraction&&"Enter"===e.code&&(this.isEnterKey=!0)},e.prototype.onBeforeOpen=function(e){var t=this,a={type:"Editor",data:this.eventData,cancel:!1,element:this.element,target:this.cellClickAction?this.parent.activeCellsData.element:this.parent.activeEventData.element};this.cellClickAction&&(a.duration=this.getSlotDuration());var s=this.getInstance(h._141);s&&(s.disabled=!(this.cellClickAction?this.parent.eventSettings.allowAdding:this.parent.eventSettings.allowEditing),s.dataBind());var o=this.getInstance(h._118);o&&(o.disabled=!this.parent.eventSettings.allowDeleting,o.dataBind());var l=new r.Deferred;return this.parent.trigger(u.o,a,function(r){if(e.cancel=r.cancel,t.duration=t.cellClickAction?r.duration:null,t.refreshDateTimePicker(t.duration),t.cellClickAction&&r.duration!==t.getSlotDuration()&&i.i(n.isNullOrUndefined)(t.parent.editorTemplate)){var a=t.getInstance(h._144),s=t.getInstance(h._145);s.value=new Date(a.value.getTime()+g.g*r.duration),s.dataBind()}t.parent.editorTemplate&&t.element.querySelector(".e-recurrenceeditor")&&!t.recurrenceEditor&&(t.recurrenceEditor=t.getInstance("e-recurrenceeditor")),l.resolve(e)}),l},e.prototype.onBeforeClose=function(e){var t=this;e.isInteracted&&(this.isCrudAction=!1);var i={type:"Editor",event:e.event||this.dialogEvent,data:this.eventCrudData,cancel:!1,element:this.element,target:this.cellClickAction?this.parent.activeCellsData.element:this.parent.activeEventData.element},n=new r.Deferred;return this.parent.trigger(u.p,i,function(i){e.cancel=i.cancel,i.cancel||(t.isCrudAction&&(e.cancel=t.processCrudActions(i.data),t.isCrudAction=e.cancel),t.isCrudAction||(t.resetForm(),t.parent.eventBase.focusElement(!0),t.eventCrudData=null)),n.resolve(e)}),n},e.prototype.getEventWindowContent=function(){var e=i.i(n.createElement)("div",{className:h._146}),t=i.i(n.createElement)("form",{id:this.parent.element.id+"EditForm",className:h._103,attrs:{onsubmit:"return false;"}});return this.renderFormElements(t),e.appendChild(t),e},e.prototype.renderFormElements=function(e,t){var r=this;if(i.i(n.isNullOrUndefined)(this.parent.editorTemplate))e.appendChild(this.getDefaultEventWindowContent());else{if(t){this.fieldValidator&&(this.fieldValidator.destroy(),this.fieldValidator=null),this.recurrenceEditor&&(this.recurrenceEditor.destroy(),this.recurrenceEditor=null),this.destroyComponents();for(var a=[].slice.call(e.children),s=0,o=a;s<o.length;s++){var l=o[s];i.i(n.remove)(l)}this.parent.resetTemplates(["editorTemplate"])}var c=this.parent.element.id+"_editorTemplate",p=[].slice.call(this.parent.getEditorTemplate()(t||{},this.parent,"editorTemplate",c,!1));i.i(n.append)(p,e),this.parent.renderTemplates(function(){r.element&&r.applyFormValidation()})}},e.prototype.getDefaultEventWindowContent=function(){var e=this.createDivElement(h._147),t=this.createDivElement(h._148);e.appendChild(t),t.appendChild(this.renderTextBox(h.H)),t.querySelector("."+h.H).setAttribute("title",this.parent.editorTitles.subject),t.appendChild(this.renderTextBox(h.K)),t.querySelector("."+h.K).setAttribute("title",this.parent.editorTitles.location);var r=this.createDivElement(h._149);e.appendChild(r),r.appendChild(this.renderDateTimePicker(h._144,this.onTimeChange.bind(this))),r.querySelector("."+h._144).setAttribute("title",this.parent.editorTitles.startTime),r.appendChild(this.renderDateTimePicker(h._145)),r.querySelector("."+h._145).setAttribute("title",this.parent.editorTitles.endTime);var s=this.createDivElement(h._150);e.appendChild(s),s.appendChild(this.renderCheckBox(h._151)),s.appendChild(this.renderCheckBox(h._131));var o=this.createDivElement(h._152);e.appendChild(o),o.appendChild(this.renderDropDown(h._153)),o.appendChild(this.renderDropDown(h._154));var l=this.createDivElement(h._155);e.appendChild(l);var c=this.renderCheckBox(h._156),p=i.i(n.createElement)("span",{className:"e-recurrence-container"}),d=i.i(n.createElement)("button",{className:"e-recurrence-edit-button",attrs:{type:"button",title:this.l10n.getConstant("editRecurrence")}});if(this.buttonObj=new a.Button({iconCss:"e-recurrence-edit e-icons",cssClass:"e-medium "+this.parent.cssClass}),p.appendChild(d),this.buttonObj.appendTo(d),c.appendChild(p),l.appendChild(c),this.parent.isAdaptive?n.EventHandler.add(d,"click",this.loadRecurrenceEditor,this):this.createRecurrenceEditor(e),this.parent.resourceCollection.length>0){for(var u=this.createDivElement(h._157),g=0,v=this.parent.resourceBase.resourceCollection;g<v.length;g++){var f=v[g];u.appendChild(this.renderResourceDetails(f))}e.appendChild(u)}var m=this.createDivElement(h._134+"-row");m.appendChild(this.renderTextBox(h._134)),m.querySelector("."+h._134).setAttribute("title",this.parent.editorTitles.description),e.appendChild(m);var y=i.i(n.createElement)("button",{attrs:{type:"hidden",title:"submit",style:"display:none"}});return e.appendChild(y),e},e.prototype.createRecurrenceEditor=function(e){var t=i.i(n.createElement)("div",{id:this.parent.element.id+"_recurrence_editor"});e.appendChild(t),this.recurrenceEditor=this.renderRecurrenceEditor(),this.recurrenceEditor.appendTo(t),this.updateMinMaxDateToEditor()},e.prototype.createDivElement=function(e){return i.i(n.createElement)("div",{className:e})},e.prototype.createInputElement=function(e,t,r){return i.i(n.createElement)(r||"input",{className:e,attrs:{type:"text",name:t,value:"",id:t,title:""===this.l10n.getConstant(t.charAt(0).toLowerCase()+t.slice(1))?t:this.l10n.getConstant(t.charAt(0).toLowerCase()+t.slice(1))}})},e.prototype.getSlotDuration=function(){return this.parent.activeViewOptions.timeScale.interval/this.parent.activeViewOptions.timeScale.slotCount},e.prototype.renderDateTimePicker=function(e,t){var r=this.createDivElement(e+"-container"),a=this.getFieldName(e),s=this.createInputElement(e+" e-field",a);return r.appendChild(s),new c.DateTimePicker({change:t,firstDayOfWeek:this.parent.activeViewOptions.firstDayOfWeek,calendarMode:this.parent.calendarMode,min:this.parent.minDate,max:new Date(new Date(+this.parent.maxDate).setHours(23,59,59)),cssClass:this.parent.cssClass,enableRtl:this.parent.enableRtl,locale:this.parent.locale,floatLabelType:"Always",timeFormat:this.parent.activeViewOptions.timeFormat,format:(i.i(n.isNullOrUndefined)(this.parent.dateFormat)?this.getFormat("dateFormats"):this.parent.dateFormat)+" "+this.parent.activeViewOptions.timeFormat,placeholder:this.getFieldLabel(e),step:this.getSlotDuration(),width:"100%"}).appendTo(s),r},e.prototype.refreshDateTimePicker=function(e){for(var t="."+h._144+",."+h._145,i=[].slice.call(this.element.querySelectorAll(t)),n=0,r=i;n<r.length;n++){var a=r[n],s=a.ej2_instances[0];s.firstDayOfWeek=this.parent.activeViewOptions.firstDayOfWeek,s.timeFormat=this.parent.activeViewOptions.timeFormat,s.step=e||this.getSlotDuration(),s.dataBind()}},e.prototype.onTimeChange=function(){var e=this.getInstance(h._144);if(e.element.parentElement.classList.contains("e-input-focus")){var t=this.getInstance(h._145),r=0;this.cellClickAction?(r=g.g*this.duration,this.eventWindowTime.startTime=e.value):r=this.eventData[this.fields.endTime].getTime()-this.eventData[this.fields.startTime].getTime();var a=i.i(n.isNullOrUndefined)(e.value)?null:new Date(e.value.getTime()+r);this.cellClickAction&&(this.eventWindowTime.endTime=a),t.value=a,t.dataBind()}this.recurrenceEditor&&this.recurrenceEditor.updateRuleUntilDate(this.eventWindowTime.startTime)},e.prototype.renderResourceDetails=function(e){var t=e.field,i="e-"+t,n=e.title,r=this.createDivElement(i+"-container e-resources"),a=this.createInputElement(i+" e-field",t);r.appendChild(a);var s='<div class="e-resource-template"><div class="e-resource-color" style="background-color:${'+e.colorField+'}"></div><div class="e-resource-text">${'+e.textField+"}</div></div>";if(e.allowMultiple){new o.MultiSelect({enableRtl:this.parent.enableRtl,enableHtmlSanitizer:this.parent.enableHtmlSanitizer,cssClass:this.parent.cssClass||"",dataSource:e.dataSource,change:this.onMultiselectResourceChange.bind(this),itemTemplate:s,fields:{text:e.textField,value:e.idField},htmlAttributes:{title:n,name:t},floatLabelType:"Always",placeholder:n,popupHeight:"230px",popupWidth:"447px",mode:"Box"}).appendTo(a)}else{new o.DropDownList({cssClass:this.parent.cssClass||"",change:this.onDropdownResourceChange.bind(this),dataSource:e.dataSource,enableRtl:this.parent.enableRtl,fields:{text:e.textField,value:e.idField},htmlAttributes:{title:n,name:t},floatLabelType:"Always",placeholder:n,popupHeight:"230px",popupWidth:"447px",itemTemplate:s}).appendTo(a)}return r},e.prototype.renderDropDown=function(e){var t=this,i=this.getFieldName(e),n=this.createDivElement(e+"-container"),a=this.createInputElement(e+" e-field",i);return n.appendChild(a),new o.DropDownList({allowFiltering:!0,change:this.onTimezoneChange.bind(this),cssClass:this.parent.cssClass||"",dataSource:this.parent.timezoneDataSource,enableRtl:this.parent.enableRtl,fields:{text:"Text",value:"Value"},filterBarPlaceholder:this.parent.localeObj.getConstant("searchTimezone"),noRecordsTemplate:this.parent.localeObj.getConstant("noRecords"),filtering:function(e){var i=new r.Query;i=""!==e.text?i.where("Text","contains",e.text,!0):i,e.updateData(t.parent.timezoneDataSource,i)},htmlAttributes:{title:this.getFieldLabel(e),name:i,role:"option"},floatLabelType:"Always",placeholder:this.getFieldLabel(e),popupHeight:"230px"}).appendTo(a),n},e.prototype.onMultiselectResourceChange=function(e){if(e.value&&this.parent.activeViewOptions.group.byGroupID&&!(this.parent.resourceCollection.length<=1))for(var t=this.parent.resourceBase.resourceCollection,r=e.element.getAttribute("name")||this.getColumnName(e.element),a=0;a<t.length;a++)if(t[parseInt(a.toString(),10)].field===r&&a<t.length-1){for(var s=this.createInstance(a),o=[],l=this,c=0;c<e.value.length;c++)!function(r){var s=t[a+1],c=s.dataSource.filter(function(t){return t[s.groupIDField]===e.value[parseInt(r.toString(),10)]})[0],p=i.i(n.isNullOrUndefined)(c)?null:c[t[a+1].groupIDField],d=l.filterDatasource(a,p);o=o.concat(d)}(c);s.dataSource=o,s.dataBind()}},e.prototype.createInstance=function(e){var t=this.parent.resourceBase.resourceCollection[e+1],i=this.element.querySelector(".e-"+t.field).ej2_instances[0];return i.clear(),i},e.prototype.onDropdownResourceChange=function(e){if(e.value&&!(this.parent.resourceCollection.length<=1)&&this.parent.activeViewOptions.group.byGroupID)for(var t=e.element.getAttribute("name")||this.getColumnName(e.element),i=this.parent.resourceBase.resourceCollection,n=0;n<i.length;n++)if(n<i.length-1&&i[parseInt(n.toString(),10)].field===t){var r=this.createInstance(n),a=e.itemData[i[parseInt(n.toString(),10)].idField];r.dataSource=this.filterDatasource(n,a),r.dataBind();var s=r.dataSource.length>0?r.dataSource[0][i[n+1].idField]:null;r.value=i[n+1].allowMultiple?[s]:s,r.dataBind()}},e.prototype.filterDatasource=function(e,t){var i=this.parent.resourceBase.resourceCollection[e+1];return i.dataSource.filter(function(e){return e[i.groupIDField]===t})},e.prototype.onTimezoneChange=function(e){if((e.element.getAttribute("name")||this.getColumnName(e.element))===this.parent.eventFields.startTimezone){var t=this.getInstance(h._153),i=this.getInstance(h._154);i.value=t.value,i.dataBind()}},e.prototype.renderCheckBox=function(e){var t=this.createDivElement(e+"-container"),i=this.getFieldName(e),n=this.createInputElement(e+" e-field",i);t.appendChild(n);var r=new a.CheckBox({change:this.onChange.bind(this),cssClass:e+" "+this.parent.cssClass,enableRtl:this.parent.enableRtl,enableHtmlSanitizer:this.parent.enableHtmlSanitizer,label:this.getFieldLabel(e)});return r.appendTo(n),n.setAttribute("name",i),"Repeat"===i&&(this.repeatStatus=r),t},e.prototype.renderTextBox=function(e){var t=this.createDivElement(e+"-container"),i=this.getFieldName(e),n=e===h._134?"textarea":"input",r=this.createInputElement(e+" e-field",i,n);return t.appendChild(r),l.Input.createInput({element:r,floatLabelType:"Always",properties:{enableRtl:this.parent.enableRtl,placeholder:this.getFieldLabel(e)}}),t},e.prototype.getFieldName=function(e){var t="";switch(e){case h.H:t=this.fields.subject;break;case h.K:t=this.fields.location;break;case h._144:t=this.fields.startTime;break;case h._145:t=this.fields.endTime;break;case h._134:t=this.fields.description;break;case h._151:t=this.fields.isAllDay;break;case h._153:t=this.fields.startTimezone;break;case h._154:t=this.fields.endTimezone;break;case h._131:t="Timezone";break;case h._156:t="Repeat"}return t},e.prototype.getFieldLabel=function(e){var t="";switch(e){case h.H:t=this.parent.editorTitles.subject;break;case h.K:t=this.parent.editorTitles.location;break;case h._134:t=this.parent.editorTitles.description;break;case h._144:t=this.parent.editorTitles.startTime;break;case h._145:t=this.parent.editorTitles.endTime;break;case h._153:t=this.parent.editorTitles.startTimezone;break;case h._154:t=this.parent.editorTitles.endTimezone;break;case h._156:t=this.parent.editorTitles.recurrenceRule;break;case h._151:t=this.parent.editorTitles.isAllDay;break;case h._131:t=this.l10n.getConstant("timezone")}return t},e.prototype.onChange=function(e){var t="."+h._151+",."+h._131+",."+h._156,r=i.i(n.closest)(e.event.target,t);r.classList.contains(h._151)?this.onAllDayChange(e.checked):r.classList.contains(h._131)?this.timezoneChangeStyle(e.checked):r.classList.contains(h._156)&&this.onRepeatChange(e.checked)},e.prototype.renderRepeatDialog=function(){var e=i.i(n.createElement)("div");this.repeatDialogObject=new s.Dialog({header:this.l10n.getConstant("recurrence"),visible:!1,content:'<div class="e-rec-editor"></div>',closeOnEscape:!0,width:"90%",buttons:[{click:this.repeatSaveDialog.bind(this),buttonModel:{content:this.l10n.getConstant("save"),cssClass:"e-save",isPrimary:!0}},{click:this.repeatCancelDialog.bind(this),buttonModel:{cssClass:"e-cancel",content:this.l10n.getConstant("cancel")}}],target:this.element,animationSettings:{effect:"Zoom"},enableRtl:this.parent.enableRtl,enableHtmlSanitizer:this.parent.enableHtmlSanitizer,isModal:!0,cssClass:"e-recurrence-dialog",open:this.repeatOpenDialog.bind(this)}),this.element.appendChild(e),this.repeatDialogObject.appendTo(e),this.createRecurrenceEditor(this.repeatDialogObject.element.querySelector(".e-rec-editor"))},e.prototype.loadRecurrenceEditor=function(){this.repeatDialogObject.show(),this.recurrenceEditor&&this.repeatRule&&this.recurrenceEditor.setRecurrenceRule(this.repeatRule)},e.prototype.onRepeatChange=function(e){if(e)this.repeatDialogObject||this.renderRepeatDialog(),this.recurrenceEditor.setProperties({startDate:this.repeatStartDate,selectedType:0}),this.loadRecurrenceEditor();else{this.repeatDialogObject&&this.repeatDialogObject.hide(),this.repeatRule="",this.recurrenceEditor&&(this.recurrenceEditor.setRecurrenceRule(this.repeatRule),this.updateRepeatLabel(this.repeatRule));var t=this.element.querySelector(".e-recurrence-container");i.i(n.addClass)([t],"e-hide")}},e.prototype.repeatSaveDialog=function(){this.repeatRule=this.recurrenceEditor.getRecurrenceRule();var e=this.element.querySelector(".e-recurrence-container");this.recurrenceEditor.getRecurrenceRule()?i.i(n.removeClass)([e],"e-hide"):(i.i(n.addClass)([e],"e-hide"),this.repeatStatus.setProperties({checked:!1})),this.updateRepeatLabel(this.repeatRule),this.closeRepeatDialog()},e.prototype.closeRepeatDialog=function(){this.repeatDialogObject.hide()},e.prototype.repeatCancelDialog=function(){this.closeRepeatDialog(),this.recurrenceEditor&&this.recurrenceEditor.setRecurrenceRule(this.repeatTempRule),this.repeatTempRule||this.repeatStatus.setProperties({checked:!1})},e.prototype.repeatOpenDialog=function(){this.repeatTempRule=this.recurrenceEditor.getRecurrenceRule()},e.prototype.onCellDetailsUpdate=function(e,t){if(this.parent.eventSettings.allowAdding){this.parent.isAdaptive&&t&&!this.repeatDialogObject&&this.renderRepeatDialog(),this.element.querySelector("."+h._103).removeAttribute("data-id"),this.element.querySelector("."+h._158).innerHTML=this.l10n.getConstant("newEvent"),e.Timezone=!1,this.repeatStartDate=e[this.fields.startTime],this.repeatRule="",i.i(n.isNullOrUndefined)(this.parent.eventSettings.fields.subject.default)||(e[this.fields.subject]=this.parent.eventSettings.fields.subject.default),i.i(n.isNullOrUndefined)(this.parent.eventSettings.fields.location.default)||(e[this.fields.location]=this.parent.eventSettings.fields.location.default),i.i(n.isNullOrUndefined)(this.parent.eventSettings.fields.description.default)||(e[this.fields.description]=this.parent.eventSettings.fields.description.default),this.showDetails(e),e[this.fields.recurrenceRule]&&this.recurrenceEditor&&(this.recurrenceEditor.setRecurrenceRule(e[this.fields.recurrenceRule],e[this.fields.startTime]),this.repeatRule=e[this.fields.recurrenceRule]);var r=this.element.querySelector("."+h._118);if(r&&i.i(n.addClass)([r],h.J),this.recurrenceEditor&&(this.recurrenceEditor.setProperties({startDate:e[this.fields.startTime],selectedType:i.i(n.isNullOrUndefined)(t)?i.i(n.isNullOrUndefined)(e[this.fields.recurrenceRule])?0:this.recurrenceEditor.selectedType:t}),this.repeatRule=this.recurrenceEditor.value),this.parent.isAdaptive&&i.i(n.isNullOrUndefined)(this.parent.editorTemplate)){var a=this.element.querySelector(".e-recurrence-container");e[this.fields.recurrenceRule]||t?(i.i(n.removeClass)([a],"e-hide"),this.repeatStatus.setProperties({checked:!0})):(i.i(n.addClass)([a],"e-hide"),this.repeatStatus.setProperties({checked:!1})),this.updateRepeatLabel(this.repeatRule)}else{var s=this.element.querySelector("."+h._141);this.disableButton(s,!1)}this.dialogObject.show()}},e.prototype.convertToEventData=function(e,t){e.subject&&(t[this.fields.subject]=e.subject),t[this.fields.startTime]=e.startTime,t[this.fields.endTime]=e.endTime,t[this.fields.isAllDay]=e.isAllDay,e.RecurrenceRule&&(t[this.fields.recurrenceRule]=e.RecurrenceRule),(this.parent.resourceCollection.length>0||this.parent.activeViewOptions.group.resources.length>0)&&this.parent.resourceBase.setResourceValues(t)},e.prototype.applyFormValidation=function(){var e=this.element.querySelector("."+h._103);if(e){var t=function(e){return e&&Object.keys(e).length>0?e:void 0},r={},a=t(this.parent.eventSettings.fields.subject.validation);i.i(n.isNullOrUndefined)(a)||(r[this.parent.eventSettings.fields.subject.name]=a);var s=t(this.parent.eventSettings.fields.location.validation);i.i(n.isNullOrUndefined)(s)||(r[this.parent.eventSettings.fields.location.name]=s);var o=t(this.parent.eventSettings.fields.startTime.validation);i.i(n.isNullOrUndefined)(o)||(r[this.parent.eventSettings.fields.startTime.name]=o);var l=t(this.parent.eventSettings.fields.endTime.validation);i.i(n.isNullOrUndefined)(l)||(r[this.parent.eventSettings.fields.endTime.name]=l);var c=t(this.parent.eventSettings.fields.description.validation);i.i(n.isNullOrUndefined)(c)||(r[this.parent.eventSettings.fields.description.name]=c),this.fieldValidator=new p.a,this.fieldValidator.renderFormValidator(e,r,this.element,this.parent.locale)}},e.prototype.showDetails=function(e){var t=i.i(n.extend)({},e,null,!0);this.cellClickAction&&(!this.cellClickAction||i.i(n.isNullOrUndefined)(this.parent.editorTemplate))||0!==t[this.fields.endTime].getHours()||0!==t[this.fields.endTime].getMinutes()||this.trimAllDay(t),this.eventData=t;for(var r=this.getFormElements(h._140),a=Object.keys(t),s=0,o=r;s<o.length;s++){var l=o[s],c=l.name||this.getColumnName(l);i.i(n.isNullOrUndefined)(c)||""===c||(-1!==a.indexOf(c)?this.setValueToElement(l,t[""+c]):this.setDefaultValueToElement(l))}if(i.i(n.isNullOrUndefined)(this.parent.editorTemplate)){this.onAllDayChange(t[this.fields.isAllDay]);var p=this.getInstance(h._131+".e-field");i.i(n.isNullOrUndefined)(t[this.fields.startTimezone])&&i.i(n.isNullOrUndefined)(t[this.fields.endTimezone])||(p.checked=!0,p.dataBind()),this.timezoneChangeStyle(p.checked),delete t.Timezone}},e.prototype.getColumnName=function(e){var t=e.getAttribute("data-name")||"";if(""===t){var r=!1,a="";e.classList.contains("e-dropdownlist")?(a="e-ddl",r=!0):e.classList.contains("e-multiselect")?(a="e-multiselect",r=!0):e.classList.contains("e-datetimepicker")?a="e-datetimepicker":e.classList.contains("e-datepicker")?a="e-datepicker":e.classList.contains("e-checkbox")&&(a="e-checkbox");var s=r?"."+a+":not(.e-control)":"."+a,o=i.i(n.closest)(e,s)||e.querySelector("."+a);if(o){var l=o.querySelector("[name]");l&&(t=l.name)}}return t},e.prototype.onAllDayChange=function(e){var t,r=this.getInstance(h._144),a=this.getInstance(h._145),s=this.element.querySelector(".e-time-zone-container");e?(t=i.i(n.isNullOrUndefined)(this.parent.dateFormat)?this.getFormat("dateFormats"):this.parent.dateFormat,i.i(n.addClass)(this.element.querySelectorAll(".e-time-icon"),h._159),i.i(n.addClass)([s],h.J),this.element.querySelector("."+h._152)&&i.i(n.removeClass)([this.element.querySelector("."+h._152)],h._160),r.format=a.format=t):(t=i.i(n.isNullOrUndefined)(this.parent.dateFormat)?this.getFormat("dateFormats")+" "+this.parent.activeViewOptions.timeFormat:this.parent.dateFormat+" "+this.parent.activeViewOptions.timeFormat,i.i(n.removeClass)(this.element.querySelectorAll(".e-time-icon"),h._159),i.i(n.removeClass)([s],h.J),this.element.querySelector(".e-checkbox-wrapper .e-time-zone").checked&&i.i(n.addClass)([this.element.querySelector("."+h._152)],h._160),r.format=a.format=t),this.cellClickAction&&this.updateDateTime(e,r,a),r.dataBind(),a.dataBind(),i.i(n.isNullOrUndefined)(this.recurrenceEditor)||this.recurrenceEditor.updateRuleUntilDate(r.value)},e.prototype.updateDateTime=function(e,t,i){var n,r;if(e)if(n=g.b(new Date(this.eventWindowTime.startTime.getTime())),this.parent.activeCellsData.isAllDay){var a=g.d(new Date(this.eventWindowTime.endTime.getTime()),-1).getTime();r=+this.eventWindowTime.startTime>a?this.eventWindowTime.endTime:new Date(a)}else r=g.b(new Date(this.eventWindowTime.endTime.getTime()));else{var s=this.parent.activeCellsData.startTime;if(n=new Date(this.eventWindowTime.startTime.getTime()),n.setHours(s.getHours(),s.getMinutes(),s.getSeconds()),this.parent.activeCellsData.isAllDay){var o=this.parent.getStartEndTime(this.parent.workHours.start);n.setHours(o.getHours(),o.getMinutes(),o.getSeconds()),r=new Date(n.getTime()),r.setMilliseconds(g.g*this.getSlotDuration())}else r=new Date(n.getTime()),r.setMilliseconds(this.parent.activeCellsData.endTime.getTime()-this.parent.activeCellsData.startTime.getTime())}this.eventWindowTime={startTime:new Date(n.getTime()),endTime:new Date(r.getTime())},t.value=n,i.value=r,t.dataBind(),i.dataBind()},e.prototype.getFormat=function(e){return"en"===this.parent.locale||"en-US"===this.parent.locale?i.i(n.getValue)(e+".short",i.i(n.getDefaultDateObject)(this.parent.getCalendarMode())):i.i(n.getValue)("main."+this.parent.locale+".dates.calendars."+this.parent.getCalendarMode()+"."+e+".short",n.cldrData)},e.prototype.onEventDetailsUpdate=function(e){if(this.parent.eventSettings.allowEditing){if(this.parent.isAdaptive||i.i(n.removeClass)([this.element.querySelector("."+h._118)],h.J),this.element.querySelector("."+h._158).innerHTML=this.l10n.getConstant("editEvent"),this.element.querySelector("."+h._103).setAttribute("data-id",e[this.fields.id].toString()),i.i(n.isNullOrUndefined)(this.parent.editorTemplate)){e=i.i(n.extend)({},e,null,!0);var t=this.getInstance(h._131+".e-field"),r=void 0;e[this.fields.startTimezone]||e[this.fields.endTimezone]?(r=!0,this.parent.eventBase.timezoneConvert(e)):r=!1,e.Timezone=r,t.checked=r,t.dataBind()}if(this.showDetails(e),e[this.fields.recurrenceRule]&&this.recurrenceEditor?this.recurrenceEditor.setRecurrenceRule(e[this.fields.recurrenceRule],e[this.fields.startTime]):!this.parent.isAdaptive&&this.recurrenceEditor&&(this.recurrenceEditor.setProperties({startDate:e[this.fields.startTime]}),this.recurrenceEditor.setRecurrenceRule("")),this.repeatStartDate=e[this.fields.startTime],this.repeatRule="",e[this.fields.recurrenceRule]&&(this.recurrenceEditor&&this.recurrenceEditor.setRecurrenceRule(e[this.fields.recurrenceRule],e[this.fields.startTime]),this.repeatRule=e[this.fields.recurrenceRule]),this.parent.isAdaptive&&i.i(n.isNullOrUndefined)(this.parent.editorTemplate)){var a=this.element.querySelector(".e-recurrence-container");e[this.fields.recurrenceRule]?(i.i(n.removeClass)([a],"e-hide"),this.repeatStatus.setProperties({checked:!0})):(i.i(n.addClass)([a],"e-hide"),this.repeatStatus.setProperties({checked:!1})),this.updateRepeatLabel(this.repeatRule)}var s=this.parent.readonly||e[this.fields.isReadonly];if(this.parent.isAdaptive){var o=this.element.querySelector("."+h._143);o&&(s?i.i(n.addClass)([o],h._161):i.i(n.removeClass)([o],h._161))}else{var l=this.element.querySelector("."+h._141),c=this.element.querySelector("."+h._118);this.disableButton(l,s),this.disableButton(c,s)}this.dialogObject.show()}},e.prototype.disableButton=function(e,t){e&&(e.ej2_instances[0].disabled=t)},e.prototype.renderRecurrenceEditor=function(){return new d.a({calendarMode:this.parent.calendarMode,cssClass:this.parent.cssClass,dateFormat:this.parent.dateFormat,enableRtl:this.parent.enableRtl,firstDayOfWeek:this.parent.activeViewOptions.firstDayOfWeek,locale:this.parent.locale})},e.prototype.updateMinMaxDateToEditor=function(){var e=this.element.querySelector(".e-start"),t=this.element.querySelector(".e-end");if(e&&t){var i=e.ej2_instances[0],n=t.ej2_instances[0];i.min=this.parent.minDate,i.max=this.parent.maxDate,n.min=this.parent.minDate,n.max=this.parent.maxDate,i.dataBind(),n.dataBind()}if(this.recurrenceEditor){var r=this.recurrenceEditor.element.querySelector(".e-until-date");if(r){var a=r.ej2_instances[0];a.min=this.parent.minDate,a.max=this.parent.maxDate,a.dataBind()}}},e.prototype.updateRepeatLabel=function(e){this.parent.isAdaptive&&!this.repeatDialogObject&&this.renderRepeatDialog();var t=e?this.l10n.getConstant("repeats")+" "+this.recurrenceEditor.getRuleSummary(e):this.l10n.getConstant("repeat");this.repeatStatus.setProperties({label:t})},e.prototype.dialogClose=function(e){if(this.isEnterKey)return void(this.isEnterKey=!1);this.dialogEvent=e,this.isCrudAction=!1,this.parent.activeEventData={event:void 0,element:void 0},this.parent.currentAction=null,this.dialogObject.hide()},e.prototype.resetForm=function(){this.fieldValidator.destroyToolTip(),this.resetFormFields(),this.parent.isAdaptive||!this.recurrenceEditor||this.recurrenceEditor.isDestroyed||this.recurrenceEditor.resetFields()},e.prototype.timezoneChangeStyle=function(e){var t=this.element.querySelector("."+h._152),r=this.parent.tzModule.getLocalTimezoneName();if(e){i.i(n.addClass)([t],h._160);var a=this.getInstance(h._153),s=this.getInstance(h._154),o=a.dataSource;if(!a.value||!this.parent.timezone){o.some(function(e){return e.Value===r})||(o.push({Value:r,Text:r}),a.dataSource=o,s.dataSource=o,a.dataBind(),s.dataBind())}a.value=a.value||this.parent.timezone||r,s.value=s.value||this.parent.timezone||r,a.dataBind(),s.dataBind()}else i.i(n.removeClass)([t],h._160)},e.prototype.resetFormFields=function(){for(var e=this.getFormElements(h._140),t=0,r=e;t<r.length;t++){var a=r[t],s=a.name||this.getColumnName(a);i.i(n.isNullOrUndefined)(s)||""===s||this.setDefaultValueToElement(a)}},e.prototype.eventSave=function(e,t){if(this.isEnterKey)return void(this.isEnterKey=!1);var i=this.element.querySelector("."+h._103);if(!i||!i.classList.contains("e-formvalidator")||i.ej2_instances[0].validate()){var n=this.getEventDataFromEditor();this.processEventValidation(n.tempData,t)||(this.eventCrudData=n.eventData,this.dialogEvent=e,this.isCrudAction=!0,this.dialogObject.hide())}},e.prototype.getEventDataFromEditor=function(){var e=i.i(n.extend)({},this.getObjectFromFormData(h._140));e.Timezone||(e[this.fields.startTimezone]=null,e[this.fields.endTimezone]=null),delete e.Timezone,delete e.Repeat,this.setDefaultValueToObject(e),e[this.fields.recurrenceRule]=this.recurrenceEditor?this.recurrenceEditor.getRecurrenceRule()||null:void 0;var t=i.i(n.extend)({},e,null,!0);return e[this.fields.isAllDay]&&(e[this.fields.startTime]=i.i(n.isNullOrUndefined)(e[this.fields.startTime])?null:g.b(new Date(e[this.fields.startTime].getTime())),e[this.fields.endTime]=i.i(n.isNullOrUndefined)(e[this.fields.endTime])?null:g.d(g.b(new Date(e[this.fields.endTime].getTime())),1)),{eventData:e,tempData:t}},e.prototype.processEventValidation=function(e,t){var r;if(i.i(n.isNullOrUndefined)(this.parent.editorTemplate)){if(!e[this.fields.startTime]||!e[this.fields.endTime])return this.parent.quickPopup.openValidationError("invalidDateError"),!0;if(e[this.fields.startTime]>e[this.fields.endTime])return this.parent.quickPopup.openValidationError("startEndError"),!0}if(this.recurrenceEditor&&this.recurrenceEditor.value&&""!==this.recurrenceEditor.value){"EditOccurrence"!==this.parent.currentAction&&(r=this.recurrenceValidation(e[this.fields.startTime],e[this.fields.endTime],t));var a=!0;if("seriesChangeAlert"===r&&this.parent.uiStateValues.isIgnoreOccurrence&&(a=!1),!i.i(n.isNullOrUndefined)(r)&&a&&(!this.parent.enableRecurrenceValidation&&"wrongPattern"===r||this.parent.enableRecurrenceValidation))return this.parent.quickPopup.openRecurrenceValidationAlert(r),!0}return!1},e.prototype.processCrudActions=function(e){var t=this;this.parent.uiStateValues.isBlock=!1;var r=this.getResourceData(e),a=(this.parent.activeViewOptions.group.resources.length>0||this.parent.resourceCollection.length>0)&&!this.parent.activeViewOptions.group.allowGroupEdit&&!i.i(n.isNullOrUndefined)(r),s=this.getEventIdFromForm();if(i.i(n.isNullOrUndefined)(s))this.parent.currentAction="Add",a?this.resourceSaveEvent(e,this.parent.currentAction):(e[this.fields.id]=this.parent.eventBase.getEventMaxID(),this.parent.addEvent(e));else{var o="string"===this.parent.eventBase.getEventIDType()?s:parseInt(s,10),l=this.parent.eventsData.filter(function(e){return e[t.fields.id]===o})[0];if(i.i(n.isNullOrUndefined)(l)&&(l=this.parent.blockData.filter(function(e){return e[t.fields.id]===o})[0]),e=i.i(n.extend)({},l,e),e[this.fields.isReadonly])return!1;var c=void 0;if(!i.i(n.isNullOrUndefined)(l[this.fields.recurrenceRule])){if(c=this.parent.currentAction,e.Guid=this.parent.activeEventData.event.Guid,"EditOccurrence"===this.parent.currentAction&&(e[this.fields.recurrenceID]?(o=e[this.fields.recurrenceID],c=null):(e[this.fields.id]=this.parent.eventBase.getEventMaxID(),e.Guid=this.parent.activeEventData.event.Guid),this.parent.enableRecurrenceValidation&&this.editOccurrenceValidation(o,e)))return!0;"EditSeries"===this.parent.currentAction||e[this.fields.id]!==l[this.fields.id]?e[this.fields.recurrenceID]=l[this.fields.id]:"EditFollowingEvents"===this.parent.currentAction&&(e[this.fields.id]=this.parent.eventBase.getEventMaxID(),e[this.fields.followingID]=l[this.fields.id])}a?this.resourceSaveEvent(e,"Save",c):this.parent.saveEvent(e,c)}return this.parent.uiStateValues.isBlock},e.prototype.getResourceData=function(e){var t=null;if(!i.i(n.isNullOrUndefined)(this.parent.resourceBase)&&!i.i(n.isNullOrUndefined)(this.parent.resourceBase.resourceCollection)&&this.parent.resourceBase.resourceCollection.length>0){t=e[this.parent.resourceBase.resourceCollection.slice(-1)[0].field]}return t},e.prototype.getObjectFromFormData=function(e){for(var t=this.getFormElements(e),r={},a=0,s=t;a<s.length;a++){var o=s[a],l=o.name||this.getColumnName(o);i.i(n.isNullOrUndefined)(l)||""===l||(r[""+l]=this.getValueFromElement(o))}return r},e.prototype.setDefaultValueToObject=function(e){i.i(n.isNullOrUndefined)(e[this.fields.subject])||(e[this.fields.subject]=e[this.fields.subject]||this.parent.eventSettings.fields.subject.default||this.l10n.getConstant("addTitle")),i.i(n.isNullOrUndefined)(e[this.fields.location])||(e[this.fields.location]=e[this.fields.location]||this.parent.eventSettings.fields.location.default),i.i(n.isNullOrUndefined)(e[this.fields.description])||(e[this.fields.description]=e[this.fields.description]||this.parent.eventSettings.fields.description.default)},e.prototype.recurrenceValidation=function(e,t,r){var a,s=this.recurrenceEditor,o=this.getInstance("e-repeat-interval.e-numerictextbox").value;if(r!==this.l10n.getConstant("ok")){var l=this.parent.activeEventData.event,c=[];if(("EditSeries"===this.parent.currentAction||"EditFollowingEvents"===this.parent.currentAction)&&!i.i(n.isNullOrUndefined)(l)){var p=l[this.parent.eventFields.startTime],d=this.parent.eventBase.getSeriesEvents(this.eventData,p);if(d.length>0)c=this.parent.eventBase.getEditedOccurrences(d,p);else{var h=this.parent.eventBase.getEventById(l[this.parent.eventFields.id]);c=this.parent.eventBase.getEditedOccurrences([h],p)}"EditSeries"!==this.parent.currentAction||i.i(n.isNullOrUndefined)(this.eventData[this.parent.eventFields.recurrenceException])||c.push(this.eventData)}if(c.length>0&&(a="seriesChangeAlert"),"until"===this.getInstance("e-end-on-left .e-ddl .e-dropdownlist").value&&this.getInstance("e-end-on-date .e-datepicker").value<e&&(a="wrongPattern"),i.i(n.isNullOrUndefined)(a)){var u=s.value.split(";")[1].split("=")[1].split(","),g={SU:0,MO:1,TU:2,WE:3,TH:4,FR:5,SA:6},v=[],f=[],m=void 0;switch(s.value.split(";")[0].split("=")[1]){case"DAILY":(t.getTime()-e.getTime())/36e5>24*o&&(a="createError");break;case"WEEKLY":u=s.value.split(";")[1].split("=")[1].split(",");for(var y=0;y<u.length*(o+1);y++)v[parseInt(y.toString(),10)]=u.length>y?g[u[parseInt(y.toString(),10)]]:v[y-u.length]+7*o;m=v.sort(function(e,t){return e-t});for(var y=1;y<m.length;y++)f.push(m[parseInt(y.toString(),10)]-m[y-1]);((t.getTime()-e.getTime())/36e5>=24*Math.min.apply(Math,f)||i.i(n.isNullOrUndefined)(o))&&(a="createError");break;case"MONTHLY":t.getTime()>=new Date(+e).setMonth(e.getMonth()+o)&&(a="createError");break;case"YEARLY":t.getTime()>=new Date(+e).setFullYear(e.getFullYear()+o)&&(a="createError")}}}else t.getTime()>=new Date(+e).setMonth(e.getMonth()+o)&&(a="createError"),i.i(n.isNullOrUndefined)(a)&&this.parent.quickPopup.quickDialog.hide();return i.i(n.isNullOrUndefined)(o)&&(a="createError"),a},e.prototype.getRecurrenceIndex=function(e,t){for(var i,n=0;n<e.length;n++)if(t[this.fields.startTime].valueOf()===e[parseInt(n.toString(),10)][this.fields.startTime].valueOf()){i=n;break}return i},e.prototype.trimAllDay=function(e){if(e[this.fields.isAllDay]){var t=g.d(new Date(+e[this.fields.endTime]),-1).getTime();e[this.fields.endTime]=+e[this.fields.startTime]>t?e[this.fields.endTime]:new Date(t)}},e.prototype.editOccurrenceValidation=function(e,t,r){var a=this;void 0===r&&(r=this.eventData);var s=this.parent.getOccurrencesByID(e);this.parent.eventsData.filter(function(t){return t[a.fields.recurrenceID]===e}).map(function(e){return s.push(i.i(n.extend)({},e))}),t=i.i(n.extend)({},t),this.trimAllDay(t);for(var o=0,l=s;o<l.length;o++){var c=l[o];this.trimAllDay(c)}this.parent.eventBase.sortByTime(s);var p=this.getRecurrenceIndex(s,r);if(i.i(n.isNullOrUndefined)(p))return!1;var d,h,u=new Date(+t[this.fields.startTime]),v=new Date(+t[this.fields.endTime]);p!==s.length-1&&(d=new Date(+s[p+1][this.fields.startTime]),h=new Date(+s[p+1][this.fields.endTime]));var f=new Date(+s[s.length-1][this.fields.endTime]);if(0===p){if(!i.i(n.isNullOrUndefined)(s[p+1])){if(!(d.getTime()>=v.getTime())&&g.b(f).getTime()>=g.b(u).getTime()||g.b(f).getTime()<g.b(u).getTime())return this.parent.quickPopup.openRecurrenceValidationAlert("occurrenceAlert"),!0;if(!(g.b(u).getTime()<g.b(d).getTime()))return this.parent.quickPopup.openRecurrenceValidationAlert("sameDayAlert"),!0}return!1}var m=new Date(+s[p-1][this.fields.startTime]),y=new Date(+s[p-1][this.fields.endTime]);if(p===s.length-1){if(g.b(new Date(+s[s.length-1-p][this.fields.startTime])).getTime()>g.b(u).getTime())return this.parent.quickPopup.openRecurrenceValidationAlert("occurrenceAlert"),!0;if(!(y.getTime()<=u.getTime()&&g.b(u).getTime()>g.b(m).getTime()))return this.parent.quickPopup.openRecurrenceValidationAlert("sameDayAlert"),!0}else{if(!(g.b(m).getTime()<g.b(u).getTime()||g.b(new Date(+s[0][this.fields.startTime])).getTime()>g.b(u).getTime())||!(g.b(d).getTime()>g.b(u).getTime()||f.getTime()<u.getTime()))return this.parent.quickPopup.openRecurrenceValidationAlert("sameDayAlert"),!0;if(!(y.getTime()<=u.getTime()&&d.getTime()>v.getTime())||g.b(h).getTime()<g.b(u).getTime()||g.b(m).getTime()>g.b(v).getTime()||!(g.b(u).getTime()<g.b(d).getTime()))return this.parent.quickPopup.openRecurrenceValidationAlert("occurrenceAlert"),!0}return!1},e.prototype.resourceSaveEvent=function(e,t,r){var a=this,s=this.parent.resourceBase.resourceCollection.slice(-1)[0],o=e[s.field];o=o instanceof Array?o.reverse():[o].reverse();for(var l=this.parent.resourceBase.lastResourceLevel,c=[],p=this,d=0;d<o.length;d++){var h=function(d){var h=i.i(n.extend)({},e,null,!0);h[p.fields.id]=p.parent.eventBase.getEventMaxID();var u=[],v=function(){if("Save"===t&&d===o.length-1)if(u.length>0){u[0][a.fields.id]=e[a.fields.id];for(var i=1;i<u.length;i++)u[parseInt(i.toString(),10)][a.fields.id]=a.parent.eventBase.getEventMaxID(d),c.push(u[parseInt(i.toString(),10)]),a.parent.saveEvent(u[0],r)}else h[a.fields.id]=e[a.fields.id],a.parent.saveEvent(h,r);else if(u.length>0)for(var n=0;n<u.length;n++)u[parseInt(n.toString(),10)][a.fields.id]=a.parent.eventBase.getEventMaxID(n),c.push(u[parseInt(n.toString(),10)]);else h[a.fields.id]=a.parent.eventBase.getEventMaxID(d),c.push(h)};if(p.parent.activeViewOptions.group.byGroupID&&!i.i(n.isNullOrUndefined)(l)){var f=s.dataSource,m=p.parent.resourceCollection,y=void 0;if((y=m.length>1?g.B(f,s.idField,o[parseInt(d.toString(),10)],h,m):g.B(f,s.idField,o[parseInt(d.toString(),10)]))<0)return{value:void 0};for(var T=f[parseInt(y.toString(),10)][s.groupIDField],D=l.filter(function(e){return e.resourceData[s.idField]===o[parseInt(d.toString(),10)]}).filter(function(e){return e.resourceData[s.groupIDField]===T})[0],w=D.groupOrder,b=0;b<p.parent.resourceBase.resourceCollection.length;b++){var C=p.parent.resourceBase.resourceCollection[parseInt(b.toString(),10)].field;h[""+C]=w[parseInt(b.toString(),10)]instanceof Array?w[parseInt(b.toString(),10)][0]:w[parseInt(b.toString(),10)]}v()}else{for(var y=0;y<p.parent.resourceBase.resourceCollection.length-1;y++){var C=p.parent.resourceBase.resourceCollection[parseInt(y.toString(),10)].field;if(h[""+C]instanceof Array&&h[""+C].length>1)for(var S=0;S<h[""+C].length;S++){var O=i.i(n.extend)({},h,null,!0);O[""+C]=e[""+C][parseInt(S.toString(),10)],O[s.field]=o[parseInt(d.toString(),10)],u.push(O)}else if(0===u.length)h[""+C]=e[""+C]instanceof Array?e[""+C][0]:e[""+C],h[s.field]=o[parseInt(d.toString(),10)];else for(var E=0;E<u.length;E++)u[parseInt(E.toString(),10)][""+C]=e[""+C]instanceof Array?e[""+C][0]:e[""+C]}h[s.field]=o[parseInt(d.toString(),10)],v()}}(d);if("object"==typeof h)return h.value}if(c.length>0){for(var u=0,v=c;u<v.length;u++){var f=v[u];f[this.fields.recurrenceException]=null,f[this.fields.recurrenceID]=null}this.parent.addEvent(c)}},e.prototype.getEventIdFromForm=function(){return this.element.querySelector("."+h._103).getAttribute("data-id")},e.prototype.getFormElements=function(e){return e===h._140?[].slice.call(this.element.querySelectorAll(".e-field")):[].slice.call(this.parent.element.querySelectorAll("."+e+" .e-field"))},e.prototype.getValueFromElement=function(e){return e.classList.contains("e-datepicker")?e.ej2_instances[0].value:e.classList.contains("e-datetimepicker")?e.ej2_instances[0].value:e.classList.contains("e-dropdownlist")?e.ej2_instances[0].value:e.classList.contains("e-multiselect")?e.ej2_instances[0].value:e.classList.contains("e-checkbox")?e.ej2_instances[0].checked:"checkbox"===e.type?e.checked:this.parent.enableHtmlSanitizer?n.SanitizeHtmlHelper.sanitize(e.value):e.value},e.prototype.setValueToElement=function(e,t){if(e.classList.contains("e-datepicker")){var i=e.ej2_instances[0];i.value=t,i.dataBind()}else if(e.classList.contains("e-datetimepicker")){var i=e.ej2_instances[0];i.element.classList.contains(h._144)?this.eventWindowTime.startTime=new Date(""+t):this.eventWindowTime.endTime=new Date(""+t),i.value=t,i.dataBind()}else if(e.classList.contains("e-dropdownlist")){var i=e.ej2_instances[0];i.value=t,i.dataBind()}else if(e.classList.contains("e-multiselect")){var i=e.ej2_instances[0];i.value=[],i.value=t instanceof Array?t:[t],i.dataBind()}else if(e.classList.contains("e-checkbox")){var i=e.ej2_instances[0];i.checked=t,i.dataBind()}else"checkbox"!==e.type?e.value=t||"":e.checked=t},e.prototype.setDefaultValueToElement=function(e){if(e.classList.contains("e-datepicker")){var t=e.ej2_instances[0];t.value=this.parent.getCurrentTime(),t.dataBind()}else if(e.classList.contains("e-datetimepicker")){var t=e.ej2_instances[0],i=this.parent.getCurrentTime();this.eventWindowTime={startTime:i,endTime:i},t.value=i,t.dataBind()}else if(e.classList.contains("e-dropdownlist")){var t=e.ej2_instances[0];t.value=null,t.dataBind()}else if(e.classList.contains("e-multiselect")){var t=e.ej2_instances[0];t.value=[],t.dataBind()}else if(e.classList.contains("e-checkbox")){var t=e.ej2_instances[0];t.checked=!1,t.dataBind()}else"checkbox"===e.type?e.checked=!1:e.value=""},e.prototype.getInstance=function(e){var t=this.element.querySelector("."+e);return t?t.ej2_instances[0]:null},e.prototype.eventDelete=function(e){if(this.isEnterKey)return void(this.isEnterKey=!1);switch(this.parent.currentAction){case"EditOccurrence":i.i(n.isNullOrUndefined)(this.parent.activeEventData.event[this.parent.eventFields.recurrenceRule])?this.parent.currentAction="Delete":this.parent.currentAction="DeleteOccurrence";break;case"EditSeries":this.parent.currentAction="DeleteSeries";break;case"Save":this.parent.currentAction="Delete";break;case"EditFollowingEvents":i.i(n.isNullOrUndefined)(this.parent.activeEventData.event[this.parent.eventFields.recurrenceRule])||(this.parent.currentAction="DeleteFollowingEvents")}this.dialogEvent=e,this.isCrudAction=!1,this.dialogObject.hide(),this.parent.quickPopup.openDeleteAlert()},e.prototype.getRecurrenceEditorInstance=function(){return this.parent.isAdaptive&&!this.repeatDialogObject&&this.renderRepeatDialog(),this.recurrenceEditor},e.prototype.destroyComponents=function(){for(var e=this.getFormElements(h._140),t=0,i=e;t<i.length;t++){var n=i[t],r=void 0;n.classList.contains("e-datetimepicker")?r=n.ej2_instances:n.classList.contains("e-datepicker")?r=n.ej2_instances:n.classList.contains("e-checkbox")?r=n.ej2_instances:n.classList.contains("e-dropdownlist")?r=n.ej2_instances:n.classList.contains("e-multiselect")?r=n.ej2_instances:n.classList.contains("e-numerictextbox")&&(r=n.ej2_instances),r&&r[0]&&r[0].destroy()}this.buttonObj&&this.buttonObj.destroy()},e.prototype.detachComponents=function(){for(var e=this.getFormElements(h._140),t=0,r=e;t<r.length;t++){var a=r[t];i.i(n.detach)(a)}},e.prototype.destroy=function(e){if(this.parent&&!this.parent.isDestroyed&&this.parent.resetTemplates(["editorTemplate"]),this.destroyComponents(),this.recurrenceEditor&&(this.recurrenceEditor.destroy(),i.i(n.detach)(this.recurrenceEditor.element),this.recurrenceEditor=null),this.fieldValidator&&(this.fieldValidator.destroy(),this.fieldValidator=null),this.repeatDialogObject&&(this.repeatDialogObject.destroy(),this.repeatDialogObject=null),this.detachComponents(),this.dialogObject){if(this.dialogObject.element){var t=this.dialogObject.element.querySelector("form");g.D(t),i.i(n.detach)(t),n.EventHandler.remove(this.dialogObject.element,"keydown",this.preventEventSave)}this.dialogObject.destroy(),this.dialogObject=null}this.element&&(i.i(n.remove)(this.element),this.element=null),e||(this.l10n=null,this.parent=null,this.fields=null,this.buttonObj=null,this.repeatStatus=null,this.eventWindowTime=null,this.dialogEvent=null)},e}()},function(e,t,i){"use strict";i.d(t,"a",function(){return d});var n=i(0),r=(i.n(n),i(6)),a=(i.n(r),i(18)),s=(i.n(a),i(12)),o=(i.n(s),i(27)),l=i(2),c=i(3),p=i(1),d=function(){function e(e){this.isMultipleEventSelect=!1,this.isCrudAction=!1,this.parent=e,this.l10n=this.parent.localeObj,this.fieldValidator=new o.a,this.render(),this.addEventListener()}return e.prototype.render=function(){this.renderQuickPopup(),this.renderMorePopup(),this.renderQuickDialog()},e.prototype.renderQuickPopup=function(){var e=i.i(n.createElement)("div",{className:c._84+" e-popup-close"});this.parent.isAdaptive?(document.body.appendChild(e),i.i(n.addClass)([e],c._79)):this.parent.element.appendChild(e),this.quickPopup=new r.Popup(e,{targetType:this.parent.isAdaptive?"container":"relative",enableRtl:this.parent.enableRtl,open:this.quickPopupOpen.bind(this),close:this.quickPopupClose.bind(this),hideAnimation:this.parent.isAdaptive?{name:"ZoomOut"}:{name:"FadeOut",duration:150},showAnimation:this.parent.isAdaptive?{name:"ZoomIn"}:{name:"FadeIn",duration:150},collision:this.parent.isAdaptive?{X:"fit",Y:"fit"}:this.parent.enableRtl?{X:"flip",Y:"fit"}:{X:"none",Y:"fit"},position:this.parent.isAdaptive||this.parent.enableRtl?{X:"left",Y:"top"}:{X:"right",Y:"top"},viewPortElement:this.parent.isAdaptive?document.body:this.parent.element,zIndex:this.parent.isAdaptive?1004:3})},e.prototype.renderMorePopup=function(){var e='<div class="'+c._72+'"><div class="'+c._85+'"><div class="'+c._86+'" title="'+this.l10n.getConstant("close")+'" tabindex="0"></div><div class="'+c._87+'"><div class="'+c._88+'"></div><div class="'+c._89+" "+c.p+'" tabindex="0"></div></div></div></div>',t=i.i(n.createElement)("div",{className:c._90+" e-popup-close",innerHTML:e});this.parent.isAdaptive?(document.body.appendChild(t),i.i(n.addClass)([t],c._79)):this.parent.element.appendChild(t),this.morePopup=new r.Popup(t,{targetType:this.parent.isAdaptive?"container":"relative",enableRtl:this.parent.enableRtl,hideAnimation:{name:"ZoomOut",duration:300},showAnimation:{name:"ZoomIn",duration:300},open:this.morePopupOpen.bind(this),close:this.morePopupClose.bind(this),collision:this.parent.isAdaptive?{X:"fit",Y:"fit"}:this.parent.enableRtl?{X:"flip",Y:"fit"}:{X:"flip",Y:"flip"},viewPortElement:this.parent.isAdaptive?document.body:this.parent.element,zIndex:this.parent.isAdaptive?1002:2});var a=this.morePopup.element.querySelector("."+c._86);this.renderButton("e-round",c.N+" "+c._91,!1,a,this.closeClick),n.EventHandler.add(this.morePopup.element.querySelector("."+c._89),"click",this.navigationClick,this)},e.prototype.renderQuickDialog=function(){var e=[{buttonModel:{cssClass:"e-quick-alertok e-flat",isPrimary:!0},click:this.dialogButtonClick.bind(this)},{buttonModel:{cssClass:"e-quick-alertcancel e-flat",isPrimary:!1},click:this.dialogButtonClick.bind(this)},{buttonModel:{cssClass:"e-quick-dialog-cancel e-disable e-flat",isPrimary:!1},click:this.dialogButtonClick.bind(this)}];if(this.parent.eventSettings.editFollowingEvents){var t={buttonModel:{cssClass:"e-quick-alertfollowing e-flat",isPrimary:!1},click:this.dialogButtonClick.bind(this)};e.splice(1,0,t)}this.quickDialog=new r.Dialog({animationSettings:{effect:"Zoom"},buttons:e,cssClass:c._92,closeOnEscape:!0,enableRtl:this.parent.enableRtl,enableHtmlSanitizer:this.parent.enableHtmlSanitizer,beforeClose:this.beforeQuickDialogClose.bind(this),isModal:!0,position:{X:"center",Y:"center"},showCloseIcon:!0,target:document.body,visible:!1,width:"auto"});var a=i.i(n.createElement)("div",{id:this.parent.element.id+"QuickDialog"});this.parent.element.appendChild(a),this.quickDialog.appendTo(a);var s=this.quickDialog.element.querySelector("."+c._93);s&&(s.setAttribute("aria-label",this.l10n.getConstant("occurrence")),s.setAttribute("aria-label",s.innerHTML));var o=this.quickDialog.element.querySelector("."+c._94);o&&(o.setAttribute("aria-label",this.l10n.getConstant("series")),o.setAttribute("aria-label",o.innerHTML)),this.quickDialog.element.querySelector(".e-dlg-closeicon-btn")&&this.quickDialog.element.querySelector(".e-dlg-closeicon-btn").setAttribute("title",this.l10n.getConstant("close"))},e.prototype.renderButton=function(e,t,r,s,o){new a.Button({cssClass:e,disabled:r,enableRtl:this.parent.enableRtl,enableHtmlSanitizer:this.parent.enableHtmlSanitizer,iconCss:t}).appendTo(s),n.EventHandler.add(s,"click",o,this),i.i(n.removeClass)([s],c.N)},e.prototype.quickDialogClass=function(e){var t=[c._95,c._96,c._97,c._98,c._99,c.J],r=this.quickDialog.element.querySelector("."+c._93),a=this.quickDialog.element.querySelector("."+c._94),s=this.quickDialog.element.querySelector("."+c._100);switch(i.i(n.removeClass)([r,a],t),i.i(n.addClass)([this.quickDialog.element.querySelector("."+c._98)],c.J),this.parent.eventSettings.editFollowingEvents&&(i.i(n.addClass)([s],c.J),i.i(n.removeClass)([this.quickDialog.element],c._101)),e){case"Recurrence":i.i(n.addClass)([r],c._95),i.i(n.addClass)([a],c._96),this.parent.eventSettings.editFollowingEvents&&(i.i(n.removeClass)([s],c.J),i.i(n.addClass)([this.quickDialog.element],c._101),i.i(n.addClass)([s],c._102));break;case"Delete":i.i(n.addClass)([r],c._97),i.i(n.addClass)([a],c._98);break;case"Alert":i.i(n.addClass)([r],[c._93,c._99]),i.i(n.addClass)([a],[c._94,c.J])}},e.prototype.applyFormValidation=function(){var e=this.quickPopup.element.querySelector("."+c._103),t={};t[this.parent.eventSettings.fields.subject.name]=this.parent.eventSettings.fields.subject.validation,this.fieldValidator.renderFormValidator(e,t,this.quickPopup.element,this.parent.locale)},e.prototype.openRecurrenceAlert=function(){var e=this.quickDialog.element.querySelector("."+c._93);e&&(e.innerHTML=this.l10n.getConstant("Delete"===this.parent.currentAction?"deleteEvent":"editEvent"),e.setAttribute("aria-label",e.innerHTML));var t=this.quickDialog.element.querySelector("."+c._100);t&&(t.innerHTML=this.l10n.getConstant("editFollowingEvent"),t.setAttribute("aria-label",t.innerHTML));var r=this.quickDialog.element.querySelector("."+c._94);r&&(r.innerHTML=this.l10n.getConstant("Delete"===this.parent.currentAction?"deleteSeries":"editSeries"),r.setAttribute("aria-label",r.innerHTML)),this.quickDialog.content=this.l10n.getConstant("editContent"),this.quickDialog.header=this.l10n.getConstant("Delete"===this.parent.currentAction?"deleteTitle":"editTitle"),this.quickDialogClass("Recurrence");var a=this.parent.activeEventData.event;if(this.parent.eventSettings.editFollowingEvents&&"EditOccurrence"===this.parent.currentAction&&!i.i(n.isNullOrUndefined)(a[this.parent.eventFields.recurrenceID])&&a[this.parent.eventFields.recurrenceID]!==a[this.parent.eventFields.id]){var s=this.quickDialog.element.querySelector("."+c._100);i.i(n.addClass)([s],c.J)}this.showQuickDialog("RecurrenceAlert")},e.prototype.openRecurrenceValidationAlert=function(e){this.quickDialogClass("Alert");var t=this.quickDialog.element.querySelector("."+c._93);t.innerHTML=this.l10n.getConstant("ok"),t.setAttribute("aria-label",t.innerHTML);var r=this.quickDialog.element.querySelector("."+c._94);r.innerHTML=this.l10n.getConstant("cancel"),r.setAttribute("aria-label",r.innerHTML),this.quickDialog.header=this.l10n.getConstant("alert");var a;switch(e){case"wrongPattern":i.i(n.addClass)([r],c.J),this.quickDialog.content=this.l10n.getConstant("wrongPattern");break;case"createError":i.i(n.addClass)([r],c.J),this.quickDialog.content=this.l10n.getConstant("createError");break;case"sameDayAlert":i.i(n.addClass)([r],c.J),this.quickDialog.content=this.l10n.getConstant("sameDayAlert");break;case"seriesChangeAlert":a=this.quickDialog.element.querySelector("."+c._98),i.i(n.removeClass)([r,a],c.J),this.quickDialog.content=this.l10n.getConstant("seriesChangeAlert"),t.innerHTML=this.l10n.getConstant("yes"),r.innerHTML=this.l10n.getConstant("no"),a.innerHTML=this.l10n.getConstant("cancel");break;case"occurrenceAlert":i.i(n.addClass)([r],c.J),this.quickDialog.content=this.l10n.getConstant("occurenceAlert")}(!this.parent.enableRecurrenceValidation&&"wrongPattern"===e||this.parent.enableRecurrenceValidation)&&this.showQuickDialog("RecurrenceValidationAlert")},e.prototype.openDeleteAlert=function(){if(!this.parent.activeViewOptions.readonly){var e=this.quickDialog.element.querySelector("."+c._93);e&&(e.innerHTML=this.l10n.getConstant("delete"),e.setAttribute("aria-label",e.innerHTML));var t=this.quickDialog.element.querySelector("."+c._94);t&&(t.innerHTML=this.l10n.getConstant("cancel"),t.setAttribute("aria-label",t.innerHTML)),this.quickDialog.content=this.parent.activeEventData.event.length>1?this.l10n.getConstant("deleteMultipleContent"):this.l10n.getConstant("deleteContent"),this.quickDialog.header=this.parent.activeEventData.event.length>1?this.l10n.getConstant("deleteMultipleEvent"):this.l10n.getConstant("deleteEvent"),this.quickDialogClass("Delete"),this.showQuickDialog("DeleteAlert")}},e.prototype.openValidationError=function(e,t){this.quickDialog.header=this.l10n.getConstant("alert"),this.quickDialog.content=this.l10n.getConstant(e);var i=this.quickDialog.element.querySelector("."+c._93);i&&(i.innerHTML=this.l10n.getConstant("ok"),i.setAttribute("aria-label",i.innerHTML));var n=this.quickDialog.element.querySelector("."+c._94);n&&(n.innerHTML=this.l10n.getConstant("cancel"),i.setAttribute("aria-label",n.innerHTML)),this.quickDialogClass("Alert"),this.showQuickDialog("ValidationAlert",t)},e.prototype.showQuickDialog=function(e,t){var r=this;this.quickDialog.dataBind();var a={type:e,cancel:!1,element:this.quickDialog.element,data:i.i(n.extend)({},t||this.parent.activeEventData.event,null,!0)};this.parent.trigger(l.o,a,function(e){e.cancel||r.quickDialog.show()})},e.prototype.createMoreEventList=function(e,t,r){var a=this,s=this.parent.eventFields,o=i.i(n.createElement)("div",{className:c._104}),p=i.i(n.createElement)("div",{className:c._105});if(0===e.length)p=i.i(n.createElement)("div",{className:c._104,innerHTML:this.l10n.getConstant("emptyContainer")});else for(var d=this,h=0,u=e;h<u.length;h++){var g=u[h];!function(e){var o=e[s.subject]||d.parent.eventSettings.fields.subject.default||d.parent.localeObj.getConstant("addTitle"),h=i.i(n.createElement)("div",{className:c.D,attrs:{"data-id":""+e[s.id],"data-guid":e.Guid,role:"button",tabindex:"0","aria-disabled":d.parent.eventBase.getReadonlyAttribute(e),"aria-label":d.parent.getAnnouncementString(e)}}),u=void 0;if(i.i(n.isNullOrUndefined)(d.parent.activeViewOptions.eventTemplate))h.appendChild(i.i(n.createElement)("div",{className:c.H})),d.parent.sanitize(o,h.firstElementChild);else{var g=d.parent.element.id+"_"+d.parent.activeViewOptions.eventTemplateName+"eventTemplate";u=d.parent.getAppointmentTemplate()(e,d.parent,"eventTemplate",g,!1),i.i(n.append)(u,h)}if(i.i(n.isNullOrUndefined)(r)||h.setAttribute("data-group-index",r),!i.i(n.isNullOrUndefined)(e[s.recurrenceRule])){var v=e[s.id]===e[s.recurrenceID]?c.L:c.M;h.appendChild(i.i(n.createElement)("div",{className:c.N+" "+v}))}var f={data:i.i(n.extend)({},e,null,!0),element:h,cancel:!1};d.parent.trigger(l.l,f,function(i){if(!i.cancel){p.appendChild(h);var n=a.parent.isAdaptive||"Year"===a.parent.currentView;a.parent.eventBase.wireAppointmentEvents(h,e,n),a.parent.eventBase.applyResourceColor(h,e,"backgroundColor",t)}})}(g)}return o.appendChild(p),o},e.prototype.tapHoldEventPopup=function(e){var t=i.i(n.closest)(e.target,"."+c.D);this.isMultipleEventSelect=!1,this.parent.selectedElements=[],this.isMultipleEventSelect=!0,this.parent.eventBase.getSelectedEventElements(t),this.parent.activeEventData=this.parent.eventBase.getSelectedEvents();var r=t.getAttribute("data-guid"),a=this.parent.eventBase.getEventByGuid(r);if(!i.i(n.isNullOrUndefined)(a)){var s=a[this.parent.eventFields.subject]||this.l10n.getConstant("noTitle"),o='<div class="'+c._106+'"><div class="'+c._107+'"><button class="'+c._108+'" title="'+this.l10n.getConstant("close")+'"></button><div class="'+c.H+'">'+s+'</div><button class="'+c._109+'" title="'+this.l10n.getConstant("edit")+'"></button><button class="'+c._110+'" title="'+this.l10n.getConstant("delete")+'"></button></div></div>';this.quickPopup.element.innerHTML=o;var l=this.quickPopup.element.querySelector("."+c._108);this.renderButton("e-flat e-round e-small",c.N+" "+c._91,!1,l,this.closeClick);var p=this.parent.activeViewOptions.readonly||a[this.parent.eventFields.isReadonly],d=!this.parent.eventSettings.allowEditing||p,h=!this.parent.eventSettings.allowDeleting||p,u=this.quickPopup.element.querySelector("."+c._109);u&&this.renderButton("e-flat e-round e-small",c.N+" "+c._111,d,u,this.editClick);var g=this.quickPopup.element.querySelector("."+c._110);g&&this.renderButton("e-flat e-round e-small",c.N+" "+c._112,h,g,this.deleteClick),this.beforeQuickPopupOpen(t,this.parent.eventBase.getPageCoordinates(e))}},e.prototype.isCellBlocked=function(e){var t={};if(t[this.parent.eventFields.startTime]=this.parent.activeCellsData.startTime,t[this.parent.eventFields.endTime]=this.parent.activeCellsData.endTime,t[this.parent.eventFields.isAllDay]=this.parent.activeCellsData.isAllDay,this.parent.activeViewOptions.group.resources.length>0){var i=e.element instanceof Array?e.element[0]:e.element,n=parseInt(i.getAttribute("data-group-index"),10);this.parent.resourceBase.setResourceValues(t,isNaN(n)?null:n)}return this.parent.eventBase.isBlockRange(t)},e.prototype.cellClick=function(e){var t=new Date(e.startTime.getTime());if(!this.parent.showQuickInfo||!this.parent.eventSettings.allowAdding||"MonthAgenda"===this.parent.currentView||this.isCellBlocked(e)||!this.parent.isMinMaxDate(new Date(t.setHours(0,0,0,0))))return void this.quickPopupHide();var r=i.i(n.isNullOrUndefined)(e.event)?e.element:e.event.target;if(this.parent.isAdaptive){this.quickPopupHide();var a=this.parent.element.querySelector("."+c._81);i.i(n.isNullOrUndefined)(a)&&(a=i.i(n.createElement)("div",{className:c._81,innerHTML:'<div class="e-title">+ '+this.l10n.getConstant("newEvent")+"</div>"}));var o=i.i(n.closest)(r,"."+c.n+",."+c._4);return void(o&&o.appendChild(a))}var l=i.i(n.closest)(r,"."+c.n+",."+c._4+",."+c.e);if(!i.i(n.isNullOrUndefined)(l)&&!r.classList.contains(c.z)){if(this.quickPopup.relateTo===l&&this.quickPopup.element.classList.contains(c.T)){var p=this.quickPopup.element.querySelector("."+c.H);return void(p&&p.focus())}this.quickPopup.element&&this.destroyPopupButtons("quickPopup");var d={};d[this.parent.eventFields.startTime]=this.parent.activeCellsData.startTime,d[this.parent.eventFields.endTime]=this.parent.activeCellsData.endTime,d[this.parent.eventFields.isAllDay]=this.parent.activeCellsData.isAllDay;var h=i.i(n.createElement)("div",{className:c._113});h.appendChild(this.getPopupHeader("Cell",d)),h.appendChild(this.getPopupContent("Cell",e,d)),h.appendChild(this.getPopupFooter("Cell",d));var u=h.querySelector("."+c.H);u&&s.Input.createInput({element:u,properties:{placeholder:this.l10n.getConstant("addTitle")}}),i.i(n.isNullOrUndefined)(this.parent.eventSettings.fields.subject.default)||(u.value=this.parent.eventSettings.fields.subject.default);var g=h.querySelector("."+c._108);g&&this.renderButton("e-flat e-round e-small",c.N+" "+c._91,!1,g,this.popupClose);var v=h.querySelector("."+c._114);v&&this.renderButton("e-flat","",!1,v,this.detailsClick);var f=h.querySelector("."+c._115);f&&this.renderButton("e-flat e-primary","",this.parent.activeViewOptions.readonly,f,this.saveClick),this.morePopup&&this.morePopup.hide(),this.quickPopup.content=h,this.quickPopup.relateTo=l,this.quickPopup.dataBind(),this.beforeQuickPopupOpen(l,this.parent.eventBase.getPageCoordinates(e.event))}},e.prototype.isSameEventClick=function(e){if(this.quickPopup.relateTo===i.i(n.closest)(e.element,"."+c.D)&&this.quickPopup.element.classList.contains(c.T)){var t=this.quickPopup.element.querySelector("."+c._109);if(t&&t.focus(),!this.parent.isAdaptive){var r=this.quickPopup.element.querySelector("."+c._116);r&&r.focus()}return!0}return!1},e.prototype.isQuickTemplate=function(e){return"Both"===this.parent.quickInfoTemplates.templateType||this.parent.quickInfoTemplates.templateType===e},e.prototype.eventClick=function(e){if(this.parent.eventTooltip&&this.parent.eventTooltip.close(),this.parent.showQuickInfo)if(this.parent.isAdaptive&&this.isMultipleEventSelect)this.updateTapHoldEventPopup(i.i(n.closest)(e.element,"."+c.D));else{var t=this.isSameEventClick(e);if(this.parent.selectedElements=[],t)return;this.quickPopup.element&&this.destroyPopupButtons("quickPopup");var r=e.event,a=i.i(n.createElement)("div",{className:c._117});a.appendChild(this.getPopupHeader("Event",r)),a.appendChild(this.getPopupContent("Event",e,r)),a.appendChild(this.getPopupFooter("Event",r));var s=this.parent.activeViewOptions.readonly||r[this.parent.eventFields.isReadonly],o=!this.parent.eventSettings.allowEditing||s,l=!this.parent.eventSettings.allowDeleting||s,p=a.querySelector("."+c._109),d="e-flat e-round e-small";p&&this.renderButton(d,c.N+" "+c._111,o,p,this.editClick);var h=a.querySelector("."+c._110);h&&this.renderButton(d,c.N+" "+c._112,l,h,this.deleteClick);var u=a.querySelector("."+c._108);u&&this.renderButton(d,c.N+" "+c._91,!1,u,this.popupClose);var g=a.querySelector("."+c._116);g&&this.renderButton("e-flat e-primary","",o,g,this.editClick);var v=a.querySelector("."+c._118);v&&this.renderButton("e-flat","",l,v,this.deleteClick),this.morePopup&&!i.i(n.closest)(e.element,"."+c._105)&&this.morePopup.hide(),this.quickPopup.content=a,this.quickPopup.relateTo=this.parent.isAdaptive?document.body:i.i(n.closest)(e.element,"."+c.D),this.quickPopup.dataBind(),this.beforeQuickPopupOpen(e.element,this.parent.eventBase.getPageCoordinates(e.originalEvent))}},e.prototype.getPopupHeader=function(e,t){var r=i.i(n.createElement)("div",{className:c._107});if(this.isQuickTemplate(e)&&this.parent.quickInfoTemplates.header){var a=i.i(n.extend)({},t,{elementType:e.toLowerCase()},!0),s=this.parent.element.id,o=[].slice.call(this.parent.getQuickInfoTemplatesHeader()(a,this.parent,"header",s+"_headerTemplate",!1));i.i(n.append)([].slice.call(o),r)}else{var l=void 0,p=void 0;switch(e){case"Cell":l='<div class="'+c._119+'"><button class="'+c._108+'" title="'+this.l10n.getConstant("close")+'"></button></div>';break;case"Event":p=this.getFormattedString(t),l='<div class="'+c._119+'"><button class="'+c._109+" "+c.N+'" title="'+this.l10n.getConstant("edit")+'"></button><button class="'+c._110+" "+c.N+'" title="'+this.l10n.getConstant("delete")+'"></button><button class="'+c._108+'" title="'+this.l10n.getConstant("close")+'"></button></div><div class="'+c._43+'"><div class="'+c.H+" "+c._59+'" title="'+(p.eventSubject?p.eventSubject.replaceAll('"',"'"):p.eventSubject)+'"></div></div >'}var d=i.i(n.createElement)("div",{innerHTML:l});if("Event"===e){var h=d.querySelector("."+c.H);this.parent.sanitize(p.eventSubject,h)}i.i(n.append)([].slice.call(d.childNodes),r)}return r},e.prototype.getPopupContent=function(e,t,r){var a=i.i(n.createElement)("div",{className:c._120});if(this.isQuickTemplate(e)&&this.parent.quickInfoTemplates.content){var s=i.i(n.extend)({},r,{elementType:e.toLowerCase()},!0),o=this.parent.element.id,l=[].slice.call(this.parent.getQuickInfoTemplatesContent()(s,this.parent,"content",o+"_contentTemplate",!1));i.i(n.append)([].slice.call(l),a)}else{var p=void 0,d=void 0,h=void 0,u=this.getResourceText(t,e.toLowerCase());switch(e){case"Cell":d=this.getFormattedString(r),p='<table class="'+c._121+'"><tbody><tr><td><form class="'+c._103+'" onsubmit="return false;"><input class="'+c.H+' e-field" type="text" name="'+this.parent.eventFields.subject+'" /></form></td></tr><tr><td><div class="'+c._44+'"><div class="'+c._122+" "+c.N+'"></div><div class="'+c._123+" "+c._59+'">'+d.details+"</div></div>"+(this.parent.activeViewOptions.group.resources.length>0?'<div class="'+c._124+'"><div class="'+c._125+" "+c.N+' "></div><div class="'+c._126+" "+c._59+'"></div></div>':"")+"</td></tr></tbody></table>";break;case"Event":h=this.getFormattedString(r),p='<div class="'+c._44+'"><div class="'+c._122+" "+c.N+'"></div><div class="'+c._127+" "+c._59+'"><div class="'+c._123+" "+c._59+'">'+h.details+"</div>",r[this.parent.eventFields.recurrenceRule]&&(p+='<div class="'+c._128+" "+c._59+'">'+this.getRecurrenceSummary(r)+"</div>"),p+="</div></div>",r[this.parent.eventFields.location]&&(p+='<div class="'+c.K+'"><div class="'+c._129+" "+c.N+'"></div><div class="'+c._130+" "+c._59+'"></div></div>'),(r[this.parent.eventFields.startTimezone]||r[this.parent.eventFields.endTimezone])&&(p+='<div class="'+c._131+'"><div class="'+c._132+" "+c.N+'"></div><div class="'+c._133+" "+c._59+'">'+this.getTimezone(r)+"</div></div>"),r[this.parent.eventFields.description]&&(p+='<div class="'+c._134+'"><div class="'+c._135+" "+c.N+'"></div><div class="'+c._136+" "+c._59+'"></div></div>'),this.parent.resourceCollection.length>0&&(p+='<div class="'+c._124+'"><div class="'+c._125+" "+c.N+'"></div><div class="'+c._126+" "+c._59+'"></div></div>')}var g=i.i(n.createElement)("div",{innerHTML:p});if(r[this.parent.eventFields.location]){var v=g.querySelector("."+c._130);i.i(n.isNullOrUndefined)(v)||this.parent.sanitize(r[this.parent.eventFields.location],v)}if(r[this.parent.eventFields.description]){var f=g.querySelector("."+c._136);i.i(n.isNullOrUndefined)(f)||this.parent.sanitize(r[this.parent.eventFields.description],f)}if(u){var m=g.querySelector("."+c._126);i.i(n.isNullOrUndefined)(m)||this.parent.sanitize(u,m)}i.i(n.append)([].slice.call(g.childNodes),a)}return a},e.prototype.getPopupFooter=function(e,t){var r=i.i(n.createElement)("div",{className:c._137});if(this.isQuickTemplate(e)&&this.parent.quickInfoTemplates.footer){var a=i.i(n.extend)({},t,{elementType:e.toLowerCase()},!0),s=this.parent.element.id,o=[].slice.call(this.parent.getQuickInfoTemplatesFooter()(a,this.parent,"footer",s+"_footerTemplate",!1));i.i(n.append)([].slice.call(o),r)}else{var l=void 0;switch(e){case"Cell":l='<button class="'+c._114+" "+c._59+'" title="'+this.l10n.getConstant("moreDetails")+'">'+this.l10n.getConstant("moreDetails")+'</button><button class="'+c._115+" "+c._59+'" title="'+this.l10n.getConstant("save")+'">'+this.l10n.getConstant("save")+"</button>";break;case"Event":l=this.parent.isAdaptive?"":'<button class="'+c._116+" "+c._59+'" title="'+this.l10n.getConstant("edit")+'">'+this.l10n.getConstant("edit")+'</button><button class="'+c._118+" "+c._59+'" title="'+this.l10n.getConstant("delete")+'">'+this.l10n.getConstant("delete")+"</button>"}var p=i.i(n.createElement)("div",{innerHTML:l});i.i(n.append)([].slice.call(p.childNodes),r)}return r},e.prototype.getResourceText=function(e,t){if(0===this.parent.resourceCollection.length)return null;var r="";if(0===this.parent.activeViewOptions.group.resources.length){var a=this.parent.resourceBase.resourceCollection.slice(-1)[0],s=a.dataSource;if("event"===t)for(var o=e.event,l=0,c=s;l<c.length;l++){var d=c[l];!function(e){var t=o[a.field];if(t instanceof Array){if(t.indexOf(e[a.idField])>-1){var i=t[t.indexOf(e[a.idField])],n=s.filter(function(e){return e[a.idField]===i})[0];r+=""===r?n[a.textField]:", "+n[a.textField]}}else e[a.idField]===t&&(r=e[a.textField].toString())}(d)}else r=s[0][a.textField].toString()}else if("event"===t){for(var h,o=e.event,s=void 0,u=this.parent.resourceBase.resourceCollection.length-1;u>=0;u--)if(s=o[this.parent.resourceBase.resourceCollection[parseInt(u.toString(),10)].field],!i.i(n.isNullOrUndefined)(s)){h=this.parent.resourceBase.resourceCollection[parseInt(u.toString(),10)];break}Array.isArray(s)||(s=[s]);var g=[],v=h.dataSource;s.forEach(function(e){var t,i=p.B(v,h.idField,e);i>-1&&(t=v[parseInt(i.toString(),10)][h.textField]),t&&g.push(t)}),r=g.join(", ")}else{var f=e,m=i.i(n.isNullOrUndefined)(f.groupIndex)?0:f.groupIndex,y=this.parent.resourceBase.lastResourceLevel[parseInt(m.toString(),10)];r=y.resourceData[y.resource.textField]}return r},e.prototype.getFormattedString=function(e){var t=this.parent.eventFields,i=e[t.subject]||this.l10n.getConstant("noTitle"),n=e[t.startTime],r=e[t.endTime],a=this.getDateFormat(n,"long"),s=e[t.isAllDay]&&0===r.getHours()&&0===r.getMinutes()?this.getDateFormat(p.d(new Date(r.getTime()),-1),"long"):this.getDateFormat(r,"long"),o=this.parent.getTimeString(n),l=this.parent.getTimeString(r),c="",d=r.getDate()!==n.getDate()&&(r.getTime()-n.getTime())/36e5<24?1:0;return e[t.isAllDay]?(c=a+" ("+this.l10n.getConstant("allDay")+")",(p.F(r)-p.F(n))/p.c>1&&(c+="&nbsp;-&nbsp;"+s+" ("+this.l10n.getConstant("allDay")+")")):c=(p.F(r)-p.F(n))/p.c>=1||d>0?a+" ("+o+")&nbsp;-&nbsp;"+s+" ("+l+")":a+" ("+o+"&nbsp;-&nbsp;"+l+")",{eventSubject:i,details:c}},e.prototype.moreEventClick=function(e,t,r){var a=this;this.quickPopupHide(!0);var s=this.morePopup.element.querySelector("."+c._104);s&&i.i(n.remove)(s);var o=e.date.getTime().toString(),d=i.i(n.closest)(e.element,"."+c.z+",."+c.n),h=this.parent.globalize.formatDate(e.date,{format:"E",calendar:this.parent.getCalendarMode()});this.morePopup.element.querySelector("."+c._88).innerHTML=p.a(h,"single");var u=this.morePopup.element.querySelector("."+c._89);u.innerHTML=this.getDateFormat(e.date,"d"),u.setAttribute("data-date",o),u.setAttribute("data-end-date",t.getTime().toString());var g;i.i(n.isNullOrUndefined)(r)||(u.setAttribute("data-group-index",r),g=this.parent.resourceBase.lastResourceLevel[parseInt(r,10)].groupOrder);var v=this.createMoreEventList(e.event,g,r);if(this.morePopup.element.querySelector("."+c._72).appendChild(v),i.i(n.removeClass)(this.morePopup.element.querySelector("."+c._87).childNodes,c._57),p.b(e.date).getTime()===p.b(this.parent.getCurrentTime()).getTime()&&i.i(n.addClass)(this.morePopup.element.querySelector("."+c._87).childNodes,c._57),!this.parent.isAdaptive)if(-1!==this.parent.currentView.indexOf("Timeline")){var f=d.getAttribute("data-group-index"),m=new Date(parseInt(d.getAttribute("data-start-date"),10));m.setHours(m.getHours(),m.getMinutes(),0);var y=m.getTime().toString();if(i.i(n.isNullOrUndefined)(f))this.morePopup.relateTo=this.parent.element.querySelector("."+c.g+' tbody tr td[data-date="'+y+'"]');else if(this.morePopup.relateTo=this.parent.element.querySelector("."+c.g+' tbody tr td[data-group-index="'+f+'"][data-date="'+y+'"]'),i.i(n.isNullOrUndefined)(this.morePopup.relateTo))for(var T=[].slice.call(this.parent.element.querySelectorAll("."+c.g+' tbody tr td[data-group-index="'+f+'"]')),D=0;D<T.length;D++){var w=T[parseInt(D.toString(),10)].getAttribute("data-date");w<y&&(this.morePopup.relateTo=T[parseInt(D.toString(),10)])}}else this.morePopup.relateTo=i.i(n.closest)(d,"."+c.n);this.parent.renderTemplates(function(){var t={type:"EventContainer",cancel:!1,element:a.morePopup.element,data:e};a.parent.trigger(l.o,t,function(e){e.cancel||a.morePopup.show()})})},e.prototype.saveClick=function(e){this.applyFormValidation(),this.dialogEvent=e,this.isCrudAction=!0,this.quickPopupHide()},e.prototype.detailsClick=function(e){var t=this.quickPopup.element.querySelector("."+c.H);t&&""!==t.value&&i.i(n.extend)(this.parent.activeCellsData,{subject:t.value}),this.dialogEvent=e,this.isCrudAction=!1,this.fieldValidator.destroyToolTip(),this.quickPopupHide(),this.parent.eventWindow.openEditor(this.parent.activeCellsData,"Add")},e.prototype.editClick=function(e){this.dialogEvent=e,this.quickPopupHide(!0);var t=this.parent.activeEventData.event;this.parent.currentAction="EditSeries",i.i(n.isNullOrUndefined)(t[this.parent.eventFields.recurrenceRule])?this.parent.eventWindow.openEditor(t,this.parent.currentAction):(this.parent.currentAction="EditOccurrence",this.openRecurrenceAlert())},e.prototype.deleteClick=function(e){this.dialogEvent=e,this.quickPopupHide(!0),this.parent.currentAction="Delete",this.parent.activeEventData.event[this.parent.eventFields.recurrenceRule]?this.openRecurrenceAlert():this.openDeleteAlert()},e.prototype.updateMoreEventContent=function(){if(!this.morePopup.element.classList.contains("e-popup-close")){var e=this.morePopup.element.querySelector("."+c._104);e&&i.i(n.remove)(e);var t,r,a=this.morePopup.element.querySelector("."+c._89),s=new Date(parseInt(a.getAttribute("data-date"),10)),o=new Date(parseInt(a.getAttribute("data-end-date"),10)),l=a.getAttribute("data-group-index");i.i(n.isNullOrUndefined)(l)||(t=this.parent.resourceBase.lastResourceLevel[parseInt(l,10)],r=t.groupOrder);var p=this.parent.eventBase.filterEvents(s,o,this.parent.eventsProcessed,t),d=this.createMoreEventList(p,r,l);this.morePopup.element.querySelector("."+c._72).appendChild(d)}},e.prototype.closeClick=function(e){this.dialogEvent=e,"Year"===this.parent.currentView&&this.parent.activeCellsData&&this.parent.activeCellsData.element&&this.parent.selectCell(this.parent.activeCellsData.element),this.quickPopupHide(),this.morePopup.hide()},e.prototype.dialogButtonClick=function(e){this.dialogEvent=e,this.quickDialog.hide();var t=e.target,i=this.quickDialog.element.querySelector("."+c._94),n=this.parent.activeEventData.event;if(t.classList.contains(c._95))switch(this.parent.currentAction="Delete"===this.parent.currentAction?"DeleteOccurrence":"EditOccurrence",this.parent.currentAction){case"EditOccurrence":this.parent.eventWindow.openEditor(n,this.parent.currentAction);break;case"DeleteOccurrence":this.parent.crudModule.deleteEvent(n,this.parent.currentAction)}else if(t.classList.contains(c._102))switch(this.parent.currentAction="Delete"===this.parent.currentAction?"DeleteFollowingEvents":"EditFollowingEvents",this.parent.currentAction){case"EditFollowingEvents":this.parent.eventWindow.openEditor(n,this.parent.currentAction);break;case"DeleteFollowingEvents":this.parent.crudModule.deleteEvent(n,this.parent.currentAction)}else if(t.classList.contains(c._96))switch(this.parent.currentAction="Delete"===this.parent.currentAction?"DeleteSeries":"EditSeries",this.parent.currentAction){case"EditSeries":this.parent.eventWindow.openEditor(this.parent.eventBase.getParentEvent(n,!0),this.parent.currentAction);break;case"DeleteSeries":this.parent.crudModule.deleteEvent(n,this.parent.currentAction)}else t.classList.contains(c._97)?this.parent.crudModule.deleteEvent(n,this.parent.currentAction):!i.classList.contains(c.J)&&(t.classList.contains(c._93)||t.classList.contains(c._94)&&!i.classList.contains(c._98))&&(this.parent.uiStateValues.isIgnoreOccurrence=t.classList.contains(c._94),this.parent.eventWindow.eventSave(e,this.l10n.getConstant("ok")))},e.prototype.updateTapHoldEventPopup=function(e){var t=this.parent.eventBase.getSelectedEventElements(e);if(this.parent.activeEventData=this.parent.eventBase.getSelectedEvents(),t.length>0){var r=this.parent.eventBase.getEventByGuid(t[0].getAttribute("data-guid")),a=1===t.length?r[this.parent.eventFields.subject]||this.l10n.getConstant("noTitle"):"("+t.length+")&nbsp;"+this.l10n.getConstant("selectedItems");this.quickPopup.element.querySelector("."+c.H).innerHTML=a,t.length>1?i.i(n.addClass)([this.quickPopup.element.querySelector("."+c._111)],c._67):i.i(n.removeClass)([this.quickPopup.element.querySelector("."+c._111)],c._67)}else this.parent.selectedElements=[],this.quickPopupHide()},e.prototype.getTimezone=function(e){var t="";return t+=e[this.parent.eventFields.startTimezone]||"",t+=""===t?"":" - ",t+=e[this.parent.eventFields.endTimezone]||""},e.prototype.getRecurrenceSummary=function(e){var t=this.parent.eventWindow.getRecurrenceEditorInstance();if(t){var i=t.getRuleSummary(e[this.parent.eventFields.recurrenceRule]);return i.charAt(0).toUpperCase()+i.slice(1)}return""},e.prototype.getDateFormat=function(e,t){return p.a(this.parent.globalize.formatDate(e,{skeleton:t,calendar:this.parent.getCalendarMode()}),"single")},e.prototype.getDataFromTarget=function(e){if(e.classList.contains(c.D))return this.parent.activeEventData.event;var t={startTime:this.parent.activeCellsData.startTime,endTime:this.parent.activeCellsData.endTime,isAllDay:this.parent.activeCellsData.isAllDay,groupIndex:this.parent.activeCellsData.groupIndex},i=this.parent.activeCellsData;return this.parent.eventWindow.convertToEventData(i,t),t},e.prototype.beforeQuickDialogClose=function(e){var t=this,r={event:e.event||this.dialogEvent,type:i.i(n.isNullOrUndefined)(this.parent.activeEventData.event)?"ValidationAlert":i.i(n.isNullOrUndefined)(this.parent.activeEventData.event[this.parent.eventFields.recurrenceRule])?"DeleteAlert":"RecurrenceAlert",cancel:!1,data:this.parent.activeEventData.event,element:this.quickDialog.element};this.parent.trigger(l.p,r,function(e){e.cancel||t.parent.eventBase.focusElement(!0)})},e.prototype.beforeQuickPopupOpen=function(e,t){var a=this;this.parent.renderTemplates(function(){var s=a.quickPopup.element.querySelector("."+c._117),o=a.parent.isAdaptive?s?"ViewEventInfo":"EditEventInfo":"QuickInfo",d={type:o,cancel:!1,data:i.i(n.extend)({},a.getDataFromTarget(e),null,!0),target:e,element:a.quickPopup.element};a.parent.trigger(l.o,d,function(l){if(l.cancel)a.quickPopupHide(),a.destroyPopupButtons("quickPopup"),l.element.classList.contains(c.T)&&a.quickPopupClose(),p.D(a.quickPopup.element),a.isMultipleEventSelect=!1;else{var d=a.quickPopup.element.style.display;if(a.quickPopup.element.style.display="block",a.parent.isAdaptive)a.quickPopup.element.removeAttribute("style"),a.quickPopup.element.style.display="block",a.quickPopup.element.style.height=i.i(n.formatUnit)("EditEventInfo"===o?65:window.innerHeight);else{var h=a.parent.virtualScrollModule&&a.parent.virtualScrollModule.isHorizontalScroll&&!i.i(n.isNullOrUndefined)(i.i(n.closest)(e,"."+c.h)),u=a.parent.element.querySelector("."+c.g+" table");a.quickPopup.offsetX=h&&!a.parent.enableRtl?p.k(u)+10:10,a.quickPopup.offsetY=a.parent.virtualScrollModule&&!a.parent.virtualScrollModule.isHorizontalScroll?a.quickPopup.offsetY:0,a.quickPopup.collision={X:a.parent.enableRtl?"flip":"none",Y:"fit"},a.quickPopup.position={X:a.parent.enableRtl?"left":"right",Y:a.parent.enableRtl?"bottom":"top"},a.quickPopup.dataBind(),a.quickPopup.refreshPosition(null,!0);var g=i.i(r.isCollide)(a.quickPopup.element,a.parent.element);if(g.indexOf(a.parent.enableRtl?"left":"right")>-1){a.quickPopup.offsetX=-e.offsetWidth-10-a.quickPopup.element.offsetWidth,h&&!a.parent.enableRtl&&(a.quickPopup.offsetX=p.k(u)+a.quickPopup.offsetX),a.quickPopup.dataBind(),a.quickPopup.refreshPosition(null,!0);i.i(r.isCollide)(a.quickPopup.element,a.parent.element).indexOf("left")>-1&&(a.quickPopup.position={X:"center",Y:"center"},a.quickPopup.collision={X:"fit",Y:"fit"},a.quickPopup.offsetX=-a.quickPopup.element.offsetWidth/2,a.quickPopup.dataBind())}if(a.parent.virtualScrollModule&&!a.parent.virtualScrollModule.isHorizontalScroll&&(g.indexOf("top")>-1||g.indexOf("bottom")>-1)){var v=p.j(u);a.quickPopup.offsetY=v,a.quickPopup.dataBind(),a.quickPopup.refreshPosition(null,!0)}if("center"===a.quickPopup.position.X&&"center"===a.quickPopup.position.Y&&!i.i(n.isNullOrUndefined)(t)&&t.clientX&&t.clientY){var f=t.clientX,m=t.clientY,y=e.getBoundingClientRect(),T=t.offsetY||Math.ceil(m-y.y),D=a.quickPopup.offsetY,w=i.i(r.isCollide)(a.quickPopup.element,e),b=a.quickPopup.element.getBoundingClientRect(),C=document.elementFromPoint(f,m);(w.indexOf("top")>-1||w.indexOf("bottom")>-1||i.i(n.closest)(C,"."+c._84))&&(b.top<=m&&m<=b.top+b.height?(a.quickPopup.offsetY=D-b.height-10,a.quickPopup.dataBind(),w=i.i(r.isCollide)(a.quickPopup.element,a.parent.element),w.indexOf("top")>-1&&(a.quickPopup.offsetY=D+T+10,a.quickPopup.dataBind())):i.i(r.isCollide)(a.quickPopup.element,a.parent.element).indexOf("bottom")>-1&&(a.quickPopup.offsetY=D-T-Math.ceil(b.height)-10,a.quickPopup.dataBind()))}}s&&a.applyEventColor(),a.quickPopup.element.style.display=d,a.quickPopup.dataBind(),a.quickPopup.show()}})})},e.prototype.applyEventColor=function(){var e="";e="Agenda"===this.parent.currentView||"MonthAgenda"===this.parent.currentView?this.parent.enableRtl?"border-right-color":"border-left-color":"background-color";var t=this.parent.activeEventData.element.style[e];if(""!==t){var i=this.quickPopup.element.querySelector("."+c._107),n=this.quickPopup.element.querySelector("."+c._137);n&&n.offsetParent&&(i=this.quickPopup.element.querySelector("."+c.H))&&(i.style.borderLeftColor=t,t="rgba("+t.match(/\d+/g).join()+",0.3)"),i&&(i.style.backgroundColor=t)}},e.prototype.quickPopupOpen=function(){if(this.parent.isAdaptive)return void(this.quickPopup.element.style.top="0px");if(this.quickPopup.element.querySelector("."+c._113)){var e=this.quickPopup.element.querySelector("."+c.H);e&&e.focus()}else{var t=this.quickPopup.element.querySelector("."+c._116);t&&t.focus();var i=this.quickPopup.element.querySelector("."+c._109);i&&i.focus()}},e.prototype.quickPopupClose=function(){this.parent.eventBase.focusElement(),this.quickPopup.relateTo="."+c.n,this.fieldValidator.destroyToolTip(),this.quickPopup.element.querySelectorAll(".e-formvalidator").length&&this.fieldValidator.destroy(),this.destroyPopupButtons("quickPopup"),p.D(this.quickPopup.element)},e.prototype.morePopupOpen=function(){if(this.parent.isAdaptive)return this.morePopup.element.style.top="0px",this.morePopup.element.style.left="0px",void(this.morePopup.element.style.height=i.i(n.formatUnit)(window.innerHeight));this.morePopup.element.querySelector("."+c._89).focus(),this.morePopup.refreshPosition()},e.prototype.morePopupClose=function(){var e=this.parent.element.querySelector("."+c._105);e&&i.i(n.remove)(e)},e.prototype.popupClose=function(e){this.dialogEvent=e,this.isCrudAction=!1,this.quickPopupHide(!0)},e.prototype.quickPopupHide=function(e){var t=this;if(this.quickPopup.element.classList.contains(c.T)){var i,n=this.quickPopup.element.querySelector("."+c._113);if(n){var r=this.quickPopup.element.querySelector(".e-formvalidator");if(this.isCrudAction&&r&&!r.ej2_instances[0].validate())return;var a=this.parent.eventFields,s=this.parent.eventWindow.getObjectFromFormData(c._84);this.parent.eventWindow.setDefaultValueToObject(s),s[a.id]=this.parent.eventBase.getEventMaxID(),s[a.startTime]=this.parent.activeCellsData.startTime,s[a.endTime]=this.parent.activeCellsData.endTime,s[a.isAllDay]=this.parent.activeCellsData.isAllDay,this.parent.resourceBase&&this.parent.resourceBase.setResourceValues(s),i=s}else i=this.parent.activeEventData.event;var o=this.quickPopup.element.querySelector("."+c._117),p={event:this.dialogEvent,type:this.parent.isAdaptive?o?"ViewEventInfo":"EditEventInfo":"QuickInfo",cancel:!1,data:i,element:this.quickPopup.element,target:n?this.parent.activeCellsData.element:this.parent.activeEventData.element};this.parent.trigger(l.p,p,function(i){if(!i.cancel&&t.quickPopup.element.classList.contains("e-popup-open")){if(n&&t.isCrudAction&&(t.parent.currentAction="Add",t.parent.crudModule.addEvent(i.data)),e){var r=t.quickPopup.hideAnimation;t.quickPopup.hideAnimation=null,t.quickPopup.hide(),t.quickPopup.hideAnimation=r}else t.quickPopup.hide();t.isMultipleEventSelect=!1,t.isCrudAction=!1}})}},e.prototype.navigationClick=function(e){var t=i.i(n.closest)(e.target,"."+c.p);if(!i.i(n.isNullOrUndefined)(t)){var r=this.parent.getDateFromElement(e.currentTarget);i.i(n.isNullOrUndefined)(r)||(this.closeClick(e),this.parent.setProperties({selectedDate:r},!0),this.parent.changeView(this.parent.getNavigateView(),e))}},e.prototype.documentClick=function(e){var t=e.event.target,r="."+c._84+",."+c.e+",."+c._4+",."+c.n+",."+c.D+",.e-popup",a=this.parent.element.querySelector("."+c._84);(a&&a.childElementCount>0&&!i.i(n.closest)(t,r)||!i.i(n.closest)(t,r))&&(this.quickPopupHide(),this.parent.removeNewEventElement());var s=this.parent.element.querySelector("."+c._1);s&&s!==t&&this.parent.allowInline&&this.parent.inlineModule.documentClick(),i.i(n.closest)(t,"."+c.D+",."+c.e)&&this.parent.removeNewEventElement(),i.i(n.closest)(t,"."+c._90)||!t.classList||t.classList.contains(c.z)||i.i(n.closest)(t,"."+c.T)||i.i(n.closest)(t,"."+c.n)||this.morePopup.hide()},e.prototype.onClosePopup=function(e){i.i(n.isNullOrUndefined)(e)||(this.dialogEvent=e),this.quickPopupHide(),this.parent.eventBase.focusElement()},e.prototype.addEventListener=function(){this.parent.on(l.a,this.cellClick,this),this.parent.on(l.k,this.eventClick,this),this.parent.on(l.I,this.documentClick,this),this.parent.on(l.B,this.updateMoreEventContent,this)},e.prototype.removeEventListener=function(){this.parent.off(l.a,this.cellClick),this.parent.off(l.k,this.eventClick),this.parent.off(l.I,this.documentClick),this.parent.off(l.B,this.updateMoreEventContent)},e.prototype.destroyPopupButtons=function(e){for(var t="quickPopup"===e?this.quickPopup:this.morePopup,i=[].slice.call(t.element.querySelectorAll(".e-control.e-btn")),n=0,r=i;n<r.length;n++){var a=r[n],s=a.ej2_instances[0];s&&s.destroy()}},e.prototype.refreshQuickDialog=function(){this.destroyQuickDialog(),this.renderQuickDialog()},e.prototype.refreshQuickPopup=function(){this.destroyQuickPopup(),this.renderQuickPopup()},e.prototype.refreshMorePopup=function(){this.destroyMorePopup(),this.renderMorePopup()},e.prototype.destroyQuickDialog=function(){this.quickDialog.element&&(this.quickDialog.destroy(),i.i(n.remove)(this.quickDialog.element),this.quickDialog=null)},e.prototype.destroyQuickPopup=function(){this.quickPopup.element&&(this.destroyPopupButtons("quickPopup"),this.quickPopup.destroy(),i.i(n.remove)(this.quickPopup.element),this.quickPopup=null)},e.prototype.destroyMorePopup=function(){this.morePopup.element&&(this.destroyPopupButtons("morePopup"),this.morePopup.destroy(),i.i(n.remove)(this.morePopup.element),this.morePopup=null)},e.prototype.destroy=function(){this.quickPopup.element.querySelectorAll(".e-formvalidator").length&&this.fieldValidator.destroy(),this.removeEventListener(),this.destroyQuickPopup(),this.destroyMorePopup(),this.destroyQuickDialog(),this.dialogEvent=null,this.parent=null,this.l10n=null,this.isCrudAction=null,this.fieldValidator=null,this.isMultipleEventSelect=null},e}()},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(0),r=(i.n(n),i(50)),a=i(26),s=i(3),o=function(){function e(e){this.parent=e}return e.prototype.render=function(e,t){void 0===t&&(t=!0),this.initializeLayout(e),this.parent.activeView&&t&&this.parent.crudModule.refreshDataManager()},e.prototype.initializeLayout=function(e){if(this.parent.activeView){var t=["cellTemplate","eventTemplate","tooltipTemplate","majorSlotTemplate","minorSlotTemplate","headerTooltipTemplate","dateHeaderTemplate","dayHeaderTemplate","monthHeaderTemplate","headerIndentTemplate","resourceHeaderTemplate","cellHeaderTemplate","dateRangeTemplate"];this.parent.resetTemplates(t),this.parent.activeView.removeEventListener(),this.parent.activeView.destroy()}switch(e){case"Day":this.parent.activeView=this.parent.dayModule;break;case"Week":this.parent.activeView=this.parent.weekModule;break;case"WorkWeek":this.parent.activeView=this.parent.workWeekModule;break;case"Month":this.parent.activeView=this.parent.monthModule;break;case"Year":this.parent.activeView=this.parent.yearModule;break;case"Agenda":this.parent.activeView=this.parent.agendaModule;break;case"MonthAgenda":this.parent.activeView=this.parent.monthAgendaModule;break;case"TimelineDay":this.parent.activeView=this.parent.timelineViewsModule,this.parent.activeView.viewClass="e-timeline-day-view";break;case"TimelineWorkWeek":this.parent.activeView=this.parent.timelineViewsModule,this.parent.activeView.viewClass="e-timeline-work-week-view";break;case"TimelineWeek":this.parent.activeView=this.parent.timelineViewsModule,this.parent.activeView.viewClass="e-timeline-week-view";break;case"TimelineMonth":this.parent.activeView=this.parent.timelineMonthModule;break;case"TimelineYear":this.parent.activeView=this.parent.timelineYearModule}if(i.i(n.isNullOrUndefined)(this.parent.activeView)){var o=this.parent.viewCollections[0].option;if(o)return this.parent.setProperties({currentView:o},!0),this.parent.headerModule&&(this.parent.headerModule.updateActiveView(),this.parent.headerModule.setCalendarView()),this.initializeLayout(o);throw Error("Inject required modules")}this.parent.activeView.viewIndex=this.parent.viewIndex,this.updateLabelText(e),this.parent.activeView.addEventListener(),this.parent.activeView.getRenderDates(),this.parent.uiStateValues.isGroupAdaptive=this.parent.activeViewOptions.group.resources.length>0&&(this.parent.enableAdaptiveUI&&!this.parent.isAdaptive||this.parent.isAdaptive&&this.parent.activeViewOptions.group.enableCompactView),this.parent.virtualScrollModule&&(this.parent.virtualScrollModule.destroy(),this.parent.virtualScrollModule=null),(-1===["Agenda","Year"].indexOf(this.parent.currentView)||"TimelineYear"===this.parent.currentView&&"Vertical"===this.parent.activeViewOptions.orientation)&&this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive&&(this.parent.virtualScrollModule=new r.a(this.parent),this.parent.activeView.isTimelineView()?this.parent.uiStateValues.top=0:(this.parent.virtualScrollModule.isHorizontalScroll=!0,this.parent.uiStateValues.left=0)),this.updateHeader(),this.parent.currentTimezoneDate=this.parent.getCurrentTime(),this.parent.activeView.renderLayout(s._164),this.parent.renderTemplates(),this.parent.eventTooltip&&(this.parent.eventTooltip.destroy(),this.parent.eventTooltip=null),(this.parent.eventSettings.enableTooltip||this.parent.activeViewOptions.group.resources.length>0&&this.parent.activeViewOptions.group.headerTooltipTemplate)&&(this.parent.eventTooltip=new a.a(this.parent))},e.prototype.updateHeader=function(){this.parent.headerModule&&(this.parent.headerModule.setDayOfWeek(this.parent.activeViewOptions.firstDayOfWeek),this.parent.activeViewOptions.readonly?i.i(n.addClass)([this.parent.element],s._55):this.parent.element.classList.contains(s._55)&&i.i(n.removeClass)([this.parent.element],s._55),this.parent.headerModule.updateDateRange(),this.parent.headerModule.updateHeaderItems("remove"))},e.prototype.updateLabelText=function(e){var t=this.parent.activeView.getLabelText(e);this.parent.element.setAttribute("role","main"),this.parent.element.setAttribute("aria-label",t)},e}()},function(e,t){e.exports=l},function(e,t){e.exports=c}])});